(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(a,s),a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.has(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.g)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.6.7","app"),r.a.SDK_VERSION="8.6.7"},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Xe}),n.d(e,"b",function(){return Za}),n.d(e,"c",function(){return Wa}),n.d(e,"d",function(){return Ka}),n.d(e,"e",function(){return $a}),n.d(e,"f",function(){return Ku}),n.d(e,"g",function(){return Mu}),n.d(e,"h",function(){return ta}),n.d(e,"i",function(){return lu}),n.d(e,"j",function(){return Cs}),n.d(e,"k",function(){return nu}),n.d(e,"l",function(){return xs}),n.d(e,"m",function(){return cr}),n.d(e,"n",function(){return Aa}),n.d(e,"o",function(){return zi}),n.d(e,"p",function(){return mn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return Ye}),n.d(e,"s",function(){return so}),n.d(e,"t",function(){return $s}),n.d(e,"u",function(){return Qs}),n.d(e,"v",function(){return eu}),n.d(e,"w",function(){return ha}),n.d(e,"x",function(){return Vu}),n.d(e,"y",function(){return la}),n.d(e,"z",function(){return ju}),n.d(e,"A",function(){return du}),n.d(e,"B",function(){return yn}),n.d(e,"C",function(){return Ja}),n.d(e,"D",function(){return Xa}),n.d(e,"E",function(){return js}),n.d(e,"F",function(){return ks}),n.d(e,"G",function(){return pr}),n.d(e,"H",function(){return Ns}),n.d(e,"I",function(){return ir}),n.d(e,"J",function(){return vn}),n.d(e,"K",function(){return qu}),n.d(e,"L",function(){return sa}),n.d(e,"M",function(){return wu}),n.d(e,"N",function(){return Je}),n.d(e,"O",function(){return Rs}),n.d(e,"P",function(){return Ds}),n.d(e,"Q",function(){return da}),n.d(e,"R",function(){return L}),n.d(e,"S",function(){return Pu}),n.d(e,"T",function(){return Au}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return xu}),n.d(e,"W",function(){return zu}),n.d(e,"X",function(){return Su}),n.d(e,"Y",function(){return tu}),n.d(e,"Z",function(){return Ki}),n.d(e,"ab",function(){return hs}),n.d(e,"bb",function(){return v}),n.d(e,"cb",function(){return nr}),n.d(e,"db",function(){return Fn}),n.d(e,"eb",function(){return xn}),n.d(e,"fb",function(){return kn}),n.d(e,"gb",function(){return Dn}),n.d(e,"hb",function(){return Pn}),n.d(e,"ib",function(){return jn}),n.d(e,"jb",function(){return Nn}),n.d(e,"kb",function(){return as}),n.d(e,"lb",function(){return Hu}),n.d(e,"mb",function(){return us}),n.d(e,"nb",function(){return cs}),n.d(e,"ob",function(){return An}),n.d(e,"pb",function(){return B}),n.d(e,"qb",function(){return mo}),n.d(e,"rb",function(){return ko}),n.d(e,"sb",function(){return xo}),n.d(e,"tb",function(){return Ao}),n.d(e,"ub",function(){return ss}),n.d(e,"vb",function(){return Et}),n.d(e,"wb",function(){return f}),n.d(e,"xb",function(){return In}),n.d(e,"yb",function(){return uo}),n.d(e,"zb",function(){return bt}),n.d(e,"Ab",function(){return _s}),n.d(e,"Bb",function(){return Yr}),n.d(e,"Cb",function(){return bo}),n.d(e,"Db",function(){return Ho}),n.d(e,"Eb",function(){return Bo}),n.d(e,"Fb",function(){return Ba}),n.d(e,"Gb",function(){return tt}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return O}),n.d(e,"Jb",function(){return S}),n.d(e,"Kb",function(){return it}),n.d(e,"Lb",function(){return ut}),n.d(e,"Mb",function(){return Oo}),n.d(e,"Nb",function(){return Io}),n.d(e,"Ob",function(){return To}),n.d(e,"Pb",function(){return Eo}),n.d(e,"Qb",function(){return Ke}),n.d(e,"Rb",function(){return ns}),n.d(e,"Sb",function(){return dn}),n.d(e,"Tb",function(){return We}),n.d(e,"Ub",function(){return Ga}),n.d(e,"Vb",function(){return jo}),n.d(e,"Wb",function(){return Ha}),n.d(e,"Xb",function(){return So}),n.d(e,"Yb",function(){return Do}),n.d(e,"Zb",function(){return qa}),n.d(e,"ac",function(){return fr}),n.d(e,"bc",function(){return or}),n.d(e,"cc",function(){return ot}),n.d(e,"dc",function(){return _o}),n.d(e,"ec",function(){return Zo}),n.d(e,"fc",function(){return ts}),n.d(e,"gc",function(){return es});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${w(t)} found${n}`)}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return E(t,I)||E(t,A)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(k))?t[x]:null}const I=l({"\u0275prov":l}),x=l({"\u0275inj":l}),A=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function N(t){const e=P;return P=t,e}function D(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function R(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=V||q||F||U,H={},z=[],G=[],K=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),X=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let Z=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function ot(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(X)?t[X]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),_t}function _t(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new vt(u&&u.currentValue,e,s===H),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let Ct;function Et(t){Ct=t}function Tt(t){return!!t.listen}bt.ngInherit=!0;const It={createRenderer:(t,e)=>void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0};function xt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return xt(e[t])}function kt(t,e){return xt(e[t.index])}function jt(t,e){return t.data[e]}function Pt(t,e){const n=e[t];return ht(n)?n:n[0]}function Nt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Dt(t){return 4==(4&t[2])}function Rt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Vt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ft={lFrame:oe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Ft.bindingsEnabled}function qt(){return Ft.lFrame.lView}function Bt(){return Ft.lFrame.tView}function Ht(){let t=zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function zt(){return Ft.lFrame.currentTNode}function Gt(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return Ft.lFrame.isParent}function $t(){return Ft.isInCheckNoChangesMode}function Wt(t){Ft.isInCheckNoChangesMode=t}function Qt(){return Ft.lFrame.bindingIndex++}function Yt(t){const e=Ft.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xt(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jt(e)}function Jt(t){Ft.lFrame.currentDirectiveIndex=t}function Zt(){return Ft.lFrame.currentQueryIndex}function te(t){Ft.lFrame.currentQueryIndex=t}function ee(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ne(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=ee(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ft.lFrame=ie();return r.currentTNode=e,r.lView=t,!0}function re(t){const e=ie(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ie(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?oe(t):e}function oe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function se(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ae=se;function ue(){const t=se();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ce(){return Ft.lFrame.selectedIndex}function le(t){Ft.lFrame.selectedIndex=t}function he(){const t=Ft.lFrame;return jt(t.tView,t.selectedIndex)}function fe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function de(t,e,n){me(t,e,3,n)}function pe(t,e,n,r){(3&t[2])===n&&me(t,e,n,r)}function ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function me(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(ye(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ye(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}class ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function be(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];_e(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function we(t){return 3===t||4===t||6===t}function _e(t){return 64===t.charCodeAt(0)}function Oe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Se(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Se(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ce(t){return-1!==t}function Ee(t){return 32767&t}function Te(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ie=!0;function xe(t){const e=Ie;return Ie=t,e}let Ae=0;function ke(t,e){const n=Pe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,je(r.data,t),je(e,null),je(r.blueprint,null));const i=Ne(t,e),o=t.injectorIndex;if(Ce(i)){const t=Ee(i),n=Te(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ne(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function De(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Ae++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Re(t,e,n){if(n&j.Optional)return t;_(e,"NodeInjector")}function Me(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&j.Optional):D(e,r,n&j.Optional)}finally{N(o)}}return Re(r,e,n)}function Le(t,e,n,r=j.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:Fe:e}(n);if("function"==typeof o){if(!ne(e,t,r))return r&j.Host?Re(i,n,r):Me(e,n,r,i);try{const t=o();if(null!=t||r&j.Optional)return t;_(n)}finally{ae()}}else if("number"==typeof o){let i=null,s=Pe(t,e),a=-1,u=r&j.Host?e[16][6]:null;for((-1===s||r&j.SkipSelf)&&(a=-1===s?Ne(t,e):e[s+8],-1!==a&&ze(r,!1)?(i=e[1],s=Ee(a),e=Te(a,e)):s=-1);-1!==s;){const t=e[1];if(He(o,s,t.data)){const t=Ue(s,e,n,i,r,u);if(t!==Ve)return t}a=e[s+8],-1!==a&&ze(r,e[1].data[s+8]===u)&&He(o,s,e)?(i=t,s=Ee(a),e=Te(a,e)):s=-1}}}return Me(e,n,r,i)}const Ve={};function Fe(){return new Ge(Ht(),qt())}function Ue(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=qe(a,s,n,null==r?pt(a)&&Ie:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==u?Be(e,s,u,a):Ve}function qe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&mt(t)&&t.type===n)return u}return null}function Be(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ve){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=xe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;ne(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),xe(a),s.resolving=!1,ae()}}return i}function He(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ze(t,e){return!(t&j.Self||t&j.Host&&e)}class Ge{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Le(this._tNode,this._lView,t,void 0,e)}}function Ke(t){return R(()=>{const e=t.prototype.constructor,n=e[X]||$e(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||$e(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function $e(t){return y(t)?()=>{const e=$e(m(t));return e&&e()}:yt(t)}function We(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(we(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ht(),t)}function Qe(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ye{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xe=new Ye("AnalyzeForEntryComponents"),Je=Function;function Ze(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Ze(r,e)):e!==t&&e.push(r)}return e}function tn(t,e){t.forEach(t=>Array.isArray(t)?tn(t,e):e(t))}function en(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function nn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rn(t,e,n){let r=sn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function on(t,e){const n=sn(t,e);if(n>=0)return t[1|n]}function sn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const an={},un=/\n/gm,cn=l({provide:String,useValue:l});let ln;function hn(t){const e=ln;return ln=t,e}function fn(t,e=j.Default){if(void 0===ln)throw new Error("inject() must be called from an injection context");return null===ln?D(t,void 0,e):ln.get(t,e&j.Optional?null:void 0,e)}function dn(t,e=j.Default){return(P||fn)(m(t),e)}function pn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(dn(t,n))}else e.push(dn(r))}return e}function gn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const mn=gn(Qe("Inject",t=>({token:t})),-1),yn=gn(Qe("Optional"),8),vn=gn(Qe("SkipSelf"),4);let bn;function wn(t){var e;return(null===(e=function(){if(void 0===bn&&(bn=null,B.trustedTypes))try{bn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return bn}())||void 0===e?void 0:e.createHTML(t))||t}class _n{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class On extends _n{getTypeName(){return"HTML"}}class Sn extends _n{getTypeName(){return"Style"}}class Cn extends _n{getTypeName(){return"Script"}}class En extends _n{getTypeName(){return"URL"}}class Tn extends _n{getTypeName(){return"ResourceURL"}}function In(t){return t instanceof _n?t.changingThisBreaksApplicationSecurity:t}function xn(t,e){const n=An(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function An(t){return t instanceof _n&&t.getTypeName()||null}function kn(t){return new On(t)}function jn(t){return new Sn(t)}function Pn(t){return new Cn(t)}function Nn(t){return new En(t)}function Dn(t){return new Tn(t)}class Rn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(wn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Mn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=wn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=wn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ln=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Vn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fn(t){return(t=String(t)).match(Ln)||t.match(Vn)?t:"unsafe:"+t}function Un(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Bn=Un("area,br,col,hr,img,wbr"),Hn=Un("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zn=Un("rp,rt"),Gn=qn(zn,Hn),Kn=qn(Bn,qn(Hn,Un("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qn(zn,Un("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gn),$n=Un("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wn=Un("srcset"),Qn=qn($n,Wn,Un("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Un("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yn=Un("script,style,template");class Xn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Kn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Yn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Qn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;$n[o]&&(s=Fn(s)),Wn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Fn(t.trim())).join(", ")),this.buf.push(" ",e,'="',tr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Kn.hasOwnProperty(e)&&!Bn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(tr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Jn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zn=/([^\#-~ |!])/g;function tr(t){return t.replace(/&/g,"&amp;").replace(Jn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Zn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let er;function nr(t,e){let n=null;try{er=er||function(t){const e=new Mn(t);return function(){try{return!!(new window.DOMParser).parseFromString(wn(""),"text/html")}catch(t){return!1}}()?new Rn(e):e}(t);let r=e?String(e):"";n=er.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=er.getInertBodyElement(r)}while(r!==o);return wn((new Xn).sanitizeChildren(rr(n)||n))}finally{if(n){const t=rr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function rr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ir=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function or(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(ir.URL,t)||"":xn(t,"URL")?In(t):Fn(b(t))}function sr(t){return t.ngDebugContext}function ar(t){return t.ngOriginalError}function ur(t,...e){t.error(...e)}class cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ur}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?sr(t)?sr(t):this._findContext(ar(t)):null}_findOriginalError(t){let e=ar(t);for(;e&&ar(e);)e=ar(e);return e}}function lr(t,e){t.__ngContext__=e}const hr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function fr(t){return{name:"window",target:t.ownerDocument.defaultView}}function dr(t){return t instanceof Function?t():t}var pr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function gr(t,e){return(void 0)(t,e)}function mr(t){const e=t[3];return ft(e)?e[3]:e}function yr(t){return br(t[13])}function vr(t){return br(t[4])}function br(t){for(;null!==t&&!ft(t);)t=t[4];return t}function wr(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:ht(r)&&(s=!0,r=r[0]);const a=xt(r);0===t&&null!==n?null==i?Ir(e,n,a):Tr(e,n,a,i||null,!0):1===t&&null!==n?Tr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Ar(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==xt(n)&&wr(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Rr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function _r(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Or(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Vt(i,-1)),n.splice(r,1)}function Sr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Or(o,r),e>0&&(t[n-1][4]=r[4]);const s=nn(t,10+e);Rr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Cr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&Rr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Er(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Er(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Er(e[1],e),n=e&&e[4]}e=n}}(e)}}function Er(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ve)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):xt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Or(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Tr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ir(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function xr(t,e,n,r,i){null!==r?Tr(t,e,n,r,i):Ir(t,e,n)}function Ar(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function kr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return kt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?kt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)xr(o,i,n[a],s,!1);else xr(o,i,n,s,!1)}function jr(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return Nr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return jr(t,n);{const n=t[e.index];return ft(n)?Nr(-1,n):xt(n)}}if(32&n)return gr(e,t)()||xt(t[e.index]);{const n=Pr(t,e);return null!==n?Array.isArray(n)?n[0]:jr(mr(t[16]),n):jr(t,e.next)}}return null}function Pr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Nr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return jr(t,r)}return e[7]}function Dr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&lr(xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Dr(t,e,n.child,r,i,o,!1),wr(e,t,i,a,o);else if(32&u){const s=gr(n,r);let u;for(;u=s();)wr(e,t,i,u,o);wr(e,t,i,a,o)}else 16&u?Mr(t,e,r,n,i,o):wr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Rr(t,e,n,r,i,o){Dr(n,r,t.firstChild,e,i,o,!1)}function Mr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)wr(e,t,i,a[u],o);else Dr(t,e,a,s[3],i,o,!0)}function Lr(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Vr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Fr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Ur(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Fr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function qr(t){return 4===t.type&&"ng-template"!==t.value}function Br(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Hr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(we(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Br(t,u,n)||""===u&&1===e.length){if(zr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ur(t.attrs,c,n)){if(zr(r))return!1;s=!0}continue}const l=Gr(8&r?"class":u,i,qr(t),n);if(-1===l){if(zr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Fr(e,c,0)||2&r&&c!==t){if(zr(r))return!1;s=!0}}}}else{if(!s&&!zr(r)&&!zr(u))return!1;if(s&&zr(u))continue;s=!1,r=u|1&r}}return zr(r)||s}function zr(t){return 0==(1&t)}function Gr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Kr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Hr(t,e[r],n))return!0;return!1}function $r(t,e){return t?":not("+e.trim()+")":e}function Wr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||zr(s)||(e+=$r(o,i),i=""),r=s,o=o||!zr(r);n++}return""!==i&&(e+=$r(o,i)),e}const Qr={};function Yr(t){Xr(Bt(),qt(),ce()+t,$t())}function Xr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&de(e,r,n)}else{const r=t.preOrderHooks;null!==r&&pe(e,r,0,n)}le(n)}function Jr(t,e){return t<<17|e<<2}function Zr(t){return t>>17&32767}function ti(t){return 2|t}function ei(t){return(131068&t)>>2}function ni(t,e){return-131069&t|e<<2}function ri(t){return 1|t}function ii(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];te(i),n.contentQueries(2,e[o],o)}}}function oi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function si(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=zt(),s=Kt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ft.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Gt(o,!0),o}function ai(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ui(t,e,n){re(e);try{const r=t.viewQuery;null!==r&&Li(1,r,n);const i=t.template;null!==i&&hi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ii(t,e),t.staticViewQueries&&Li(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Pi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ue()}}function ci(t,e,n,r){const i=e[2];if(256==(256&i))return;re(e);const o=$t();try{Lt(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&hi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&de(e,n,null)}else{const n=t.preOrderHooks;null!==n&&pe(e,n,0,null),ge(e,0)}if(function(t){for(let e=yr(t);null!==e;e=vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Vt(r,1),n[2]|=1024}}}(e),function(t){for(let e=yr(t);null!==e;e=vr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Rt(n)&&ci(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ii(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&de(e,n)}else{const n=t.contentHooks;null!==n&&pe(e,n,1),ge(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)le(~r);else{const i=r,o=n[++t],s=n[++t];Xt(o,i),s(2,e[i])}}}finally{le(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ki(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Li(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&de(e,n)}else{const n=t.viewHooks;null!==n&&pe(e,n,2),ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Vt(e[3],-1))}finally{ue()}}function li(t,e,n,r){const i=e[10],o=!$t(),s=Dt(e);try{o&&!s&&i.begin&&i.begin(),s&&ui(t,e,r),ci(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function hi(t,e,n,r,i){const o=ce(),s=2&r;try{le(-1),s&&e.length>20&&Xr(t,e,20,$t()),n(r,i)}finally{le(o)}}function fi(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||ke(n,e),lr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=mt(r);o&&Ti(e,n,r);const u=Be(e,t,a,n);lr(u,e),null!==s&&Ii(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ft.lFrame.currentDirectiveIndex;try{le(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Jt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||_i(r,i)}}finally{le(-1),Jt(s)}}(t,e,n))}function di(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function pi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=gi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function gi(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function mi(t,e,n,r){const i=Fi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ui(t).push(r,i.length-1))}function yi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function vi(t,e,n,r,i,o,s,a){const u=kt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Bi(t,n,c,r,i),pt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(u,r,i):_e(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function bi(t,e,n,r){let i=!1;if(Ut()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Kr(n,s.selectors,!1)&&(i||(i=[]),De(ke(n,e),t,s.type),mt(s)?(Oi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ci(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ai(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Oe(n.mergedAttrs,c.hostAttrs),Ei(t,n,e,u,c),Si(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||qr(e)?null:xi(n,i);o.push(c),s=yi(n,u,s),a=yi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Oe(n.mergedAttrs,n.attrs),i}function wi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function _i(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Oi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Si(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Ci(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ei(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new ve(o,mt(i),null);t.blueprint[r]=s,n[r]=s,wi(t,e,0,r,ai(t,n,i.hostVars,Qr),i)}function Ti(t,e,n){const r=kt(e,t),i=pi(n),o=t[10],s=Ni(t,oi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Ii(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function xi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ai(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ki(t,e){const n=Pt(e,t);if(Rt(n)){const t=n[1];80&n[2]?ci(t,n,t.template,n[8]):n[5]>0&&ji(n)}}function ji(t){for(let n=yr(t);null!==n;n=vr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ci(t,e,t.template,e[8])}else e[5]>0&&ji(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Rt(r)&&r[5]>0&&ji(r)}}function Pi(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ui(r,n,n[8])}function Ni(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Di(t){for(;t;){t[2]|=64;const e=mr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ri(t,e,n){const r=e[10];r.begin&&r.begin();try{ci(t,e,t.template,n)}catch(i){throw qi(e,i),i}finally{r.end&&r.end()}}function Mi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Nt(n),i=r[1];li(i,r,i.template,n)}}(t[8])}function Li(t,e,n){te(0),e(t,n)}const Vi=(()=>Promise.resolve(null))();function Fi(t){return t[7]||(t[7]=[])}function Ui(t){return t.cleanup||(t.cleanup=[])}function qi(t,e){const n=t[9],r=n?n.get(cr,null):null;r&&r.handleError(e)}function Bi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Hi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const zi=new Ye("INJECTOR",-1);class Gi{get(t,e=an){if(e===an){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ki=new Ye("Set Injector scope."),$i={},Wi={},Qi=[];let Yi;function Xi(){return void 0===Yi&&(Yi=new Gi),Yi}function Ji(t,e=null,n=null,r){return new Zi(t,n,e||Xi(),r)}class Zi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&tn(e,n=>this.processProvider(n,t,e)),tn([t],t=>this.processInjectorType(t,[],i)),this.records.set(zi,no(void 0,this));const o=this.records.get(Ki);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=an,n=j.Default){this.assertNotDestroyed();const r=hn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ye)&&C(t);e=n&&this.injectableDefInScope(n)?no(to(t),$i):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?Xi():this.parent).get(t,e=n&j.Optional&&e===an?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(f(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(un,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{hn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{tn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];tn(r,t=>this.processProvider(t,n,r||Qi))}}this.injectorDefTypes.add(o);const a=yt(o)||(()=>new o);this.records.set(o,no(a,$i));const u=r.providers;if(null!=u&&!s){const e=t;tn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=io(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return ro(t)?no(void 0,t.useValue):no(eo(t),$i)}(t);if(io(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=no(void 0,$i,!0),e.factory=()=>pn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===$i&&(e.value=Wi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function to(t){const e=C(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof Ye)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function eo(t,e,n){let r;if(io(t)){const e=m(t);return yt(e)||to(e)}if(ro(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...pn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>dn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||to(e);r=()=>new e(...pn(t.deps))}var i;return r}function no(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ro(t){return null!==t&&"object"==typeof t&&cn in t}function io(t){return"function"==typeof t}const oo=function(t,e,n){return function(t,e=null,n=null,r){const i=Ji(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let so=(()=>{class t{static create(t,e){return Array.isArray(t)?oo(t,e,""):oo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=an,t.NULL=new Gi,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>dn(zi)}),t.__NG_ELEMENT_ID__=-1,t})();function ao(t,e){fe(Nt(t)[1],Ht())}function uo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=co(t.inputs),e.declaredInputs=co(t.declaredInputs),e.outputs=co(t.outputs);const n=i.hostBindings;n&&fo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&lo(t,o),s&&ho(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===uo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oe(i.hostAttrs,n=Oe(n,i.hostAttrs))}}(r)}function co(t){return t===H?{}:t===G?[]:t}function lo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ho(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function fo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let po=null;function go(){if(!po){const t=B.Symbol;if(t&&t.iterator)po=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(po=n)}}}return po}function mo(t){return!!yo(t)&&(Array.isArray(t)||!(t instanceof Map)&&go()in t)}function yo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function bo(t,e,n,r){const i=qt();return vo(i,Qt(),e)&&(Bt(),function(t,e,n,r,i,o){const s=kt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(he(),i,t,e,n,r)),bo}function wo(t,e,n,r){return vo(t,Qt(),n)?e+b(n)+r:Qr}function _o(t,e,n,r,i,o,s,a){const u=qt(),c=Bt(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=si(e,t,4,s||null,Mt(c,a));bi(e,n,l,Mt(c,u)),fe(e,l);const h=l.tViews=gi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Gt(h,!1);const f=u[11].createComment("");kr(c,u,f,h),lr(f,u),Ni(u,u[l]=Ai(f,u,f,h)),gt(h)&&fi(c,u,h),null!=s&&di(u,h,a)}function Oo(t,e=j.Default){const n=qt();return null===n?dn(t,e):Le(Ht(),n,m(t),e)}function So(t,e,n){const r=qt();return vo(r,Qt(),e)&&vi(Bt(),he(),r,t,e,r[11],n,!1),So}function Co(t,e,n,r,i){const o=i?"class":"style";Bi(t,n,e.inputs[o],o,r)}function Eo(t,e,n,r){const i=qt(),o=Bt(),s=20+t,a=i[11],u=i[s]=_r(a,e,Ft.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=si(e,t,2,i,Mt(a,o));return bi(e,n,u,Mt(a,s)),null!==u.attrs&&Hi(u,u.attrs,!1),null!==u.mergedAttrs&&Hi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Gt(c,!0);const l=c.mergedAttrs;null!==l&&be(a,u,l);const h=c.classes;null!==h&&Vr(a,u,h);const f=c.styles;null!==f&&Lr(a,u,f),64!=(64&c.flags)&&kr(o,i,u,c),0===Ft.lFrame.elementDepthCount&&lr(u,i),Ft.lFrame.elementDepthCount++,gt(c)&&(fi(o,i,c),function(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&di(i,c)}function To(){let t=Ht();Kt()?Ft.lFrame.isParent=!1:(t=t.parent,Gt(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(fe(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Co(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Co(n,e,qt(),e.stylesWithoutHost,!1)}function Io(t,e,n,r){Eo(t,e,n,r),To()}function xo(t){return!!t&&"function"==typeof t.then}function Ao(t){return!!t&&"function"==typeof t.subscribe}const ko=Ao;function jo(t,e,n=!1,r){const i=qt(),o=Bt(),s=Ht();return function(t,e,n,r,i,o,s=!1,a){const u=gt(r),c=t.firstCreatePass&&Ui(t),l=Fi(e);let h=!0;if(3&r.type){const f=kt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,m=a?t=>a(xt(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=No(r,e,0,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=No(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=No(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),jo}function Po(t,e,n,r){try{return!1!==n(r)}catch(i){return qi(t,i),!1}}function No(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&Di(s);let a=Po(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Po(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Do(t,e,n){return Ro(t,"",e,"",n),Do}function Ro(t,e,n,r,i){const o=qt(),s=wo(o,e,n,r);return s!==Qr&&vi(Bt(),he(),o,t,s,o[11],i,!1),Ro}function Mo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Zr(o):ei(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Lo(t[a],e)&&(u=!0,t[a+1]=r?ri(n):ti(n)),a=r?Zr(n):ei(n)}u&&(t[n+1]=r?ti(o):ri(o))}function Lo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&sn(t,e)>=0}const Vo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fo(t){return t.substring(Vo.key,Vo.keyEnd)}function Uo(t,e){const n=Vo.textEnd;return n===e?-1:(e=Vo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Vo.key=e,n),qo(t,e,n))}function qo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Bo(t,e){return function(t,e,n,r){const i=qt(),o=Bt(),s=Yt(2);o.firstUpdatePass&&Ko(o,t,s,true),e!==Qr&&vo(i,s,e)&&Qo(o,o.data[ce()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(In(t))),t}(e),true,s)}(t,e),Bo}function Ho(t){!function(t,e,n,r){const i=Bt(),o=Yt(2);i.firstUpdatePass&&Ko(i,null,o,true);const s=qt();if(n!==Qr&&vo(s,o,n)){const r=i.data[ce()];if(Jo(r,true)&&!Go(i,o)){let t=r.classesWithoutHost;null!==t&&(n=d(t,n||"")),Co(i,r,s,n,true)}else!function(t,e,n,r,i,o,s,a){i===Qr&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,s!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&Qo(t,e,n,r,p,d,true,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,r,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=In(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(rn,zo,t)}function zo(t,e){for(let n=function(t){return function(t){Vo.key=0,Vo.keyEnd=0,Vo.value=0,Vo.valueEnd=0,Vo.textEnd=t.length}(t),Uo(t,qo(t,0,Vo.textEnd))}(e);n>=0;n=Uo(e,n))rn(t,Fo(e),!0)}function Go(t,e){return e>=t.expandoStartIndex}function Ko(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ce()],s=Go(t,n);Jo(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ft.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wo(n=$o(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=$o(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ei(r))return t[Zr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=$o(null,t,e,n[1],r),n=Wo(n,e.attrs,r),function(t,e,n,r){t[Zr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Wo(r,t[o].hostAttrs,n);return Wo(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Zr(s),u=ei(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||sn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Zr(t[a+1]);t[r+1]=Jr(e,a),0!==e&&(t[e+1]=ni(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Jr(a,0),0!==a&&(t[a+1]=ni(t[a+1],r)),a=r;else t[r+1]=Jr(u,0),0===a?a=r:t[u+1]=ni(t[u+1],r),u=r;l&&(t[r+1]=ti(t[r+1])),Mo(t,c,r,!0),Mo(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&sn(o,e)>=0&&(n[r+1]=ri(n[r+1]))}(e,c,t,r,o),s=Jr(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function $o(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Wo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Wo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),rn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Qo(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Xo(1==(1&c)?Yo(u,e,n,i,ei(c),s):void 0)||(Xo(o)||2==(2&c)&&(o=Yo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:pr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=pr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,At(ce(),n),i,o))}function Yo(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Qr&&(l=c?z:void 0);let h=c?on(l,r):u===r?l:void 0;if(o&&!Xo(h)&&(h=on(e,r)),Xo(h)&&(a=h,s))return a;const f=t[i+1];i=s?Zr(f):ei(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=on(t,r))}return a}function Xo(t){return void 0!==t}function Jo(t,e){return 0!=(t.flags&(e?16:32))}function Zo(t,e=""){const n=qt(),r=Bt(),i=t+20,o=r.firstCreatePass?si(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);kr(r,n,s,o),Gt(o,!1)}function ts(t){return es("",t,""),ts}function es(t,e,n){const r=qt(),i=wo(r,t,e,n);return i!==Qr&&function(t,e,n){const r=At(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ce(),i),es}function ns(t,e,n){const r=qt();return vo(r,Qt(),e)&&vi(Bt(),he(),r,t,e,r[11],n,!0),ns}const rs=void 0;var is=["en",[["a","p"],["AM","PM"],rs],[["AM","PM"],rs,rs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rs,"{1} 'at' {0}",rs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let os={};function ss(t,e,n){"string"!=typeof e&&(n=e,e=t[hs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),os[e]=t,n&&(os[e][hs.ExtraData]=n)}function as(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ls(e);if(n)return n;const r=e.split("-")[0];if(n=ls(r),n)return n;if("en"===r)return is;throw new Error(`Missing locale data for the locale "${t}".`)}function us(t){return as(t)[hs.CurrencyCode]||null}function cs(t){return as(t)[hs.PluralCase]}function ls(t){return t in os||(os[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),os[t]}var hs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let fs="en-US";function ds(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(fs=t.toLowerCase().replace(/_/g,"-"))}function ps(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)ps(t[o],e,n,r,i);else{const o=Bt(),s=qt();let a=io(t)?t:m(t.provide),u=eo(t);const c=Ht(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(io(t)||!t.multi){const r=new ve(u,i,Oo),d=ys(a,e,i?l:l+f,h);-1===d?(De(ke(c,s),o,a),gs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ys(a,e,l+f,h),p=ys(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){De(ke(c,s),o,a);const l=function(t,e,n,r,i){const o=new ve(t,n,Oo);return o.multi=[],o.index=e,o.componentProviders=0,ms(o,i,r&&!n),o}(i?bs:vs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),gs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else gs(o,t,d>-1?d:p,ms(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function gs(t,e,n,r){const i=io(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ms(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ys(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vs(t,e,n,r){return ws(this.multi,[])}function bs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Be(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ws(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ws(i,o);return o}function ws(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _s(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=mt(t);ps(n,r.data,r.blueprint,i,!0),ps(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Os{}class Ss{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Cs=(()=>{class t{}return t.NULL=new Ss,t})();function Es(...t){}function Ts(t,e){return new xs(kt(t,e))}const Is=function(){return Ts(Ht(),qt())};let xs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Is,t})();function As(t){return t instanceof xs?t.nativeElement:t}class ks{}let js=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ps(),t})();const Ps=function(){const t=qt(),e=Pt(Ht().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Ns=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class Ds{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rs=new Ds("11.2.14");class Ms{constructor(){}supports(t){return mo(t)}create(t){return new Vs(t)}}const Ls=(t,e)=>e;class Vs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ls}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Bs(n,r,i)?e:n,s=Bs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!mo(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[go()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Fs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Us{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class qs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Us,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Hs{constructor(){}supports(t){return t instanceof Map||yo(t)}create(){return new zs}}class zs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||yo(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Gs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Gs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ks(){return new $s([new Ms])}let $s=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ks()),deps:[[t,new vn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Ks}),t})();function Ws(){return new Qs([new Hs])}let Qs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ws()),deps:[[t,new vn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Ws}),t})();function Ys(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(xt(o)),ft(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ys(e[1],e,n,r)}const s=n.type;if(8&s)Ys(t,e,n.child,r);else if(32&s){const t=gr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Pr(e,n);if(Array.isArray(t))r.push(...t);else{const n=mr(e[16]);Ys(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Xs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ys(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Sr(t,n),nn(e,n))}this._attachedToViewContainer=!1}Cr(this._lView[1],this._lView)}onDestroy(t){mi(this._lView[1],this._lView,null,t)}markForCheck(){Di(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ri(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Wt(!0);try{Ri(t,e,n)}finally{Wt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Rr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Js extends Xs{constructor(t){super(t),this._view=t}detectChanges(){Mi(this._view)}checkNoChanges(){!function(t){Wt(!0);try{Mi(t)}finally{Wt(!1)}}(this._view)}get context(){return null}}const Zs=ea;let ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zs,t.__ChangeDetectorRef__=!0,t})();function ea(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Pt(t.index,e);return new Xs(n,n)}return 47&t.type?new Xs(e[16],e):null}(Ht(),qt(),t)}const na=[new Hs],ra=new $s([new Ms]),ia=new Qs(na),oa=function(){return ca(Ht(),qt())};let sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=oa,t})();const aa=sa,ua=class extends aa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=oi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ui(e,n,t),new Xs(n)}};function ca(t,e){return 4&t.type?new ua(e,t,Ts(t,e)):null}class la{}class ha{}const fa=function(){return va(Ht(),qt())};let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=fa,t})();const pa=da,ga=class extends pa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ts(this._hostTNode,this._hostLView)}get injector(){return new Ge(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ne(this._hostTNode,this._hostLView);if(Ce(t)){const e=Te(t,this._hostLView),n=Ee(t);return new Ge(e[1].data[n+8],e)}return new Ge(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ma(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(la,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ga(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],en(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Nr(i,o),a=n[11],u=Ar(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Rr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),en(ya(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ma(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);n&&(nn(ya(this._lContainer),e),Cr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);return n&&null!=nn(ya(this._lContainer),e)?new Xs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ma(t){return t[8]}function ya(t){return t[8]||(t[8]=[])}function va(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=xt(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Tr(n,Ar(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ai(r,e,i,t),Ni(e,n)}return new ga(n,t,e)}const ba={};class wa extends Cs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Sa(e,this.ngModule)}}function _a(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Oa=new Ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>hr});class Sa extends Os{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Wr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return _a(this.componentDef.inputs)}get outputs(){return _a(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ba,i);return o!==ba||r===ba?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ks,It),s=i.get(Ns,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):_r(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:hr,clean:Vi,playerHandler:null,flags:0},f=gi(0,null,null,1,0,null,null,null,null,null),d=oi(null,f,h,l,null,null,o,a,s,i);let p,g;re(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=si(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Hi(a,u,!0),null!==t&&(be(i,t,u),null!==a.classes&&Vr(i,t,a.classes),null!==a.styles&&Lr(i,t,a.styles)));const c=r.createRenderer(t,e),l=oi(n,pi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(De(ke(a,n),s,e.type),Oi(s,a),Ci(a,n.length,1)),Ni(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)be(a,c,["ng-version",Rs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!zr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&be(a,c,t),e&&e.length>0&&Vr(a,c,e.join(" "))}if(g=jt(f,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ei(t,r,e,ai(t,e,1,null),n));const i=Be(e,t,r.directiveStart,r);lr(i,e);const o=kt(r,e);return o&&lr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ht();e.contentQueries(1,s,t.directiveStart)}const a=Ht();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(le(a.index),wi(n[1],a,0,a.directiveStart,a.directiveEnd,e),_i(e,s)),s}(t,this.componentDef,d,h,[ao]),ui(f,d,null)}finally{ue()}return new Ca(this.componentType,p,Ts(g,d),d,g)}}class Ca extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Js(r),this.componentType=t}get injector(){return new Ge(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ea=new Map;class Ta extends la{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wa(this);const n=lt(t),r=t[Y]||null;r&&ds(r),this._bootstrapComponents=dr(n.bootstrap),this._r3Injector=Ji(t,e,[{provide:la,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=so.THROW_IF_NOT_FOUND,n=j.Default){return t===so||t===la||t===zi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ia extends ha{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,Ea.get(i),n),Ea.set(i,n));const o=dr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ta(this.moduleType,t)}}function xa(t){return e=>{setTimeout(t,void 0,e)}}const Aa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=xa(u),a&&(a=xa(a)),c&&(c=xa(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function ka(){return this._results[go()]()}class ja{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=go(),n=ja.prototype;n[e]||(n[e]=ka)}get changes(){return this._changes||(this._changes=new Aa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=Ze(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Na{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Na(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==za(t,e).matches&&this.queries[e].setDirty()}}class Da{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ra{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ra(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ma{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ma(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,La(e,i)),this.matchTNodeWithReadOption(t,e,qe(e,t,i,!1,!1))}else n===sa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,qe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===xs||r===da||r===sa&&4&e.type)this.addMatch(e.index,-2);else{const n=qe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function La(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Va(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ts(t,e):4&t.type?ca(t,e):null}(e,t):-2===n?function(t,e,n){return n===xs?Ts(e,t):n===sa?ca(e,t):n===da?va(e,t):void 0}(t,e,r):Be(t,t[1],n,e)}function Fa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Va(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ua(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Fa(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ua(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ua(n[1],n,i,r)}}}}}return r}function qa(t){const e=qt(),n=Bt(),r=Zt();te(r+1);const i=za(n,r);if(t.dirty&&Dt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ua(n,e,r,[]):Fa(n,e,i,r);t.reset(o,As),t.notifyOnChanges()}return!0}return!1}function Ba(t,e,n,r){const i=Bt();if(i.firstCreatePass){const o=Ht();(function(t,e,n){null===t.queries&&(t.queries=new Ra),t.queries.track(new Ma(e,n))})(i,new Da(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new ja(4==(4&n));mi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Na),e[19].queries.push(new Pa(r))}(i,qt(),n)}function Ha(){return t=qt(),e=Zt(),t[19].queries[e].queryList;var t,e}function za(t,e){return t.queries.getByIndex(e)}function Ga(t=j.Default){const e=ea(!0);if(null!=e||t&j.Optional)return e;_("ChangeDetectorRef")}const Ka=new Ye("Application Initializer");let $a=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Es,this.reject=Es,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();xo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(dn(Ka,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Wa=new Ye("AppId"),Qa={provide:Wa,useFactory:function(){return`${Ya()}${Ya()}${Ya()}`},deps:[]};function Ya(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xa=new Ye("Platform Initializer"),Ja=new Ye("Platform ID"),Za=new Ye("appBootstrapListener");let tu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const eu=new Ye("LocaleId"),nu=new Ye("DefaultCurrencyCode");class ru{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const iu=function(t){return new Ia(t)},ou=iu,su=function(t){return Promise.resolve(iu(t))},au=function(t){const e=iu(t),n=dr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Sa(n)),t},[]);return new ru(e,n)},uu=au,cu=function(t){return Promise.resolve(au(t))};let lu=(()=>{class t{constructor(){this.compileModuleSync=ou,this.compileModuleAsync=su,this.compileModuleAndAllComponentsSync=uu,this.compileModuleAndAllComponentsAsync=cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const hu=(()=>Promise.resolve(0))();function fu(t){"undefined"==typeof Zone?hu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class du{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Aa(!1),this.onMicrotaskEmpty=new Aa(!1),this.onStable=new Aa(!1),this.onError=new Aa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mu(t),gu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return yu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),vu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return yu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),vu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,mu(t),gu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!du.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(du.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,pu,Es,Es);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const pu={};function gu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function yu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vu(t){t._nesting--,gu(t)}class bu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Aa,this.onMicrotaskEmpty=new Aa,this.onStable=new Aa,this.onError=new Aa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let wu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{du.assertNotInAngularZone(),fu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(dn(du))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),_u=(()=>{class t{constructor(){this._applications=new Map,Eu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Eu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Ou{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Su(t){Eu=t}let Cu,Eu=new Ou,Tu=!0,Iu=!1;function xu(){return Iu=!0,Tu}function Au(){if(Iu)throw new Error("Cannot enable prod mode after platform setup.");Tu=!1}const ku=new Ye("AllowMultipleToken");class ju{constructor(t,e){this.name=t,this.token=e}}function Pu(t,e,n=[]){const r=`Platform: ${e}`,i=new Ye(r);return(e=[])=>{let o=Nu();if(!o||o.injector.get(ku,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ki,useValue:"platform"});!function(t){if(Cu&&!Cu.destroyed&&!Cu.injector.get(ku,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cu=t.get(Du);const e=t.get(Xa,null);e&&e.forEach(t=>t())}(so.create({providers:t,name:r}))}return function(t){const e=Nu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nu(){return Cu&&!Cu.destroyed?Cu:null}let Du=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new bu:("zone.js"===t?void 0:t)||new du({enableLongStackTrace:xu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:du,useValue:n}];return n.run(()=>{const e=so.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Lu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return xo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get($a);return t.runInitializers(),t.donePromise.then(()=>(ds(i.injector.get(eu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ru({},e);return function(t,e,n){const r=new Ia(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Mu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(dn(so))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Ru(t,e){return Array.isArray(e)?e.reduce(Ru,t):Object.assign(Object.assign({},t),e)}let Mu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{du.assertNotInAngularZone(),fu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Os?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(la),i=n.create(so.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(wu,null),a=s&&i.injector.get(_u);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Lu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Lu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Za,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(dn(du),dn(so),dn(cr),dn(Cs),dn($a))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Lu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vu{}class Fu{}const Uu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Uu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Bu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Bu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(dn(lu),dn(Fu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Bu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Hu=function(t){return null},zu=Pu(null,"core",[{provide:Ja,useValue:"unknown"},{provide:Du,deps:[so]},{provide:_u,deps:[]},{provide:tu,deps:[]}]),Gu=[{provide:Mu,useClass:Mu,deps:[du,so,cr,Cs,$a]},{provide:Oa,deps:[du],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:$a,useClass:$a,deps:[[new yn,Ka]]},{provide:lu,useClass:lu,deps:[]},Qa,{provide:$s,useFactory:function(){return ra},deps:[]},{provide:Qs,useFactory:function(){return ia},deps:[]},{provide:eu,useFactory:function(t){return ds(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new mn(eu),new yn,new vn]]},{provide:nu,useValue:"USD"}];let Ku=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(dn(Mu))},t.\u0275mod=it({type:t}),t.\u0275inj=S({providers:Gu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return S}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return T}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function T(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:_,deps:[v,u.A,[new u.B,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Sb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[E]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.7",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var b=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.6.26",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Sb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=Object(r.Ib)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Sb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Sb)(s).location;return new b(Object(r.Sb)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(v,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(v,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(m),r.Sb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new _(Object(r.Sb)(m),Object(r.Sb)(a))}function S(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const E=r.nb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(E(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new j(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:T,useClass:I}]}),t})();function M(t){return"server"===t}let L=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new V(Object(r.Sb)(s),window)}),t})();class V{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=F(this.window.history)||F(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function F(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class U extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new U,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=B||(B=document.querySelector("base"),B)?B.getAttribute("href"):null;return null==e?null:(n=e,q||(q=document.createElement("a")),q.setAttribute("href",n),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname);var n}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return x(document.cookie,t)}}let q,B=null;const H=new r.r("TRANSITION_ID"),z=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[H,s,r.s],multi:!0}];class G{static init(){Object(r.X)(new G)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const K=new r.r("EventManagerPlugins");let $=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(K),r.Sb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(X),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(X))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function X(t){o().remove(t)}const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(Z,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ot(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb($),r.Sb(Y),r.Sb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(J[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=J[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=J[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Z,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Z,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ot extends rt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=tt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let st=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ft=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){U.makeCurrent(),G.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],dt=Object(r.S)(r.W,"browser",ft),pt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:K,useClass:st,multi:!0,deps:[s,r.A,r.C]},{provide:K,useClass:ht,multi:!0,deps:[s]},[],{provide:nt,useClass:nt,deps:[$,Y,r.c]},{provide:r.F,useExisting:nt},{provide:Q,useExisting:Y},{provide:Y,useClass:Y,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:$,useClass:$,deps:[K,r.A]},[]];let gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:H,useExisting:r.c},z]}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:pt,imports:[R,r.f]}),t})();"undefined"!=typeof window&&window;var mt=n("Cfvw"),yt=n("LRne"),vt=n("XNiG"),bt=n("9ppp");class wt extends vt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bt.a;return this._value}next(t){super.next(this._value=t)}}var _t=n("z+Ro"),Ot=n("DH7j"),St=n("7o/Q");class Ct extends St.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Et extends St.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Tt=n("SeVD"),It=n("HDdC");function xt(t,e,n,r,i=new Et(t,n,r)){if(!i.closed)return e instanceof It.a?e.subscribe(i):Object(Tt.a)(e)(i)}var At=n("yCtX");const kt={};class jt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Pt(t,this.resultSelector))}}class Pt extends Ct{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(kt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(xt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===kt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Nt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Dt=n("bHdf");function Rt(...t){return Object(Dt.a)(1)(Object(yt.a)(...t))}var Mt=n("EY2u");function Lt(t){return new It.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(mt.a)(n):Object(Mt.b)()).subscribe(e)})}var Vt=n("EQ5u"),Ft=n("lJxs"),Ut=n("zx2A");function qt(t,e){return"function"==typeof e?n=>n.pipe(qt((n,r)=>Object(mt.a)(t(n,r)).pipe(Object(Ft.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Bt(t))}class Bt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ht(t,this.project))}}class Ht extends Ut.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ut.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ut.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const zt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Gt(t){return e=>0===t?Object(Mt.b)():e.lift(new Kt(t))}class Kt{constructor(t){if(this.total=t,this.total<0)throw new zt}call(t,e){return e.subscribe(new $t(t,this.total))}}class $t extends St.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Wt(...t){const e=t[t.length-1];return Object(_t.a)(e)?(t.pop(),n=>Rt(t,n,e)):e=>Rt(t,e)}function Qt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Yt(t,e,n))}}class Yt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Xt(t,this.accumulator,this.seed,this.hasSeed))}}class Xt extends St.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Jt(t,e){return function(n){return n.lift(new Zt(t,e))}}class Zt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new te(t,this.predicate,this.thisArg))}}class te extends St.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ee(t){return function(e){const n=new ne(t),r=e.lift(n);return n.caught=r}}class ne{constructor(t){this.selector=t}call(t,e){return e.subscribe(new re(t,this.selector,this.caught))}}class re extends Ut.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ut.a(this);this.add(r);const i=Object(Ut.c)(n,r);i!==r&&this.add(i)}}}var ie=n("5+tZ");function oe(t,e){return Object(ie.a)(t,e,1)}function se(t){return function(e){return 0===t?Object(Mt.b)():e.lift(new ae(t))}}class ae{constructor(t){if(this.total=t,this.total<0)throw new zt}call(t,e){return e.subscribe(new ue(t,this.total))}}class ue extends St.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ce(t=fe){return e=>e.lift(new le(t))}class le{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new he(t,this.errorFactory))}}class he extends St.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Qv){t=Qv}this.destination.error(t)}}}function fe(){return new Nt}function de(t=null){return e=>e.lift(new pe(t))}class pe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ge(t,this.defaultValue))}}class ge extends St.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var me=n("SpAZ");function ye(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):me.a,Gt(1),n?de(e):ce(()=>new Nt))}var ve=n("vkgz"),be=n("x+ZX"),we=n("quSY");class _e{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Oe(t,this.callback))}}class Oe extends St.a{constructor(t,e){super(t),this.add(new we.a(e))}}class Se{constructor(t,e){this.id=t,this.url=e}}class Ce extends Se{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ee extends Se{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Te extends Se{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ie extends Se{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xe extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ae extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Se{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class je extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class De{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Re{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ue{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qe(t){return new Ue(t)}function Be(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function He(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ze(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ge(t[i],e[i]))return!1;return!0}function Ge(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ke(t){return Array.prototype.concat.apply([],t)}function $e(t){return t.length>0?t[t.length-1]:null}function We(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Qe(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(mt.a)(Promise.resolve(t)):Object(yt.a)(t)}function Ye(t,e,n){return n?function(t,e){return ze(t,e)}(t.queryParams,e.queryParams)&&Xe(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ge(t[n],e[n]))}(t.queryParams,e.queryParams)&&Je(t.root,e.root)}function Xe(t,e){if(!rn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Xe(t.children[n],e.children[n]))return!1}return!0}function Je(t,e){return Ze(t,e,e.segments)}function Ze(t,e,n){if(t.segments.length>n.length)return!!rn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!rn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Je(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!rn(t.segments,r)&&!!t.children.primary&&Ze(t.children.primary,e,i)}}class tn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return an.serialize(this)}}class en{constructor(t,e){this.segments=t,this.children=e,this.parent=null,We(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return un(this)}}class nn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qe(this.parameters)),this._parameterMap}toString(){return gn(this)}}function rn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class on{}class sn{parse(t){const e=new wn(t);return new tn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${cn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${hn(e)}=${hn(t)}`).join("&"):`${hn(e)}=${hn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const an=new sn;function un(t){return t.segments.map(t=>gn(t)).join("/")}function cn(t,e){if(!t.hasChildren())return un(t);if(e){const e=t.children.primary?cn(t.children.primary,!1):"",n=[];return We(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${cn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return We(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),We(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[cn(t.children.primary,!1)]:[`${n}:${cn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${un(t)}/${e[0]}`:`${un(t)}/(${e.join("//")})`}}function ln(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hn(t){return ln(t).replace(/%3B/gi,";")}function fn(t){return ln(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dn(t){return decodeURIComponent(t)}function pn(t){return dn(t.replace(/\+/g,"%20"))}function gn(t){return`${fn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${fn(t)}=${fn(e[t])}`).join("")}`;var e}const mn=/^[^\/()?;=#]+/;function yn(t){const e=t.match(mn);return e?e[0]:""}const vn=/^[^=?&#]+/,bn=/^[^?&#]+/;class wn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new en(t,e)),n}parseSegment(){const t=yn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new nn(dn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=yn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=yn(this.remaining);t&&(n=t,this.capture(n))}t[dn(e)]=dn(n)}parseQueryParam(t){const e=function(t){const e=t.match(vn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(bn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=pn(e),i=pn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=yn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new en([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _n{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=On(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=On(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Sn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Sn(t,this._root).map(t=>t.value)}}function On(t,e){if(t===e.value)return e;for(const n of e.children){const e=On(t,n);if(e)return e}return null}function Sn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Sn(t,n);if(r.length)return r.unshift(e),r}return[]}class Cn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function En(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Tn extends _n{constructor(t,e){super(t),this.snapshot=e,Pn(this,t)}toString(){return this.snapshot.toString()}}function In(t,e){const n=function(t,e){const n=new kn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new jn("",new Cn(n,[]))}(t,e),r=new wt([new nn("",{})]),i=new wt({}),o=new wt({}),s=new wt({}),a=new wt(""),u=new xn(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Tn(new Cn(u,[]),n)}class xn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ft.a)(t=>qe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ft.a)(t=>qe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function An(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class kn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jn extends _n{constructor(t,e){super(e),this.url=t,Pn(this,e)}toString(){return Nn(this._root)}}function Pn(t,e){e.value._routerState=t,e.children.forEach(e=>Pn(t,e))}function Nn(t){const e=t.children.length>0?` { ${t.children.map(Nn).join(", ")} } `:"";return`${t.value}${e}`}function Dn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ze(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ze(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ze(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ze(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Rn(t,e){return ze(t.params,e.params)&&function(t,e){return rn(t,e)&&t.every((t,n)=>ze(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Rn(t.parent,e.parent))}function Mn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Mn(t,e,r);return Mn(t,e)})}(t,e,n);return new Cn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Ln(e,t),t}}const n=new xn(new wt((r=e.value).url),new wt(r.params),new wt(r.queryParams),new wt(r.fragment),new wt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Mn(t,e));return new Cn(n,i)}var r}function Ln(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ln(t.children[n],e.children[n])}function Vn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Fn(t){return"object"==typeof t&&null!=t&&t.outlets}function Un(t,e,n,r,i){let o={};return r&&We(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new tn(n.root===t?e:qn(n.root,t,e),o,i)}function qn(t,e,n){const r={};return We(t.children,(t,i)=>{r[i]=t===e?n:qn(t,e,n)}),new en(t.segments,r)}class Bn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Vn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Fn);if(r&&r!==$e(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function zn(t,e,n){if(t||(t=new en([],{})),0===t.segments.length&&t.hasChildren())return Gn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Fn(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Qn(a,u,e))return o;r+=2}else{if(!Qn(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new en(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new en(t.segments.slice(r.pathIndex),t.children),Gn(e,0,i)}return r.match&&0===i.length?new en(t.segments,{}):r.match&&!t.hasChildren()?Kn(t,e,n):r.match?Gn(t,0,i):Kn(t,e,n)}function Gn(t,e,n){if(0===n.length)return new en(t.segments,{});{const r=function(t){return Fn(t[0])?t[0].outlets:{primary:t}}(n),i={};return We(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=zn(t.children[r],e,n))}),We(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new en(t.segments,i)}}function Kn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Fn(o)){const t=$n(o.outlets);return new en(r,t)}if(0===i&&Vn(n[0])){r.push(new nn(t.segments[e].path,Wn(n[0]))),i++;continue}const s=Fn(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Vn(a)?(r.push(new nn(s,Wn(a))),i+=2):(r.push(new nn(s,{})),i++)}return new en(r,{})}function $n(t){const e={};return We(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Kn(new en([],{}),0,t))}),e}function Wn(t){const e={};return We(t,(t,n)=>e[n]=`${t}`),e}function Qn(t,e,n){return t==n.path&&ze(e,n.parameters)}class Yn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Dn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),We(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=En(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ve(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Me(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Dn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Xn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Xn(t){Dn(t.value),t.children.forEach(Xn)}class Jn{constructor(t,e){this.routes=t,this.module=e}}function Zn(t){return"function"==typeof t}function tr(t){return t instanceof tn}const er=Symbol("INITIAL_VALUE");function nr(){return qt(t=>function(...t){let e,n;return Object(_t.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ot.a)(t[0])&&(t=t[0]),Object(At.a)(t,n).lift(new jt(e))}(t.map(t=>t.pipe(Gt(1),Wt(er)))).pipe(Qt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==er)return t;if(r===er&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||tr(r))return r}return t},t)},er),Jt(t=>t!==er),Object(Ft.a)(t=>tr(t)?t:!0===t),Gt(1)))}let rr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[Qr]},encapsulation:2}),t})();function ir(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];or(r,sr(e,r))}}function or(t,e){t.children&&ir(t.children,e)}function sr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ar(t){const e=t.children&&t.children.map(ar),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=rr),n}function ur(t){return t.outlet||"primary"}function cr(t,e){const n=t.filter(t=>ur(t)===e);return n.push(...t.filter(t=>ur(t)!==e)),n}const lr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function hr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},lr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||He)(n,t,e);if(!i)return Object.assign({},lr);const o={};We(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function fr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>dr(t,e,n)&&"primary"!==ur(n))}(t,n,r)){const i=new en(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==ur(o)){const n=new en([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ur(o)]=n}return i}(t,e,r,new en(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>dr(t,e,n))}(t,n,r)){const o=new en(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(dr(t,n,a)&&!i[ur(a)]){const n=new en([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ur(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new en(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function dr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function pr(t,e,n,r){return!!(ur(t)===r||"primary"!==r&&dr(e,n,t))&&("**"===t.path||hr(e,t,n).matched)}function gr(t,e,n){return 0===e.length&&!t.children[n]}class mr{constructor(t){this.segmentGroup=t||null}}class yr{constructor(t){this.urlTree=t}}function vr(t){return new It.a(e=>e.error(new mr(t)))}function br(t){return new It.a(e=>e.error(new yr(t)))}function wr(t){return new It.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class _r{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=fr(this.urlTree.root,[],[],this.config).segmentGroup,e=new en(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(Object(Ft.a)(t=>this.createUrlTree(Or(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ee(t=>{if(t instanceof yr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof mr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Ft.a)(e=>this.createUrlTree(Or(e),t.queryParams,t.fragment))).pipe(ee(t=>{if(t instanceof mr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new en([],{primary:t}):t;return new tn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ft.a)(t=>new en([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(mt.a)(r).pipe(oe(r=>{const i=n.children[r],o=cr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Ft.a)(t=>({segment:t,outlet:r})))}),Qt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):me.a,se(1),n?de(e):ce(()=>new Nt))}())}expandSegment(t,e,n,r,i,o){return Object(mt.a)(n).pipe(oe(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ee(t=>{if(t instanceof mr)return Object(yt.a)(null);throw t}))),ye(t=>!!t),ee((t,n)=>{if(t instanceof Nt||"EmptyError"===t.name){if(gr(e,r,i))return Object(yt.a)(new en([],{}));throw new mr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return pr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):vr(e):vr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?br(i):this.lineralizeSegments(n,i).pipe(Object(ie.a)(n=>{const i=new en(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=hr(e,r,i);if(!s)return vr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?br(l):this.lineralizeSegments(r,l).pipe(Object(ie.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(yt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Ft.a)(t=>(n._loadedConfig=t,new en(r,{})))):Object(yt.a)(new en(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=hr(e,n,r);if(!o)return vr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ie.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=fr(e,s,u,o),l=new en(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Ft.a)(t=>new en(s,t)));if(0===o.length&&0===c.length)return Object(yt.a)(new en(s,{}));const h=ur(n)===i;return this.expandSegment(r,l,o,c,h?"primary":i,!0).pipe(Object(Ft.a)(t=>new en(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(yt.a)(new Jn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(yt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ie.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ft.a)(t=>(e._loadedConfig=t,t))):function(t){return new It.a(e=>e.error(Be(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(yt.a)(new Jn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Qe(o)});return Object(yt.a)(i).pipe(nr(),Object(ve.a)(t=>{if(!tr(t))return;const e=Be(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ft.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(yt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return wr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new tn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return We(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return We(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new en(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Or(t){const e={};for(const n of Object.keys(t.children)){const r=Or(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new en(t.segments.concat(e.segments),e.children)}return t}(new en(t.segments,e))}class Sr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cr{constructor(t,e){this.component=t,this.route=e}}function Er(t,e,n){const r=t._root;return Ir(r,e?e._root:null,n,[r.value])}function Tr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ir(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=En(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!rn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rn(t.url,e.url)||!ze(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rn(t,e)||!ze(t.queryParams,e.queryParams);case"paramsChange":default:return!Rn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Sr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ir(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cr(a.outlet.component,s))}else s&&xr(e,a,i),i.canActivateChecks.push(new Sr(r)),Ir(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),We(o,(t,e)=>xr(t,n.getContext(e),i)),i}function xr(t,e,n){const r=En(t),i=t.value;We(r,(t,r)=>{xr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Cr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ar{}function kr(t){return new It.a(e=>e.error(t))}class jr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=fr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new kn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cn(n,e),i=new jn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=An(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=cr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Nr(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return gr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!pr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?$e(n).parameters:{};i=new kn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mr(t),ur(t),t.component,t,Dr(e),Rr(e)+n.length,Lr(t))}else{const r=hr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new kn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mr(t),ur(t),t.component,t,Dr(e),Rr(e)+o.length,Lr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=fr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Cn(i,t)]}if(0===a.length&&0===c.length)return[new Cn(i,[])];const l=ur(t)===r,h=this.processSegment(a,u,c,l?"primary":r);return null===h?null:[new Cn(i,h)]}}function Pr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Nr(t){const e=[],n=new Set;for(const r of t){if(!Pr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Nr(r.children);e.push(new Cn(r.value,t))}return e.filter(t=>!n.has(t))}function Dr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Rr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Mr(t){return t.data||{}}function Lr(t){return t.resolve||{}}function Vr(t){return qt(e=>{const n=t(e);return n?Object(mt.a)(n).pipe(Object(Ft.a)(()=>e)):Object(yt.a)(e)})}class Fr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ur=new r.r("ROUTES");class qr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Ft.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Jn(Ke(i.injector.get(Ur,void 0,r.q.Self|r.q.Optional)).map(ar),i)}),ee(t=>{throw e._loader$=void 0,t}));return e._loader$=new Vt.a(n,()=>new vt.a).pipe(Object(be.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(mt.a)(this.loader.load(t)):Qe(t()).pipe(Object(ie.a)(t=>t instanceof r.w?Object(yt.a)(t):Object(mt.a)(this.compiler.compileModuleAsync(t))))}}class Br{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hr,this.attachRef=null}}class Hr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Br,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class zr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Gr(t){throw t}function Kr(t,e,n){return e.parse("/")}function $r(t,e){return Object(yt.a)(null)}let Wr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new vt.a,this.errorHandler=Gr,this.malformedUriErrorHandler=Kr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$r,afterPreactivation:$r},this.urlHandlingStrategy=new zr,this.routeReuseStrategy=new Fr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new tn(new en([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qr(s,a,t=>this.triggerEvent(new Ne(t)),t=>this.triggerEvent(new De(t))),this.routerState=In(this.currentUrlTree,this.rootComponentType),this.transitions=new wt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Jt(t=>0!==t.id),Object(Ft.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),qt(t=>{let n=!1,r=!1;return Object(yt.a)(t).pipe(Object(ve.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(yt.a)(t).pipe(qt(t=>{const n=this.transitions.getValue();return e.next(new Ce(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Mt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,qt(t=>function(t,e,n,r,i){return new _r(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Ft.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(ve.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ie.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new jr(t,e,n,r,i,o).recognize();return null===s?kr(new Ar):Object(yt.a)(s)}catch(Qv){return kr(Qv)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Ft.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ve.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ce(n,this.serializeUrl(r),i,o);e.next(a);const u=In(r,this.rootComponentType).snapshot;return Object(yt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Mt.a}),Vr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ve.a)(t=>{const e=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ft.a)(t=>Object.assign(Object.assign({},t),{guards:Er(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ie.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(yt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(mt.a)(t).pipe(Object(ie.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(yt.a)(!0);const s=o.map(o=>{const s=Tr(o,e,i);let a;if(function(t){return t&&Zn(t.canDeactivate)}(s))a=Qe(s.canDeactivate(t,e,n,r));else{if(!Zn(s))throw new Error("Invalid CanDeactivate guard");a=Qe(s(t,e,n,r))}return a.pipe(ye())});return Object(yt.a)(s).pipe(nr())}(t.component,t.route,n,e,r)),ye(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ie.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(mt.a)(e).pipe(oe(e=>Rt(function(t,e){return null!==t&&e&&e(new Re(t)),Object(yt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Le(t)),Object(yt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Lt(()=>{const i=e.guards.map(i=>{const o=Tr(i,e.node,n);let s;if(function(t){return t&&Zn(t.canActivateChild)}(o))s=Qe(o.canActivateChild(r,t));else{if(!Zn(o))throw new Error("Invalid CanActivateChild guard");s=Qe(o(r,t))}return s.pipe(ye())});return Object(yt.a)(i).pipe(nr())}));return Object(yt.a)(i).pipe(nr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>Lt(()=>{const i=Tr(r,e,n);let o;if(function(t){return t&&Zn(t.canActivate)}(i))o=Qe(i.canActivate(e,t));else{if(!Zn(i))throw new Error("Invalid CanActivate guard");o=Qe(i(e,t))}return o.pipe(ye())}));return Object(yt.a)(i).pipe(nr())}(t,e.route,n))),ye(t=>!0!==t,!0))}(r,o,t,e):Object(yt.a)(n)),Object(Ft.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ve.a)(t=>{if(tr(t.guardsResult)){const e=Be(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Jt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Te(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Vr(t=>{if(t.guards.canActivateChecks.length)return Object(yt.a)(t).pipe(Object(ve.a)(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),qt(t=>{let n=!1;return Object(yt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ie.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(yt.a)(t);let o=0;return Object(mt.a)(n).pipe(oe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(yt.a)({});const o={};return Object(mt.a)(i).pipe(Object(ie.a)(i=>function(t,e,n,r){const i=Tr(t,e,r);return Qe(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ve.a)(t=>{o[i]=t}))),se(1),Object(ie.a)(()=>Object.keys(o).length===i.length?Object(yt.a)(o):Mt.a))}(t._resolve,t,e,r).pipe(Object(Ft.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),An(t,n).resolve),null)))}(t.route,e,r,i)),Object(ve.a)(()=>o++),se(1),Object(ie.a)(e=>o===n.length?Object(yt.a)(t):Mt.a))})),Object(ve.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Te(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ve.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Vr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ft.a)(t=>{const e=function(t,e,n){const r=Mn(t,e._root,n?n._root:void 0);return new Tn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ve.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Ft.a)(t=>(new Yn(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(ve.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Te(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new _e(i))),ee(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=tr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Te(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ie(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(bl){t.reject(bl)}}var i;return Mt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ir(t),this.config=t.map(ar),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Un(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Bn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return We(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Bn(n,e,r)}(n);if(o.toRoot())return Un(e.root,new en([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Hn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Hn(t,t===e.root,0)}const r=Vn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Hn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Gn(s.segmentGroup,s.index,o.commands):zn(s.segmentGroup,s.index,o.commands);return Un(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=tr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Qv){e=this.malformedUriErrorHandler(Qv,this.urlSerializer,t)}return e}isActive(t,e){if(tr(t))return Ye(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ye(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ee(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.N),r.Sb(on),r.Sb(Hr),r.Sb(_),r.Sb(r.s),r.Sb(r.x),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Qr=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Yr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Hr),r.Mb(r.Q),r.Mb(r.j),r.Tb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Yr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===xn?this.route:t===Hr?this.childContexts:this.parent.get(t,e)}}class Xr{}class Jr{preload(t,e){return Object(yt.a)(null)}}let Zr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new qr(e,n,e=>t.triggerEvent(new Ne(e)),e=>t.triggerEvent(new De(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(t=>t instanceof Ee),oe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(mt.a)(n).pipe(Object(Dt.a)(),Object(Ft.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(yt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(ie.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Wr),r.Sb(r.x),r.Sb(r.i),r.Sb(r.s),r.Sb(Xr))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ti=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ce?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ee&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Fe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Wr),r.Sb(L),r.Sb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ei=new r.r("ROUTER_CONFIGURATION"),ni=new r.r("ROUTER_FORROOT_GUARD"),ri=[_,{provide:on,useClass:sn},{provide:Wr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Wr(null,t,e,n,r,i,s,Ke(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[on,Hr,_,r.s,r.x,r.i,Ur,ei,[class{},new r.B],[class{},new r.B]]},Hr,{provide:xn,useFactory:function(t){return t.routerState.root},deps:[Wr]},{provide:r.x,useClass:r.K},Zr,Jr,class{preload(t,e){return e().pipe(ee(()=>Object(yt.a)(null)))}},{provide:ei,useValue:{enableTracing:!1}}];function ii(){return new r.z("Router",Wr)}let oi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ri,ci(e),{provide:ni,useFactory:ui,deps:[[Wr,new r.B,new r.J]]},{provide:ei,useValue:n||{}},{provide:m,useFactory:ai,deps:[a,[new r.p(v),new r.B],ei]},{provide:ti,useFactory:si,deps:[Wr,L,ei]},{provide:Xr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Jr},{provide:r.z,multi:!0,useFactory:ii},[li,{provide:r.d,multi:!0,useFactory:hi,deps:[li]},{provide:di,useFactory:fi,deps:[li]},{provide:r.b,multi:!0,useExisting:di}]]}}static forChild(e){return{ngModule:t,providers:[ci(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ni,8),r.Sb(Wr,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function si(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ti(t,e,n)}function ai(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function ui(t){return"guarded"}function ci(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ur,multi:!0,useValue:t}]}let li=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new vt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Wr),r=this.injector.get(ei);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(yt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ei),n=this.injector.get(Zr),i=this.injector.get(ti),o=this.injector.get(Wr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function hi(t){return t.appInitializer.bind(t)}function fi(t){return t.bootstrapListener.bind(t)}const di=new r.r("Router Initializer"),pi=[];let gi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[oi.forRoot(pi)],oi]}),t})(),mi=(()=>{class t{constructor(){this.emitter=new r.n}emit(t){this.emitter.emit(t)}subscribe(t){return this.emitter.subscribe(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yi(t,e){if(1&t&&(r.Pb(0,"div",5),r.ec(1),r.Ob()),2&t){const t=e.$implicit;r.Bb(1),r.fc(t.name)}}let vi=(()=>{class t{constructor(){this.isBackgroundWhite=!1,this.navs=[{id:0,name:"Home"},{id:1,name:"Courses"},{id:2,name:"About Us"},{id:2,name:"Contact Us"}]}ngOnInit(){}onWindowScroll(){const t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.isBackgroundWhite=0!=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-header"]],hostBindings:function(t,e){1&t&&r.Vb("scroll",function(){return e.onWindowScroll()},!1,r.ac)},decls:5,vars:3,consts:[[1,"header-component"],[1,"logo"],["src","assets/images/nosir.png"],[1,"navigation"],["class","nav",4,"ngFor","ngForOf"],[1,"nav"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Nb(2,"img",2),r.Ob(),r.Pb(3,"div",3),r.dc(4,yi,2,1,"div",4),r.Ob(),r.Ob()),2&t&&(r.Eb("white",e.isBackgroundWhite),r.Bb(4),r.Xb("ngForOf",e.navs))},directives:[k],styles:[".header-component[_ngcontent-%COMP%]{width:100%;height:100px;color:#fff;padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;flex-direction:row}.header-component.white[_ngcontent-%COMP%]{background-color:#fff;color:#000}.header-component[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .header-component[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.header-component[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex-direction:row;min-width:50%}.header-component[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{margin:0 1rem;font-size:1.5rem}"]}),t})(),bi=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"home-component"],[1,"tagline"],[1,"image"],["src","assets/images/kid2.png"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.ec(2," Ab sikho kuch bhi khien bhi!! "),r.Ob(),r.Pb(3,"div",2),r.Nb(4,"img",3),r.Ob(),r.Ob())},styles:[".home-component[_ngcontent-%COMP%]{background-color:#952e16;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:row;flex-wrap:wrap;min-height:100vh;width:100%;padding:0 1rem}.home-component[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:4rem;flex:1;font-weight:700;text-align:center}.home-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .home-component[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row}.home-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex:1}.home-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),t})();var wi=n("D0XW");function _i(){return t=>t.lift(new Oi)}class Oi{call(t,e){return e.subscribe(new Si(t))}}class Si extends St.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Ci{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ei(t,this.compare,this.keySelector))}}class Ei extends St.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ti=n("pxpQ"),Ii=n("spgP"),xi=n("Jgta"),Ai=n("zIRd"),ki=n("qOnz"),ji=n("q/0M"),Pi=function(t,e){return(Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ni(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Di,Ri="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mi=Mi||{},Li=Ri||self;function Vi(){}function Fi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ui(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qi="closure_uid_"+(1e9*Math.random()>>>0),Bi=0;function Hi(t,e,n){return t.call.apply(t.bind,arguments)}function zi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Gi(t,e,n){return(Gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hi:zi).apply(null,arguments)}function Ki(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $i(){return Date.now()}function Wi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Qi(){this.j=this.j,this.i=this.i}Qi.prototype.j=!1,Qi.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,qi)&&t[qi]||(t[qi]=++Bi)}(this)},Qi.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Yi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ji(t){return Array.prototype.concat.apply([],arguments)}function Zi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function to(t){return/^[\s\xa0]*$/.test(t)}var eo,no=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ro(t,e){return-1!=t.indexOf(e)}function io(t,e){return t<e?-1:t>e?1:0}t:{var oo=Li.navigator;if(oo){var so=oo.userAgent;if(so){eo=so;break t}}eo=""}function ao(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function uo(t){var e={};for(var n in t)e[n]=t[n];return e}var co="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<co.length;o++)n=co[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ho(t){return ho[" "](t),t}ho[" "]=Vi;var fo,po,go=ro(eo,"Opera"),mo=ro(eo,"Trident")||ro(eo,"MSIE"),yo=ro(eo,"Edge"),vo=yo||mo,bo=ro(eo,"Gecko")&&!(ro(eo.toLowerCase(),"webkit")&&!ro(eo,"Edge"))&&!(ro(eo,"Trident")||ro(eo,"MSIE"))&&!ro(eo,"Edge"),wo=ro(eo.toLowerCase(),"webkit")&&!ro(eo,"Edge");function _o(){var t=Li.document;return t?t.documentMode:void 0}t:{var Oo="",So=(po=eo,bo?/rv:([^\);]+)(\)|;)/.exec(po):yo?/Edge\/([\d\.]+)/.exec(po):mo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(po):wo?/WebKit\/(\S+)/.exec(po):go?/(?:Version)[ \/]?(\S+)/.exec(po):void 0);if(So&&(Oo=So?So[1]:""),mo){var Co=_o();if(null!=Co&&Co>parseFloat(Oo)){fo=String(Co);break t}}fo=Oo}var Eo={};function To(t){return function(t,e){var n=Eo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=no(String(fo)).split("."),r=no(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=io(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||io(0==s[2].length,0==a[2].length)||io(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Io=Li.document&&mo&&(_o()||parseInt(fo,10))||void 0,xo=!mo||9<=Number(Io),Ao=mo&&!To("9"),ko=function(){if(!Li.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Li.addEventListener("test",Vi,e),Li.removeEventListener("test",Vi,e)}catch(n){}return t}();function jo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Po(t,e){if(jo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(bo){t:{try{ho(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:No[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}jo.prototype.b=function(){this.defaultPrevented=!0},Wi(Po,jo);var No={2:"touch",3:"pen",4:"mouse"};Po.prototype.b=function(){Po.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ao)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Do="closure_listenable_"+(1e6*Math.random()|0),Ro=0;function Mo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++Ro,this.Y=this.Z=!1}function Lo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function Vo(t){this.src=t,this.a={},this.b=0}function Fo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Yi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Lo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Uo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}Vo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Uo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Mo(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var qo="closure_lm_"+(1e6*Math.random()|0),Bo={};function Ho(t,e,n,r,i){if(r&&r.once)return Go(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ho(t,e[o],n,r,i);return null}return n=Zo(n),t&&t[Do]?t.wa(e,n,Ui(r)?!!r.capture:!!r,i):zo(t,e,n,!1,r,i)}function zo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ui(i)?!!i.capture:!!i;if(s&&!xo)return null;var a=Xo(t);if(a||(t[qo]=a=new Vo(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Yo,e=xo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ko||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Wo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Go(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Go(t,e[o],n,r,i);return null}return n=Zo(n),t&&t[Do]?t.xa(e,n,Ui(r)?!!r.capture:!!r,i):zo(t,e,n,!0,r,i)}function Ko(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ko(t,e[o],n,r,i);else r=Ui(r)?!!r.capture:!!r,n=Zo(n),t&&t[Do]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Uo(o=t.a[e],n,r,i))&&(Lo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Xo(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Uo(e,n,r,i)),(n=-1<t?e[t]:null)&&$o(n))}function $o(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Do])Fo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Wo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xo(e))?(Fo(n,t),0==n.b&&(n.src=null,e[qo]=null)):Lo(t)}}}function Wo(t){return t in Bo?Bo[t]:Bo[t]="on"+t}function Qo(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&$o(t),n.call(r,e)}function Yo(t,e){if(t.Y)return!0;if(!xo){if(!e)t:{e=["window","event"];for(var n=Li,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Qo(t,e=new Po(e,this))}return Qo(t,new Po(e,this))}function Xo(t){return(t=t[qo])instanceof Vo?t:null}var Jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zo(t){return"function"==typeof t?t:(t[Jo]||(t[Jo]=function(e){return t.handleEvent(e)}),t[Jo])}function ts(){Qi.call(this),this.c=new Vo(this),this.J=this,this.D=null}function es(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new jo(e,t);else if(e instanceof jo)e.target=e.target||t;else{var i=e;lo(e=new jo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ns(s,r,!0,e)&&i}if(i=ns(s=e.a=t,r,!0,e)&&i,i=ns(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ns(s=e.a=n[o],r,!1,e)&&i}function ns(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&Fo(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Wi(ts,Qi),ts.prototype[Do]=!0,(Di=ts.prototype).addEventListener=function(t,e,n,r){Ho(this,t,e,n,r)},Di.removeEventListener=function(t,e,n,r){Ko(this,t,e,n,r)},Di.H=function(){if(ts.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Lo(n[r]);delete e.a[t],e.b--}}this.D=null},Di.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Di.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var rs=Li.JSON.stringify;function is(){this.b=this.a=null}var os,ss=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new us},function(t){t.reset()});function as(){var t=fs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function us(){this.next=this.b=this.a=null}function cs(t){Li.setTimeout(function(){throw t},0)}function ls(t,e){os||function(){var t=Li.Promise.resolve(void 0);os=function(){t.then(ds)}}(),hs||(os(),hs=!0),fs.add(t,e)}is.prototype.add=function(t,e){var n=ss.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},us.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},us.prototype.reset=function(){this.next=this.b=this.a=null};var hs=!1,fs=new is;function ds(){for(var t;t=as();){try{t.a.call(t.b)}catch(n){cs(n)}var e=ss;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}hs=!1}function ps(t,e){ts.call(this),this.b=t||1,this.a=e||Li,this.f=Gi(this.eb,this),this.g=$i()}function gs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ms(t,e,n){if("function"==typeof t)n&&(t=Gi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Li.setTimeout(t,e||0)}function ys(t){t.a=ms(function(){t.a=null,t.c&&(t.c=!1,ys(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Wi(ps,ts),(Di=ps.prototype).aa=!1,Di.M=null,Di.eb=function(){if(this.aa){var t=$i()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),es(this,"tick"),this.aa&&(gs(this),this.start()))}},Di.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=$i())},Di.H=function(){ps.X.H.call(this),gs(this),delete this.a};var vs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Pi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ys(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(Li.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Qi);function bs(t){Qi.call(this),this.b=t,this.a={}}Wi(bs,Qi);var ws=[];function _s(t,e,n,r){Array.isArray(n)||(n&&(ws[0]=n.toString()),n=ws);for(var i=0;i<n.length;i++){var o=Ho(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Os(t){ao(t.a,function(t,e){this.a.hasOwnProperty(e)&&$o(t)},t),t.a={}}function Ss(){this.a=!0}function Cs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return rs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}bs.prototype.H=function(){bs.X.H.call(this),Os(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ss.prototype.info=function(){};var Es={},Ts=null;function Is(){return Ts=Ts||new ts}function xs(t){jo.call(this,Es.Ga,t)}function As(t){var e=Is();es(e,new xs(e,t))}function ks(t,e){jo.call(this,Es.STAT_EVENT,t),this.stat=e}function js(t){var e=Is();es(e,new ks(e,t))}function Ps(t){jo.call(this,Es.Ha,t)}function Ns(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Li.setTimeout(function(){t()},e)}Es.Ga="serverreachability",Wi(xs,jo),Es.STAT_EVENT="statevent",Wi(ks,jo),Es.Ha="timingevent",Wi(Ps,jo);var Ds={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},Rs={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function Ms(){}function Ls(){}Ms.prototype.b=null;var Vs,Fs={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function Us(){jo.call(this,"d")}function qs(){jo.call(this,"c")}function Bs(){}function Hs(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new bs(this),this.P=zs,this.R=new ps(t=vo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Wi(Us,jo),Wi(qs,jo),Wi(Bs,Ms),Bs.prototype.a=function(){return new XMLHttpRequest},Bs.prototype.c=function(){return{}},Vs=new Bs;var zs=45e3,Gs={},Ks={};function $s(t,e,n){t.G=1,t.i=ga(ca(e)),t.j=n,t.I=!0,Ws(t,null)}function Ws(t,e){t.u=$i(),Xs(t),t.l=ca(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),xa(n.b,"t",r),t.D=0,t.a=Ou(t.g,t.g.C?e:null),0<t.O&&(t.F=new vs(Gi(t.Da,t,t.a),t.O)),_s(t.J,t.a,"readystatechange",t.bb),e=t.B?uo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),As(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Qs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ys(t,n);if(i==Ks){4==e&&(t.h=4,js(14),r=!1),Cs(t.c,t.f,null,"[Incomplete Response]");break}if(i==Gs){t.h=4,js(15),Cs(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Cs(t.c,t.f,i,null),na(t,i)}4==e&&0==n.length&&(t.h=1,js(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),pu(e),e.F=!0,js(11))):(Cs(t.c,t.f,n,"[Invalid Chunked Response]"),ea(t),ta(t))}function Ys(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ks:(n=Number(e.substring(n,r)),isNaN(n)?Gs:(r+=1)+n>e.length?Ks:(e=e.substr(r,n),t.D=r+n,e))}function Xs(t){t.T=$i()+t.P,Js(t,t.P)}function Js(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ns(Gi(t.$a,t),e)}function Zs(t){t.o&&(Li.clearTimeout(t.o),t.o=null)}function ta(t){0==t.g.v||t.A||yu(t.g,t)}function ea(t){Zs(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,gs(t.R),Os(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function na(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ra(n.b,t)))if(n.I=t.N,!t.C&&Ra(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(Ev){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;mu(n),ou(n)}du(n),js(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Ns(Gi(n.Xa,n),6e3));if(1>=Da(n.b)&&n.fa){try{n.fa()}catch(Ev){}n.fa=void 0}}else bu(n,11)}else if((t.C||n.a==t)&&mu(n),!to(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ro(l,"spdy")||ro(l,"quic")||ro(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ma(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,pa(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=$i()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=_u(u,u.C?u.ha:null,u.ga),d.C){La(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Zs(p),Xs(p)),u.a=d}else fu(u);0<n.g.length&&uu(n)}else"stop"!=i[0]&&"close"!=i[0]||bu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?bu(n,7):iu(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);As(4)}catch(Ev){}}function ra(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fi(t)||"string"==typeof t)Xi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Fi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Fi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ia(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ia)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function oa(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];sa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)sa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function sa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Di=Hs.prototype).setTimeout=function(t){this.P=t},Di.bb=function(t){t=t.target;var e=this.F;e&&3==tu(t)?e.f():this.Da(t)},Di.Da=function(t){try{if(t==this.a)t:{var e=tu(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!vo&&!this.a.$())){this.A||4!=e||7==n||As(8==n||0>=r?3:2),Zs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!to(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,js(12),ea(this),ta(this);break t}Cs(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,na(this,u)}this.I?(Qs(this,e,o),vo&&this.b&&3==e&&(_s(this.J,this.R,"tick",this.ab),this.R.start())):(Cs(this.c,this.f,o,null),na(this,o)),4==e&&ea(this),this.b&&!this.A&&(4==e?yu(this.g,this):(this.b=!1,Xs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,js(12)):(this.h=0,js(13)),ea(this),ta(this)}}}catch(c){}},Di.ab=function(){if(this.a){var t=tu(this.a),e=this.a.$();this.D<e.length&&(Zs(this),Qs(this,t,e),this.b&&4!=t&&Xs(this))}},Di.cancel=function(){this.A=!0,ea(this)},Di.$a=function(){this.o=null;var t=$i();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(As(3),js(17)),ea(this),this.h=2,ta(this)):Js(this,this.T-t)},(Di=ia.prototype).K=function(){oa(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Di.L=function(){return oa(this),this.a.concat()},Di.get=function(t,e){return sa(this.b,t)?this.b[t]:e},Di.set=function(t,e){sa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Di.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var aa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ua(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ua){this.a=void 0!==e?e:t.a,la(this,t.f),this.j=t.j,ha(this,t.c),fa(this,t.h),this.g=t.g,e=t.b;var n=new Ca;n.c=e.c,e.a&&(n.a=new ia(e.a),n.b=e.b),da(this,n),this.i=t.i}else t&&(n=String(t).match(aa))?(this.a=!!e,la(this,n[1]||"",!0),this.j=ma(n[2]||""),ha(this,n[3]||"",!0),fa(this,n[4]),this.g=ma(n[5]||"",!0),da(this,n[6]||"",!0),this.i=ma(n[7]||"")):(this.a=!!e,this.b=new Ca(null,this.a))}function ca(t){return new ua(t)}function la(t,e,n){t.f=n?ma(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ha(t,e,n){t.c=n?ma(e,!0):e}function fa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function da(t,e,n){e instanceof Ca?(t.b=e,function(t,e){e&&!t.f&&(Ea(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ta(this,e),xa(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ya(e,Oa)),t.b=new Ca(e,t.a))}function pa(t,e,n){t.b.set(e,n)}function ga(t){return pa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^$i()).toString(36)),t}function ma(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ya(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,va),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function va(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ua.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ya(e,ba,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ya(e,ba,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ya(n,"/"==n.charAt(0)?_a:wa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ya(n,Sa)),t.join("")};var ba=/[#\/\?@]/g,wa=/[#\?:]/g,_a=/[#\?]/g,Oa=/[#\?@]/g,Sa=/#/g;function Ca(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ea(t){t.a||(t.a=new ia,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ta(t,e){Ea(t),e=Aa(t,e),sa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,sa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&oa(t)))}function Ia(t,e){return Ea(t),e=Aa(t,e),sa(t.a.b,e)}function xa(t,e,n){Ta(t,e),0<n.length&&(t.c=null,t.a.set(Aa(t,e),Zi(n)),t.b+=n.length)}function Aa(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Di=Ca.prototype).add=function(t,e){Ea(this),this.c=null,t=Aa(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Di.forEach=function(t,e){Ea(this),this.a.forEach(function(n,r){Xi(n,function(n){t.call(e,n,r,this)},this)},this)},Di.L=function(){Ea(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Di.K=function(t){Ea(this);var e=[];if("string"==typeof t)Ia(this,t)&&(e=Ji(e,this.a.get(Aa(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ji(e,t[n])}return e},Di.set=function(t,e){return Ea(this),this.c=null,Ia(this,t=Aa(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Di.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Di.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ka=function(){return function(t,e){this.b=t,this.a=e}}();function ja(t){this.g=t||Pa,t=Li.PerformanceNavigationTiming?0<(t=Li.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Li.ja&&Li.ja.za&&Li.ja.za()&&Li.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Pa=10;function Na(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Da(t){return t.b?1:t.a?t.a.size:0}function Ra(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ma(t,e){t.a?t.a.add(e):t.b=e}function La(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Va(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ni(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Zi(t.c)}function Fa(){}function Ua(){this.a=new Fa}function qa(t,e,n){var r=n||"";try{ra(t,function(t,n){var i=t;Ui(t)&&(i=rs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Qv){throw e.push(r+"type="+encodeURIComponent("_badmap")),Qv}}function Ba(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ja.prototype.cancel=function(){var t,e;if(this.c=Va(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ni(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Fa.prototype.stringify=function(t){return Li.JSON.stringify(t,void 0)},Fa.prototype.parse=function(t){return Li.JSON.parse(t,void 0)};var Ha=Li.JSON.parse;function za(t){ts.call(this),this.headers=new ia,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=Ga,this.F=this.G=!1}Wi(za,ts);var Ga="",Ka=/^https?$/i,$a=["POST","PUT"];function Wa(t){return"content-type"==t.toLowerCase()}function Qa(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ya(t),Ja(t)}function Ya(t){t.A||(t.A=!0,es(t,"complete"),es(t,"error"))}function Xa(t){if(t.b&&void 0!==Mi&&(!t.u[1]||4!=tu(t)||2!=t.W()))if(t.m&&4==tu(t))ms(t.Aa,0,t);else if(es(t,"readystatechange"),4==tu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(aa)[1]||null;if(!o&&Li.self&&Li.self.location){var s=Li.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ka.test(o?o.toLowerCase():"")}e=i}if(e)es(t,"complete"),es(t,"success");else{t.h=6;try{var a=2<tu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ya(t)}}finally{Ja(t)}}}function Ja(t,e){if(t.a){Za(t);var n=t.a,r=t.u[0]?Vi:null;t.a=null,t.u=null,e||es(t,"ready");try{n.onreadystatechange=r}catch(Qv){}}}function Za(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(Li.clearTimeout(t.o),t.o=null)}function tu(t){return t.a?t.a.readyState:0}function eu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ao(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pa(t,e,n))}function nu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ru(t){this.qa=0,this.g=[],this.c=new Ss,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=nu("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=nu("baseRetryDelayMs",5e3,t),this.Sa=nu("retryDelaySeedMs",1e4,t),this.Na=nu("forwardChannelMaxRetries",2,t),this.na=nu("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ja(t&&t.concurrentRequestLimit),this.la=new Ua,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function iu(t){if(su(t),3==t.v){var e=t.R++,n=ca(t.B);pa(n,"SID",t.J),pa(n,"RID",e),pa(n,"TYPE","terminate"),lu(t,n),(e=new Hs(t,t.c,e,void 0)).G=2,e.i=ga(ca(n)),n=!1,Li.navigator&&Li.navigator.sendBeacon&&(n=Li.navigator.sendBeacon(e.i.toString(),"")),!n&&Li.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ou(e.g,null),e.a.ba(e.i)),e.u=$i(),Xs(e)}wu(t)}function ou(t){t.a&&(pu(t),t.a.cancel(),t.a=null)}function su(t){ou(t),t.j&&(Li.clearTimeout(t.j),t.j=null),mu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Li.clearTimeout(t.h),t.h=null)}function au(t,e){t.g.push(new ka(t.Pa++,e)),3==t.v&&uu(t)}function uu(t){Na(t.b)||t.h||(t.h=!0,ls(t.Ca,t),t.u=0)}function cu(t,e){var n;n=e?e.f:t.R++;var r=ca(t.B);pa(r,"SID",t.J),pa(r,"RID",n),pa(r,"AID",t.P),lu(t,r),t.i&&t.l&&eu(r,t.i,t.l),n=new Hs(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=hu(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),Ma(t.b,n),$s(n,r,e)}function lu(t,e){t.f&&ra({},function(t,n){pa(e,n,t)})}function hu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Gi(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{qa(l,s,"req"+c+"_")}catch(oc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function fu(t){t.a||t.j||(t.T=1,ls(t.Ba,t),t.o=0)}function du(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ns(Gi(t.Ba,t),vu(t,t.o)),t.o++,0))}function pu(t){null!=t.s&&(Li.clearTimeout(t.s),t.s=null)}function gu(t){t.a=new Hs(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ca(t.ma);pa(e,"RID","rpc"),pa(e,"SID",t.J),pa(e,"CI",t.G?"0":"1"),pa(e,"AID",t.P),lu(t,e),pa(e,"TYPE","xmlhttp"),t.i&&t.l&&eu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=ga(ca(e)),n.j=null,n.I=!0,Ws(n,t)}function mu(t){null!=t.m&&(Li.clearTimeout(t.m),t.m=null)}function yu(t,e){var n=null;if(t.a==e){mu(t),pu(t),t.a=null;var r=2}else{if(!Ra(t.b,e))return;n=e.s,La(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=$i()-e.u;var i=t.u;es(r=Is(),new Ps(r,n,e,i)),uu(t)}else fu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Da(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Ns(Gi(t.Ca,t,e),vu(t,t.u)),t.u++,0)))}(t,e)||2==r&&du(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:bu(t,5);break;case 4:bu(t,10);break;case 3:bu(t,6);break;default:bu(t,2)}}function vu(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function bu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Gi(t.cb,t);n||(n=new ua("//www.google.com/images/cleardot.gif"),Li.location&&"http"==Li.location.protocol||la(n,"https"),ga(n)),function(t,e){var n=new Ss;if(Li.Image){var r=new Image;r.onload=Ki(Ba,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ki(Ba,n,r,"TestLoadImage: error",!1,e),r.onabort=Ki(Ba,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ki(Ba,n,r,"TestLoadImage: timeout",!1,e),Li.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else js(2);t.v=0,t.f&&t.f.sa(e),wu(t),su(t)}function wu(t){t.v=0,t.I=-1,t.f&&(0==Va(t.b).length&&0==t.g.length||(t.b.c.length=0,Zi(t.g),t.g.length=0),t.f.ra())}function _u(t,e,n){var r=function(t){return t instanceof ua?ca(t):new ua(t,void 0)}(n);if(""!=r.c)e&&ha(r,e+"."+r.c),fa(r,r.h);else{var i=Li.location;r=function(t,e,n,r){var i=new ua(null,void 0);return t&&la(i,t),e&&ha(i,e),n&&fa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ao(t.V,function(t,e){pa(r,e,t)}),n=t.oa,(e=t.A)&&n&&pa(r,e,n),pa(r,"VER",t.ia),lu(t,r),r}function Ou(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new za(t.Oa)).G=t.C,e}function Su(){}function Cu(){if(mo&&!(10<=Number(Io)))throw Error("Environmental error: no available transport.")}function Eu(t,e){ts.call(this),this.a=new ru(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!to(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!to(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new xu(this)}function Tu(t){Us.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Iu(){qs.call(this),this.status=1}function xu(t){this.a=t}function Au(t){this.f=t}function ku(t){ts.call(this),this.u=t,this.h=void 0,this.readyState=ju,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(Di=za.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Vs.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Vs),this.a.onreadystatechange=Gi(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void Qa(this,o)}t=n||"";var i=new ia(this.headers);r&&ra(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Wa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Li.FormData&&t instanceof Li.FormData,!(0<=Yi($a,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Za(this),0<this.s&&((this.F=function(t){return mo&&To(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=Gi(this.ya,this)):this.o=ms(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){Qa(this,o)}},Di.ya=function(){void 0!==Mi&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,es(this,"timeout"),this.abort(8))},Di.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,es(this,"complete"),es(this,"abort"),Ja(this))},Di.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ja(this,!0)),za.X.H.call(this)},Di.Aa=function(){this.j||(this.B||this.m||this.g?Xa(this):this.Za())},Di.Za=function(){Xa(this)},Di.W=function(){try{return 2<tu(this)?this.a.status:-1}catch(po){return-1}},Di.$=function(){try{return this.a?this.a.responseText:""}catch(po){return""}},Di.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ha(e)}},Di.va=function(){return this.h},Di.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(Di=ru.prototype).ia=8,Di.v=1,Di.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Hs(this,this.c,t,void 0),r=this.l;if(this.O&&(r?lo(r=uo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=hu(this,n,e),pa(i=ca(this.B),"RID",t),pa(i,"CVER",22),this.A&&pa(i,"X-HTTP-Session-Id",this.A),lu(this,i),this.i&&r&&eu(i,this.i,r),Ma(this.b,n),this.Ja&&pa(i,"TYPE","init"),this.ea?(pa(i,"$req",e),pa(i,"SID","null"),n.U=!0,$s(n,i,null)):$s(n,i,e),this.v=2}}else 3==this.v&&(t?cu(this,t):0==this.g.length||Na(this.b)||cu(this))},Di.Ba=function(){if(this.j=null,gu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ns(Gi(this.Ya,this),t)}},Di.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,js(10),ou(this),gu(this))},Di.Xa=function(){null!=this.m&&(this.m=null,ou(this),du(this),js(19))},Di.cb=function(t){t?(this.c.info("Successfully pinged google.com"),js(2)):(this.c.info("Failed to ping google.com"),js(1))},(Di=Su.prototype).ua=function(){},Di.ta=function(){},Di.sa=function(){},Di.ra=function(){},Di.Ka=function(){},Cu.prototype.a=function(t,e){return new Eu(t,e)},Wi(Eu,ts),Eu.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;js(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=_u(t,null,t.ga),uu(t)},Eu.prototype.close=function(){iu(this.a)},Eu.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,au(this.a,e)}else this.m?((e={}).__data__=rs(t),au(this.a,e)):au(this.a,t)},Eu.prototype.H=function(){this.a.f=null,delete this.f,iu(this.a),delete this.a,Eu.X.H.call(this)},Wi(Tu,Us),Wi(Iu,qs),Wi(xu,Su),xu.prototype.ua=function(){es(this.a,"a")},xu.prototype.ta=function(t){es(this.a,new Tu(t))},xu.prototype.sa=function(t){es(this.a,new Iu(t))},xu.prototype.ra=function(){es(this.a,"b")},Wi(Au,Ms),Au.prototype.a=function(){return new ku(this.f)},Au.prototype.c=function(t){return function(){return t}}({}),Wi(ku,ts);var ju=0;function Pu(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Nu(t){t.readyState=4,t.g=null,t.f=null,t.m=null,Du(t)}function Du(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Di=ku.prototype).open=function(t,e){if(this.readyState!=ju)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,Du(this)},Di.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},Di.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Nu(this)),this.readyState=ju},Di.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Du(this)),this.a&&(this.readyState=3,Du(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==Li.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Pu(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},Di.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Nu(this):Du(this),3==this.readyState&&Pu(this)}},Di.Va=function(t){this.a&&(this.responseText=t,Nu(this))},Di.Ua=function(){this.a&&Nu(this)},Di.ca=function(){this.a&&Nu(this)},Di.setRequestHeader=function(t,e){this.l.append(t,e)},Di.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},Di.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ku.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),Cu.prototype.createWebChannel=Cu.prototype.a,Eu.prototype.send=Eu.prototype.l,Eu.prototype.open=Eu.prototype.h,Eu.prototype.close=Eu.prototype.close,Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Rs.COMPLETE="complete",Ls.EventType=Fs,Fs.OPEN="a",Fs.CLOSE="b",Fs.ERROR="c",Fs.MESSAGE="d",ts.prototype.listen=ts.prototype.wa,za.prototype.listenOnce=za.prototype.xa,za.prototype.getLastError=za.prototype.Ra,za.prototype.getLastErrorCode=za.prototype.va,za.prototype.getStatus=za.prototype.W,za.prototype.getResponseJson=za.prototype.Qa,za.prototype.getResponseText=za.prototype.$,za.prototype.send=za.prototype.ba;var Ru=Ds,Mu=Rs,Lu=Es,Vu=Au,Fu=Ls,Uu=za,qu=n("mrSG"),Bu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Bu.o=-1;var Hu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(qu.c)(e,t),e}(Error),Gu=new ji.b("@firebase/firestore");function Ku(){return Gu.logLevel}function $u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gu.logLevel<=ji.a.DEBUG){var r=e.map(Yu);Gu.debug.apply(Gu,Object(qu.f)(["Firestore (8.6.7): "+t],r))}}function Wu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gu.logLevel<=ji.a.ERROR){var r=e.map(Yu);Gu.error.apply(Gu,Object(qu.f)(["Firestore (8.6.7): "+t],r))}}function Qu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gu.logLevel<=ji.a.WARN){var r=e.map(Yu);Gu.warn.apply(Gu,Object(qu.f)(["Firestore (8.6.7): "+t],r))}}function Yu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Qv){return t}}function Xu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.7) INTERNAL ASSERTION FAILED: "+t;throw Wu(e),new Error(e)}function Ju(t,e){t||Xu()}function Zu(t,e){return t}function tc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ec=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=tc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function nc(t,e){return t<e?-1:t>e?1:0}function rc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ic(t){return t+"\0"}var oc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new zu(Hu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new zu(Hu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new zu(Hu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zu(Hu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?nc(this.nanoseconds,t.nanoseconds):nc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),sc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new oc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function ac(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var lc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Xu(),void 0===n?n=t.length-e:n>t.length-e&&Xu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(qu.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new zu(Hu.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(lc),fc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(qu.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return fc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new zu(Hu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new zu(Hu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new zu(Hu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new zu(Hu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(lc),pc=function(){function t(t){this.fields=t,t.sort(dc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return rc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),gc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return nc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();gc.EMPTY_BYTE_STRING=new gc("");var mc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yc(t){if(Ju(!!t),"string"==typeof t){var e=0,n=mc.exec(t);if(Ju(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vc(t.seconds),nanos:vc(t.nanos)}}function vc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bc(t){return"string"==typeof t?gc.fromBase64String(t):gc.fromUint8Array(t)}function wc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _c(t){var e=t.mapValue.fields.__previous_value__;return wc(e)?_c(e):e}function Oc(t){var e=yc(t.mapValue.fields.__local_write_time__.timestampValue);return new oc(e.seconds,e.nanos)}function Sc(t){return null==t}function Cc(t){return 0===t&&1/t==-1/0}function Ec(t){return"number"==typeof t&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Tc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(hc.fromString(e))},t.fromName=function(e){return new t(hc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===hc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return hc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new hc(e.slice()))},t}();function Ic(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wc(t)?4:10:Xu()}function xc(t,e){var n=Ic(t);if(n!==Ic(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=yc(t.timestampValue),r=yc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return bc(t.bytesValue).isEqual(bc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return vc(t.geoPointValue.latitude)===vc(e.geoPointValue.latitude)&&vc(t.geoPointValue.longitude)===vc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return vc(t.integerValue)===vc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=vc(t.doubleValue),r=vc(e.doubleValue);return n===r?Cc(n)===Cc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],xc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ac(n)!==ac(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xc(n[i],r[i])))return!1;return!0}(t,e);default:return Xu()}}function Ac(t,e){return void 0!==(t.values||[]).find(function(t){return xc(t,e)})}function kc(t,e){var n=Ic(t),r=Ic(e);if(n!==r)return nc(n,r);switch(n){case 0:return 0;case 1:return nc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=vc(t.integerValue||t.doubleValue),r=vc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return jc(t.timestampValue,e.timestampValue);case 4:return jc(Oc(t),Oc(e));case 5:return nc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=bc(t),r=bc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=nc(n[i],r[i]);if(0!==o)return o}return nc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=nc(vc(t.latitude),vc(e.latitude));return 0!==n?n:nc(vc(t.longitude),vc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=kc(n[i],r[i]);if(o)return o}return nc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=nc(r[s],o[s]);if(0!==a)return a;var u=kc(n[r[s]],i[o[s]]);if(0!==u)return u}return nc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Xu()}}function jc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return nc(t,e);var n=yc(t),r=yc(e),i=nc(n.seconds,r.seconds);return 0!==i?i:nc(n.nanos,r.nanos)}function Pc(t){return Nc(t)}function Nc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=yc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bc(t.bytesValue).toBase64():"referenceValue"in t?Tc.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Nc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Nc(t.fields[o])}return e+"}"}(t.mapValue):Xu();var e}function Dc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Rc(t){return!!t&&"integerValue"in t}function Mc(t){return!!t&&"arrayValue"in t}function Lc(t){return!!t&&"nullValue"in t}function Vc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fc(t){return!!t&&"mapValue"in t}function Uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},yc(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return uc(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Uc(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Uc(t.arrayValue.values[r]);return n}return Object.assign({},t)}var qc=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Fc(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Uc(e)},t.prototype.setAll=function(t){var e=this,n=dc.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Uc(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Fc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return xc(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Fc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){uc(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Uc(this.value))},t}();function Bc(t){var e=[];return uc(t.fields,function(t,n){var r=new dc([t]);if(Fc(n)){var i=Bc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new pc(e)}var Hc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,sc.min(),qc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,qc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,qc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=qc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=qc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),zc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Gc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new zc(t,e,n,r,i,o,s)}function Kc(t){var e=Zu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Pc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Sc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ol(e.startAt)),e.endAt&&(n+="|ub:",n+=ol(e.endAt)),e.h=n}return e.h}function $c(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!al(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!xc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cl(t.startAt,e.startAt)&&cl(t.endAt,e.endAt)}function Wc(t){return Tc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Qc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(qu.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Yc(t,n,r):"array-contains"===n?new tl(t,r):"in"===n?new el(t,r):"not-in"===n?new nl(t,r):"array-contains-any"===n?new rl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Xc(t,n):new Jc(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(kc(e,this.value)):null!==e&&Ic(this.value)===Ic(e)&&this.m(kc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Yc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Tc.fromName(r.referenceValue),i}return Object(qu.c)(e,t),e.prototype.matches=function(t){var e=Tc.comparator(t.key,this.key);return this.m(e)},e}(Qc),Xc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Zc(0,n),r}return Object(qu.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qc),Jc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Zc(0,n),r}return Object(qu.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qc);function Zc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Tc.fromName(t.referenceValue)})}var tl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(qu.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Mc(e)&&Ac(e.arrayValue,this.value)},e}(Qc),el=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(qu.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ac(this.value.arrayValue,e)},e}(Qc),nl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(qu.c)(e,t),e.prototype.matches=function(t){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ac(this.value.arrayValue,e)},e}(Qc),rl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(qu.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Mc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ac(e.value.arrayValue,t)})},e}(Qc),il=function(t,e){this.position=t,this.before=e};function ol(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Pc(t)}).join(",")}var sl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function al(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ul(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Tc.comparator(Tc.fromName(s.referenceValue),n.key):kc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function cl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!xc(t.position[n],e.position[n]))return!1;return!0}var ll=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function hl(t,e,n,r,i,o,s,a){return new ll(t,e,n,r,i,o,s,a)}function fl(t){return new ll(t)}function dl(t){return!Sc(t.limit)&&"F"===t.limitType}function pl(t){return!Sc(t.limit)&&"L"===t.limitType}function gl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ml(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function yl(t){return null!==t.collectionGroup}function vl(t){var e=Zu(t);if(null===e.p){e.p=[];var n=ml(e),r=gl(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new sl(n)),e.p.push(new sl(dc.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new sl(dc.keyField(),u))}}}return e.p}function bl(t){var e=Zu(t);if(!e.T)if("F"===e.limitType)e.T=Gc(e.path,e.collectionGroup,vl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=vl(e);r<i.length;r++){var o=i[r];n.push(new sl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new il(e.endAt.position,!e.endAt.before):null,a=e.startAt?new il(e.startAt.position,!e.startAt.before):null;e.T=Gc(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function wl(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _l(t,e){return $c(bl(t),bl(e))&&t.limitType===e.limitType}function Ol(t){return Kc(bl(t))+"|lt:"+t.limitType}function Sl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Pc(e.value);var e}).join(", ")+"]"),Sc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ol(t.startAt)),t.endAt&&(e+=", endAt: "+ol(t.endAt)),"Target("+e+")"}(bl(t))+"; limitType="+t.limitType+")"}function Cl(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Tc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ul(t.startAt,vl(t),e)||t.endAt&&ul(t.endAt,vl(t),e))}(t,e)}function El(t){return function(e,n){for(var r=!1,i=0,o=vl(t);i<o.length;i++){var s=o[i],a=Tl(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Tl(t,e,n){var r=t.field.isKeyField()?Tc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?kc(r,i):Xu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xu()}}function Il(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function xl(t){return{integerValue:""+t}}function Al(t,e){return Ec(e)?xl(e):Il(t,e)}var kl=function(){this._=void 0};function jl(t,e,n){return t instanceof Dl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Rl?Ml(t,e):t instanceof Ll?Vl(t,e):function(t,e){var n=Nl(t,e),r=Ul(n)+Ul(t.A);return Rc(n)&&Rc(t.A)?xl(r):Il(t.R,r)}(t,e)}function Pl(t,e,n){return t instanceof Rl?Ml(t,e):t instanceof Ll?Vl(t,e):n}function Nl(t,e){return t instanceof Fl?Rc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Dl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(qu.c)(e,t),e}(kl),Rl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(qu.c)(e,t),e}(kl);function Ml(t,e){for(var n=ql(e),r=function(t){n.some(function(e){return xc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ll=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(qu.c)(e,t),e}(kl);function Vl(t,e){for(var n=ql(e),r=function(t){n=n.filter(function(e){return!xc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(qu.c)(e,t),e}(kl);function Ul(t){return vc(t.integerValue||t.doubleValue)}function ql(t){return Mc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Bl=function(t,e){this.field=t,this.transform=e},Hl=function(t,e){this.version=t,this.transformResults=e},zl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Gl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Kl=function(){};function $l(t,e,n){t instanceof Jl?function(t,e,n){var r=t.value.clone(),i=eh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Zl?function(t,e,n){if(Gl(t.precondition,e)){var r=eh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(th(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Wl(t,e,n){t instanceof Jl?function(t,e,n){if(Gl(t.precondition,e)){var r=t.value.clone(),i=nh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Xl(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Zl?function(t,e,n){if(Gl(t.precondition,e)){var r=nh(t.fieldTransforms,n,e),i=e.data;i.setAll(th(t)),i.setAll(r),e.convertToFoundDocument(Xl(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Gl(t.precondition,e)&&e.convertToNoDocument(sc.min())}(t,e)}function Ql(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Nl(o.transform,s||null);null!=a&&(null==n&&(n=qc.empty()),n.set(o.field,a))}return n||null}function Yl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&rc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Rl&&e instanceof Rl||t instanceof Ll&&e instanceof Ll?rc(t.elements,e.elements,xc):t instanceof Fl&&e instanceof Fl?xc(t.A,e.A):t instanceof Dl&&e instanceof Dl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Xl(t){return t.isFoundDocument()?t.version:sc.min()}var Jl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(qu.c)(e,t),e}(Kl),Zl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(qu.c)(e,t),e}(Kl);function th(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function eh(t,e,n){var r=new Map;Ju(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Pl(s,a,n[i]))}return r}function nh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,jl(a,u,e))}return r}var rh,ih,oh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(qu.c)(e,t),e}(Kl),sh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(qu.c)(e,t),e}(Kl),ah=function(t){this.count=t};function uh(t){switch(t){case Hu.OK:return Xu();case Hu.CANCELLED:case Hu.UNKNOWN:case Hu.DEADLINE_EXCEEDED:case Hu.RESOURCE_EXHAUSTED:case Hu.INTERNAL:case Hu.UNAVAILABLE:case Hu.UNAUTHENTICATED:return!1;case Hu.INVALID_ARGUMENT:case Hu.NOT_FOUND:case Hu.ALREADY_EXISTS:case Hu.PERMISSION_DENIED:case Hu.FAILED_PRECONDITION:case Hu.ABORTED:case Hu.OUT_OF_RANGE:case Hu.UNIMPLEMENTED:case Hu.DATA_LOSS:return!0;default:return Xu()}}function ch(t){if(void 0===t)return Wu("GRPC error has no .code"),Hu.UNKNOWN;switch(t){case rh.OK:return Hu.OK;case rh.CANCELLED:return Hu.CANCELLED;case rh.UNKNOWN:return Hu.UNKNOWN;case rh.DEADLINE_EXCEEDED:return Hu.DEADLINE_EXCEEDED;case rh.RESOURCE_EXHAUSTED:return Hu.RESOURCE_EXHAUSTED;case rh.INTERNAL:return Hu.INTERNAL;case rh.UNAVAILABLE:return Hu.UNAVAILABLE;case rh.UNAUTHENTICATED:return Hu.UNAUTHENTICATED;case rh.INVALID_ARGUMENT:return Hu.INVALID_ARGUMENT;case rh.NOT_FOUND:return Hu.NOT_FOUND;case rh.ALREADY_EXISTS:return Hu.ALREADY_EXISTS;case rh.PERMISSION_DENIED:return Hu.PERMISSION_DENIED;case rh.FAILED_PRECONDITION:return Hu.FAILED_PRECONDITION;case rh.ABORTED:return Hu.ABORTED;case rh.OUT_OF_RANGE:return Hu.OUT_OF_RANGE;case rh.UNIMPLEMENTED:return Hu.UNIMPLEMENTED;case rh.DATA_LOSS:return Hu.DATA_LOSS;default:return Xu()}}(ih=rh||(rh={}))[ih.OK=0]="OK",ih[ih.CANCELLED=1]="CANCELLED",ih[ih.UNKNOWN=2]="UNKNOWN",ih[ih.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ih[ih.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ih[ih.NOT_FOUND=5]="NOT_FOUND",ih[ih.ALREADY_EXISTS=6]="ALREADY_EXISTS",ih[ih.PERMISSION_DENIED=7]="PERMISSION_DENIED",ih[ih.UNAUTHENTICATED=16]="UNAUTHENTICATED",ih[ih.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ih[ih.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ih[ih.ABORTED=10]="ABORTED",ih[ih.OUT_OF_RANGE=11]="OUT_OF_RANGE",ih[ih.UNIMPLEMENTED=12]="UNIMPLEMENTED",ih[ih.INTERNAL=13]="INTERNAL",ih[ih.UNAVAILABLE=14]="UNAVAILABLE",ih[ih.DATA_LOSS=15]="DATA_LOSS";var lh=function(){function t(t,e){this.comparator=t,this.root=e||fh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new hh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new hh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new hh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new hh(this.root,t,this.comparator,!0)},t}(),hh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),fh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Xu();if(this.right.isRed())throw Xu();var t=this.left.check();if(t!==this.right.check())throw Xu();return t+(this.isRed()?0:1)},t}();fh.EMPTY=null,fh.RED=!0,fh.BLACK=!1,fh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Xu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new fh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var dh=function(){function t(t){this.comparator=t,this.data=new lh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ph(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ph(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ph=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),gh=new lh(Tc.comparator);function mh(){return gh}var yh=new lh(Tc.comparator);function vh(){return yh}var bh=new lh(Tc.comparator);function wh(){return bh}var _h=new dh(Tc.comparator);function Oh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=_h,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Sh=new dh(nc);function Ch(){return Sh}var Eh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(sc.min(),r,Ch(),mh(),Oh())},t}(),Th=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(gc.EMPTY_BYTE_STRING,n,Oh(),Oh(),Oh())},t}(),Ih=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},xh=function(t,e){this.targetId=t,this.V=e},Ah=function(t,e,n,r){void 0===n&&(n=gc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},kh=function(){function t(){this.S=0,this.D=Nh(),this.C=gc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Oh(),e=Oh(),n=Oh();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Xu()}}),new Th(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Nh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),jh=function(){function t(t){this.W=t,this.G=new Map,this.H=mh(),this.J=Ph(),this.Y=new dh(nc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Xu()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Wc(i))if(0===n){var o=new Tc(i.path);this.tt(e,o,Hc.newNoDocument(o,sc.min()))}else Ju(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Wc(o.target)){var s=new Tc(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Hc.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Oh();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Eh(t,n,this.Y,this.H,r);return this.H=mh(),this.J=Ph(),this.Y=new dh(nc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new kh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new dh(nc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||$u("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new kh),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ph(){return new lh(Tc.comparator)}function Nh(){return new lh(Tc.comparator)}var Dh={asc:"ASCENDING",desc:"DESCENDING"},Rh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mh=function(t,e){this.databaseId=t,this.I=e};function Lh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vh(t,e){return t.I?e.toBase64():e.toUint8Array()}function Fh(t,e){return Lh(t,e.toTimestamp())}function Uh(t){return Ju(!!t),sc.fromTimestamp(function(t){var e=yc(t);return new oc(e.seconds,e.nanos)}(t))}function qh(t,e){return function(t){return new hc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Bh(t){var e=hc.fromString(t);return Ju(df(e)),e}function Hh(t,e){return qh(t.databaseId,e.path)}function zh(t,e){var n=Bh(e);if(n.get(1)!==t.databaseId.projectId)throw new zu(Hu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new zu(Hu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Tc(Wh(n))}function Gh(t,e){return qh(t.databaseId,e)}function Kh(t){var e=Bh(t);return 4===e.length?hc.emptyPath():Wh(e)}function $h(t){return new hc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wh(t){return Ju(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Qh(t,e,n){return{name:Hh(t,e),fields:n.value.mapValue.fields}}function Yh(t,e,n){var r=zh(t,e.name),i=Uh(e.updateTime),o=new qc({mapValue:{fields:e.fields}}),s=Hc.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Xh(t,e){var n;if(e instanceof Jl)n={update:Qh(t,e.key,e.value)};else if(e instanceof oh)n={delete:Hh(t,e.key)};else if(e instanceof Zl)n={update:Qh(t,e.key,e.data),updateMask:ff(e.fieldMask)};else{if(!(e instanceof sh))return Xu();n={verify:Hh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Dl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ll)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Xu()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Fh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xu()}(t,e.precondition)),n}function Jh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?zl.updateTime(Uh(t.updateTime)):void 0!==t.exists?zl.exists(t.exists):zl.none()}(e.currentDocument):zl.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ju("REQUEST_TIME"===e.setToServerValue),n=new Dl):"appendMissingElements"in e?n=new Rl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ll(e.removeAllFromArray.values||[]):"increment"in e?n=new Fl(t,e.increment):Xu();var r=dc.fromServerFormat(e.fieldPath);return new Bl(r,n)}(t,e)}):[];if(e.update){var i=zh(t,e.update.name),o=new qc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new pc((t.fieldPaths||[]).map(function(t){return dc.fromServerFormat(t)}))}(e.updateMask);return new Zl(i,o,s,n,r)}return new Jl(i,o,n,r)}if(e.delete){var a=zh(t,e.delete);return new oh(a,n)}if(e.verify){var u=zh(t,e.verify);return new sh(u,n)}return Xu()}function Zh(t,e){return{documents:[Gh(t,e.path)]}}function tf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Gh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Vc(t.value))return{unaryFilter:{field:uf(t.field),op:"IS_NAN"}};if(Lc(t.value))return{unaryFilter:{field:uf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Vc(t.value))return{unaryFilter:{field:uf(t.field),op:"IS_NOT_NAN"}};if(Lc(t.value))return{unaryFilter:{field:uf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uf(t.field),op:af(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:uf(t.field),direction:sf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Sc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=rf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=rf(e.endAt)),n}function ef(t){var e=Kh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ju(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=nf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new sl(cf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Sc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=of(n.startAt));var l=null;return n.endAt&&(l=of(n.endAt)),hl(e,i,a,s,u,"F",c,l)}function nf(t){return t?void 0!==t.unaryFilter?[hf(t)]:void 0!==t.fieldFilter?[lf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return nf(t)}).reduce(function(t,e){return t.concat(e)}):Xu():[]}function rf(t){return{before:t.before,values:t.position}}function of(t){return new il(t.values||[],!!t.before)}function sf(t){return Dh[t]}function af(t){return Rh[t]}function uf(t){return{fieldPath:t.canonicalString()}}function cf(t){return dc.fromServerFormat(t.fieldPath)}function lf(t){return Qc.create(cf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xu()}}(t.fieldFilter.op),t.fieldFilter.value)}function hf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=cf(t.unaryFilter.field);return Qc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=cf(t.unaryFilter.field);return Qc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cf(t.unaryFilter.field);return Qc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cf(t.unaryFilter.field);return Qc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xu()}}function ff(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function df(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function pf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=mf(e)),e=gf(t.get(n),e);return mf(e)}function gf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function mf(t){return t+"\x01\x01"}function yf(t){var e=t.length;if(Ju(e>=2),2===e)return Ju("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),hc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Xu(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Xu()}o=s+2}return new hc(r)}var vf=function(t,e){this.seconds=t,this.nanoseconds=e},bf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};bf.store="owner",bf.key="owner";var wf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};wf.store="mutationQueues",wf.keyPath="userId";var _f=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};_f.store="mutations",_f.keyPath="batchId",_f.userMutationsIndex="userMutationsIndex",_f.userMutationsKeyPath=["userId","batchId"];var Of=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,pf(e)]},t.key=function(t,e,n){return[t,pf(e),n]},t}();Of.store="documentMutations",Of.PLACEHOLDER=new Of;var Sf=function(t,e){this.path=t,this.readTime=e},Cf=function(t,e){this.path=t,this.version=e},Ef=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ef.store="remoteDocuments",Ef.readTimeIndex="readTimeIndex",Ef.readTimeIndexPath="readTime",Ef.collectionReadTimeIndex="collectionReadTimeIndex",Ef.collectionReadTimeIndexPath=["parentPath","readTime"];var Tf=function(t){this.byteSize=t};Tf.store="remoteDocumentGlobal",Tf.key="remoteDocumentGlobalKey";var If=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};If.store="targets",If.keyPath="targetId",If.queryTargetsIndexName="queryTargetsIndex",If.queryTargetsKeyPath=["canonicalId","targetId"];var xf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};xf.store="targetDocuments",xf.keyPath=["targetId","path"],xf.documentTargetsIndex="documentTargetsIndex",xf.documentTargetsKeyPath=["path","targetId"];var Af=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Af.key="targetGlobalKey",Af.store="targetGlobal";var kf=function(t,e){this.collectionId=t,this.parent=e};kf.store="collectionParents",kf.keyPath=["collectionId","parent"];var jf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};jf.store="clientMetadata",jf.keyPath="clientId";var Pf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Pf.store="bundles",Pf.keyPath="bundleId";var Nf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Nf.store="namedQueries",Nf.keyPath="name";var Df=Object(qu.f)(Object(qu.f)([],Object(qu.f)(Object(qu.f)([],Object(qu.f)(Object(qu.f)([],Object(qu.f)(Object(qu.f)([],[wf.store,_f.store,Of.store,Ef.store,If.store,bf.store,Af.store,xf.store]),[jf.store])),[Tf.store])),[kf.store])),[Pf.store,Nf.store]),Rf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Lf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Vf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Xu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ff=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Lf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Bf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=$f(e.target.error);n.ft.reject(new Bf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Bf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||($u("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new zf(e)},t}(),Uf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(ki.i)())&&Wu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return $u("SimpleDb","Removing database:",t),Gf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(ki.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(qu.b)(this,void 0,void 0,function(){var e,n=this;return Object(qu.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:($u("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Bf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new zu(Hu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Bf(t,n))},i.onupgradeneeded=function(t){$u("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){$u("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(qu.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(qu.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(qu.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Ff.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Vf.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return $u("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),qf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Gf(this.Pt.delete())},t}(),Bf=function(t){function e(e,n){var r=this;return(r=t.call(this,Hu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(qu.c)(e,t),e}(zu);function Hf(t){return"IndexedDbTransactionError"===t.name}var zf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?($u("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):($u("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Gf(n)},t.prototype.add=function(t){return $u("SimpleDb","ADD",this.store.name,t,t),Gf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Gf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),$u("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return $u("SimpleDb","DELETE",this.store.name,t),Gf(this.store.delete(t))},t.prototype.count=function(){return $u("SimpleDb","COUNT",this.store.name),Gf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){$u("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Vf(function(n,r){e.onerror=function(t){var e=$f(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Vf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new qf(i),s=e(i.primaryKey,i.value,o);if(s instanceof Vf){var a=s.catch(function(t){return o.done(),Vf.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Vf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Gf(t){return new Vf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=$f(t.target.error);n(e)}})}var Kf=!1;function $f(t){var e=Uf._t(Object(ki.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new zu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Kf||(Kf=!0,setTimeout(function(){throw r},0)),r}}return t}var Wf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(qu.c)(e,t),e}(Mf);function Qf(t,e){var n=Zu(t);return Uf.It(n.Mt,e)}var Yf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&$l(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Wl(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Wl(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(sc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Oh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&rc(this.mutations,t.mutations,function(t,e){return Yl(t,e)})&&rc(this.baseMutations,t.baseMutations,function(t,e){return Yl(t,e)})},t}(),Xf=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Ju(e.mutations.length===r.length);for(var i=wh(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Jf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=sc.min()),void 0===o&&(o=sc.min()),void 0===s&&(s=gc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Zf=function(t){this.Lt=t};function td(t,e){if(e.document)return Yh(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Tc.fromSegments(e.noDocument.path),r=od(e.noDocument.readTime),i=Hc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Tc.fromSegments(e.unknownDocument.path);return r=od(e.unknownDocument.version),Hc.newUnknownDocument(o,r)}return Xu()}function ed(t,e,n){var r=nd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Hh(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Lh(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Ef(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=id(e.version);return s=e.hasCommittedMutations,new Ef(null,new Sf(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=id(e.version);return new Ef(new Cf(c,l),null,null,!0,r,i)}return Xu()}function nd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function rd(t){var e=new oc(t[0],t[1]);return sc.fromTimestamp(e)}function id(t){var e=t.toTimestamp();return new vf(e.seconds,e.nanoseconds)}function od(t){var e=new oc(t.seconds,t.nanoseconds);return sc.fromTimestamp(e)}function sd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Jh(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Jh(t.Lt,e)}),o=oc.fromMillis(e.localWriteTimeMs);return new Yf(e.batchId,o,n,i)}function ad(t){var e,n,r=od(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?od(t.lastLimboFreeSnapshotVersion):sc.min();return void 0!==t.query.documents?(Ju(1===(n=t.query).documents.length),e=bl(fl(Kh(n.documents[0])))):e=function(t){return bl(ef(t))}(t.query),new Jf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,gc.fromBase64String(t.resumeToken))}function ud(t,e){var n,r=id(e.snapshotVersion),i=id(e.lastLimboFreeSnapshotVersion);n=Wc(e.target)?Zh(t.Lt,e.target):tf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new If(e.targetId,Kc(e.target),r,o,e.sequenceNumber,i,n)}function cd(t){var e=ef({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wl(e,e.limit,"L"):e}var ld=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return hd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:od(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return hd(t).put({bundleId:(n=e).id,createTime:id(Uh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return fd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:cd(e.bundledQuery),readTime:od(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return fd(t).put(function(t){return{name:t.name,readTime:id(Uh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function hd(t){return Qf(t,Pf.store)}function fd(t){return Qf(t,Nf.store)}var dd=function(){function t(){this.Bt=new pd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Vf.resolve()},t.prototype.getCollectionParents=function(t,e){return Vf.resolve(this.Bt.getEntries(e))},t}(),pd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new dh(hc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new dh(hc.comparator)).toArray()},t}(),gd=function(){function t(){this.qt=new pd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:pf(i)};return md(t).put(o)}return Vf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ic(e),""],!1,!0);return md(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(yf(o.parent))}return n})},t}();function md(t){return Qf(t,kf.store)}var yd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function bd(t,e,n){var r=t.store(_f.store),i=t.store(Of.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Ju(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Of.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Vf.waitFor(o).next(function(){return c})}function wd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xu();e=t.noDocument}return JSON.stringify(e).length}vd.DEFAULT_COLLECTION_PERCENTILE=10,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vd.DEFAULT=new vd(41943040,vd.DEFAULT_COLLECTION_PERCENTILE,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vd.DISABLED=new vd(-1,0,0);var _d=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Ju(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sd(t).$t({index:_f.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Cd(t),s=Sd(t);return s.add({}).next(function(a){Ju("number"==typeof a);for(var u=new Yf(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Xh(t.Lt,e)}),i=n.mutations.map(function(e){return Xh(t.Lt,e)});return new _f(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new dh(function(t,e){return nc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Of.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Of.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Vf.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Sd(t).get(e).next(function(t){return t?(Ju(t.userId===n.userId),sd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Vf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Sd(t).$t({index:_f.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ju(e.batchId>=r),o=sd(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Sd(t).$t({index:_f.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sd(t).Nt(_f.userMutationsIndex,n).next(function(t){return t.map(function(t){return sd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Of.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Cd(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=yf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Sd(t).get(u).next(function(t){if(!t)throw Xu();Ju(t.userId===n.userId),o.push(sd(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new dh(nc),i=[];return e.forEach(function(e){var o=Of.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Cd(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=yf(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Vf.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Of.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new dh(nc);return Cd(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=yf(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Sd(t).get(e).next(function(t){if(null===t)throw Xu();Ju(t.userId===n.userId),r.push(sd(n.R,t))}))}),Vf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return bd(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Vf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Vf.resolve();var r=IDBKeyRange.lowerBound(Of.prefixForUser(e.userId)),i=[];return Cd(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=yf(t[1]);i.push(o)}else r.done()}).next(function(){Ju(0===i.length)})})},t.prototype.containsKey=function(t,e){return Od(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Ed(t).get(this.userId).next(function(t){return t||new wf(e.userId,-1,"")})},t}();function Od(t,e,n){var r=Of.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Cd(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Sd(t){return Qf(t,_f.store)}function Cd(t){return Qf(t,Of.store)}function Ed(t){return Qf(t,wf.store)}var Td=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Id=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Td(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return sc.fromTimestamp(new oc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return xd(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Ju(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return xd(t).$t(function(s,a){var u=ad(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Vf.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return xd(t).$t(function(t,n){var r=ad(n);e(r)})},t.prototype.Xt=function(t){return Ad(t).get(Af.key).next(function(t){return Ju(null!==t),t})},t.prototype.Zt=function(t,e){return Ad(t).put(Af.key,e)},t.prototype.te=function(t,e){return xd(t).put(ud(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Kc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xd(t).$t({range:r,index:If.queryTargetsIndexName},function(t,n,r){var o=ad(n);$c(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=kd(t);return e.forEach(function(e){var s=pf(e.path);i.push(o.put(new xf(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Vf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=kd(t);return Vf.forEach(e,function(e){var o=pf(e.path);return Vf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=kd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=kd(t),i=Oh();return r.$t({range:n,kt:!0},function(t,e,n){var r=yf(t[1]),o=new Tc(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=pf(e.path),r=IDBKeyRange.bound([n],[ic(n)],!1,!0),i=0;return kd(t).$t({index:xf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return xd(t).get(e).next(function(t){return t?ad(t):null})},t}();function xd(t){return Qf(t,If.store)}function Ad(t){return Qf(t,Af.store)}function kd(t){return Qf(t,xf.store)}function jd(t){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(e){if(t.code!==Hu.FAILED_PRECONDITION||t.message!==Rf)throw t;return $u("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Pd(t,e){var n=t[1],r=e[1],i=nc(t[0],e[0]);return 0===i?nc(n,r):i}var Nd=function(){function t(t){this.ne=t,this.buffer=new dh(Pd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Pd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Dd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;$u("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(qu.b)(e,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Hf(e=n.sent())?($u("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,jd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Rd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Vf.resolve(Bu.o);var r=new Nd(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?($u("LruGarbageCollector","Garbage collection skipped; disabled"),Vf.resolve(yd)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?($u("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),yd):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?($u("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Ku()<=ji.a.DEBUG&&$u("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Vf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Md=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Rd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Ld(t,n)},t.prototype.removeReference=function(t,e,n){return Ld(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Ld(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Ed(t).Ot(function(r){return Od(t,r,e).next(function(t){return t&&(n=!0),Vf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),kd(t).delete([0,pf(s.path)])})});i.push(u)}}).next(function(){return Vf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Ld(t,e)},t.prototype.we=function(t,e){var n,r=kd(t),i=Bu.o;return r.$t({index:xf.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Bu.o&&e(new Tc(yf(n)),i),i=s,n=o):i=Bu.o}).next(function(){i!==Bu.o&&e(new Tc(yf(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Ld(t,e){return kd(t).put(function(t,e){return new xf(0,pf(t.path),e)}(e,t.currentSequenceNumber))}var Vd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){uc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return cc(this.inner)},t}(),Fd=function(){function t(){this.changes=new Vd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:sc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Hc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Vf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Ud=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Hd(t).put(zd(e),n)},t.prototype.removeEntry=function(t,e){var n=Hd(t),r=zd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Hd(t).get(zd(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Hd(t).get(zd(e)).next(function(t){return{document:n.ye(e,t),size:wd(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=mh();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=mh(),i=new lh(Tc.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,wd(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Vf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Hd(t).$t({range:r},function(t,e,r){for(var s=Tc.fromSegments(t);o&&Tc.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=mh(),o=e.path.length+1,s={};if(n.isEqual(sc.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=nd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ef.collectionReadTimeIndex}return Hd(t).$t(s,function(t,n,s){if(t.length===o){var a=td(r.R,n);e.path.isPrefixOf(a.key.path)?Cl(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new qd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Bd(t).get(Tf.key).next(function(t){return Ju(!!t),t})},t.prototype.me=function(t,e){return Bd(t).put(Tf.key,e)},t.prototype.ye=function(t,e){if(e){var n=td(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(sc.min()))return n}return Hc.newInvalidDocument(t)},t}(),qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Vd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(qu.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new dh(function(t,e){return nc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=ed(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=wd(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=ed(e.Ie.R,Hc.newNoDocument(o,sc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Vf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Fd);function Bd(t){return Qf(t,Tf.store)}function Hd(t){return Qf(t,Ef.store)}function zd(t){return t.path.toArray()}var Gd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Ju(n<r&&n>=0&&r<=11);var o=new Ff("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(bf.store)}(t),function(t){t.createObjectStore(wf.store,{keyPath:wf.keyPath}),t.createObjectStore(_f.store,{keyPath:_f.keyPath,autoIncrement:!0}).createIndex(_f.userMutationsIndex,_f.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Of.store)}(t),Kd(t),function(t){t.createObjectStore(Ef.store)}(t));var s=Vf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(xf.store),t.deleteObjectStore(If.store),t.deleteObjectStore(Af.store)}(t),Kd(t)),s=s.next(function(){return function(t){var e=t.store(Af.store),n=new Af(0,0,sc.min().toTimestamp(),0);return e.put(Af.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(_f.store).Nt().next(function(n){t.deleteObjectStore(_f.store),t.createObjectStore(_f.store,{keyPath:_f.keyPath,autoIncrement:!0}).createIndex(_f.userMutationsIndex,_f.userMutationsKeyPath,{unique:!0});var r=e.store(_f.store),i=n.map(function(t){return r.put(t)});return Vf.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(jf.store,{keyPath:jf.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Tf.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ef.store);e.createIndex(Ef.readTimeIndex,Ef.readTimeIndexPath,{unique:!1}),e.createIndex(Ef.collectionReadTimeIndex,Ef.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Pf.store,{keyPath:Pf.keyPath})}(t),function(t){t.createObjectStore(Nf.store,{keyPath:Nf.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Ef.store).$t(function(t,n){e+=wd(n)}).next(function(){var n=new Tf(e);return t.store(Tf.store).put(Tf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(wf.store),r=t.store(_f.store);return n.Nt().next(function(n){return Vf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(_f.userMutationsIndex,i).next(function(r){return Vf.forEach(r,function(r){Ju(r.userId===n.userId);var i=sd(e.R,r);return bd(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(xf.store),n=t.store(Ef.store);return t.store(Af.store).get(Af.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new hc(n),s=function(t){return[0,pf(t)]}(o);r.push(e.get(s).next(function(n){return n?Vf.resolve():function(n){return e.put(new xf(0,pf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Vf.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(kf.store,{keyPath:kf.keyPath});var n=e.store(kf.store),r=new pd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:pf(i)})}};return e.store(Ef.store).$t({kt:!0},function(t,e){var n=new hc(t);return i(n.popLast())}).next(function(){return e.store(Of.store).$t({kt:!0},function(t,e){var n=yf(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(If.store);return n.$t(function(t,r){var i=ad(r),o=ud(e.R,i);return n.put(o)})},t}();function Kd(t){t.createObjectStore(xf.store,{keyPath:xf.keyPath}).createIndex(xf.documentTargetsIndex,xf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(If.store,{keyPath:If.keyPath}).createIndex(If.queryTargetsIndexName,If.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Af.store)}var $d="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wd=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new zu(Hu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Md(this,i),this.Le=n+"main",this.R=new Zf(u),this.Be=new Uf(this.Le,11,new Gd(this.R)),this.qe=new Id(this.referenceDelegate,this.R),this.Ut=new gd,this.Ue=function(t,e){return new Ud(t,e)}(this.R,this.Ut),this.Qe=new ld,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Wu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new zu(Hu.FAILED_PRECONDITION,$d);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Bu(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(qu.b)(e,void 0,void 0,function(){return Object(qu.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(qu.b)(e,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(qu.b)(e,void 0,void 0,function(){return Object(qu.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Yd(e).put(new jf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Hf(e))return $u("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return $u("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Qd(t).get(bf.key).next(function(t){return Vf.resolve(e.tn(t))})},t.prototype.en=function(t){return Yd(t).delete(this.clientId)},t.prototype.nn=function(){return Object(qu.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(qu.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Qf(t,jf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Vf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Vf.resolve(!0):Qd(t).get(bf.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new zu(Hu.FAILED_PRECONDITION,$d);return!1}}return!(!e.networkEnabled||!e.inForeground)||Yd(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&$u("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(qu.b)(this,void 0,void 0,function(){var t=this;return Object(qu.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[bf.store,jf.store],function(e){var n=new Wf(e,Bu.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Yd(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return _d.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return $u("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Df,function(o){return r=new Wf(o,i.Ne?i.Ne.next():Bu.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Wu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new zu(Hu.FAILED_PRECONDITION,Rf);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Qd(t).get(bf.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new zu(Hu.FAILED_PRECONDITION,$d)})},t.prototype.Ze=function(t){var e=new bf(this.clientId,this.allowTabSynchronization,Date.now());return Qd(t).put(bf.key,e)},t.yt=function(){return Uf.yt()},t.prototype.Xe=function(t){var e=this,n=Qd(t);return n.get(bf.key).next(function(t){return e.tn(t)?($u("IndexedDbPersistence","Releasing primary lease."),n.delete(bf.key)):Vf.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Wu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return $u("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Wu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Wu("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Qd(t){return Qf(t,bf.store)}function Yd(t){return Qf(t,jf.store)}function Xd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Jd=function(t,e){this.progress=t,this.wn=e},Zd=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Tc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):yl(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Tc(e)).next(function(t){var e=vh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=vh();return this.Ut.getCollectionParents(t,i).next(function(s){return Vf.forEach(s,function(s){var a=function(t,e){return new ll(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Hc.newInvalidDocument(c),r=r.insert(c,l)),Wl(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Cl(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Oh(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Zl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),tp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Oh(),i=Oh(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ep=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(sc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(dl(e)||pl(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Ku()<=ji.a.DEBUG&&$u("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Sl(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new dh(El(t));return e.forEach(function(e,r){Cl(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ku()<=ji.a.DEBUG&&$u("QueryEngine","Using full collection scan to execute query:",Sl(e)),this.Sn.getDocumentsMatchingQuery(t,e,sc.min())},t}(),np=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new lh(nc),this.kn=new Vd(function(t){return Kc(t)},$c),this.$n=sc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Zd(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function rp(t,e,n,r){return new np(t,e,n,r)}function ip(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(qu.d)(this,function(s){switch(s.label){case 0:return n=Zu(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Zd(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Oh(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function op(t,e){var n=Zu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Vf.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Ju(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function sp(t){var e=Zu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function ap(t,e){var n=Zu(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Ju(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=mh();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(up(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(sc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Vf.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function up(t,e,n,r,i){var o=Oh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=mh();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(sc.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):$u("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function cp(t,e){var n=Zu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function lp(t,e){var n=Zu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Vf.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Jf(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function hp(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(qu.d)(this,function(a){switch(a.label){case 0:r=Zu(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Hf(s=a.sent()))throw s;return $u("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function fp(t,e,n){var r=Zu(t),i=sc.min(),o=Oh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Zu(t),i=r.kn.get(n);return void 0!==i?Vf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,bl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:sc.min(),n?o:Oh())}).next(function(t){return{documents:t,Bn:o}})})}function dp(t,e){var n=Zu(t),r=Zu(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function pp(t){var e=Zu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Zu(t),i=mh(),o=nd(n),s=Hd(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Ef.readTimeIndex,range:a},function(t,e){var n=td(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:rd(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function gp(t){return Object(qu.b)(this,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){return[2,(e=Zu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Hd(t),n=sc.min();return e.$t({index:Ef.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=rd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function mp(t,e,n,r){return Object(qu.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(qu.d)(this,function(p){switch(p.label){case 0:for(i=Zu(t),o=Oh(),s=mh(),a=wh(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,lp(i,function(t){return bl(fl(hc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return up(t,f,s,sc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function yp(t,e,n){return void 0===n&&(n=Oh()),Object(qu.b)(this,void 0,void 0,function(){var r,i;return Object(qu.d)(this,function(o){switch(o.label){case 0:return[4,lp(t,bl(cd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Zu(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Uh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(gc.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var vp=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Vf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Uh(n.createTime)}),Vf.resolve()},t.prototype.getNamedQuery=function(t,e){return Vf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:cd(t.bundledQuery),readTime:Uh(t.readTime)}}(e)),Vf.resolve()},t}(),bp=function(){function t(){this.Wn=new dh(wp.Gn),this.zn=new dh(wp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new wp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new wp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Tc(new hc([])),r=new wp(n,t),i=new wp(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Tc(new hc([])),n=new wp(e,t),r=new wp(e,t+1),i=Oh();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new wp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),wp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Tc.comparator(t.key,e.key)||nc(t.ns,e.ns)},t.Hn=function(t,e){return nc(t.ns,e.ns)||Tc.comparator(t.key,e.key)},t}(),_p=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new dh(wp.Gn)}return t.prototype.checkEmpty=function(t){return Vf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Yf(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new wp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Vf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Vf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Vf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Vf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Vf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new wp(e,0),i=new wp(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Vf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new dh(nc);return e.forEach(function(t){var e=new wp(t,0),i=new wp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Vf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Tc.isDocumentKey(i)||(i=i.child(""));var o=new wp(new Tc(i),0),s=new dh(nc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Vf.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Ju(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Vf.forEach(e.mutations,function(i){var o=new wp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new wp(e,0),r=this.rs.firstAfterOrEqual(n);return Vf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Vf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Op=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new lh(Tc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Vf.resolve(n?n.document.clone():Hc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=mh();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Hc.newInvalidDocument(t))}),Vf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=mh(),i=new Tc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Cl(e,u)&&(r=r.insert(u.key,u.clone()))}return Vf.resolve(r)},t.prototype.fs=function(t,e){return Vf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Sp(this)},t.prototype.getSize=function(t){return Vf.resolve(this.size)},t}(),Sp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(qu.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Vf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Fd),Cp=function(){function t(t){this.persistence=t,this.ds=new Vd(function(t){return Kc(t)},$c),this.lastRemoteSnapshotVersion=sc.min(),this.highestTargetId=0,this.ws=0,this._s=new bp,this.targetCount=0,this.ys=Td.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Vf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Vf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Vf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Vf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Vf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Td(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Vf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Vf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Vf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Vf.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Vf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Vf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Vf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Vf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Vf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Vf.resolve(n)},t.prototype.containsKey=function(t,e){return Vf.resolve(this._s.containsKey(e))},t}(),Ep=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Bu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Cp(this),this.Ut=new dd,this.Ue=function(t,e){return new Op(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Zf(e),this.Qe=new vp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new _p(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;$u("MemoryPersistence","Starting transaction:",t);var i=new Tp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Vf.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Tp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(qu.c)(e,t),e}(Mf),Ip=function(){function t(t){this.persistence=t,this.As=new bp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Xu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Vf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Vf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Vf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vf.forEach(this.vs,function(r){var i=Tc.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Vf.or([function(){return Vf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),xp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Ap(t,e){return"firestore_clients_"+t+"_"+e}function kp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function jp(t,e){return"firestore_targets_"+t+"_"+e}xp.UNAUTHENTICATED=new xp(null),xp.GOOGLE_CREDENTIALS=new xp("google-credentials-uid"),xp.FIRST_PARTY=new xp("first-party-uid");var Pp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new zu(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Wu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Np=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new zu(i.error.code,i.error.message)),o?new t(e,i.state,r):(Wu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Dp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ch(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ec(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Wu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Rp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Wu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Mp=function(){function t(){this.activeTargetIds=Ch()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Lp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new lh(nc),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Ap(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Mp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(qu.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(qu.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ap(this.persistenceKey,r)))&&(o=Dp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(jp(this.persistenceKey,t));if(n){var r=Np.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(jp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return $u("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){$u("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){$u("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if($u("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Wu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(qu.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(qu.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Bu.o;if(null!=t)try{var n=JSON.parse(t);Ju("number"==typeof n),e=n}catch(t){Wu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Bu.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Pp(this.currentUser,t,e,n),i=kp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=kp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=jp(this.persistenceKey,t),i=new Np(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Dp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Pp.Vs(new xp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Np.Vs(r,e)},t.prototype.js=function(t){return Rp.Vs(t)},t.prototype.ii=function(t){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:($u("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ch();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Vp=function(){function t(){this.li=new Mp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Mp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Fp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Up=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){$u("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){$u("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),qp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Bp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Hp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(qu.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Uu;s.listenOnce(Mu.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Ru.NO_ERROR:var e=s.getResponseJson();$u("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ru.TIMEOUT:$u("Connection",'RPC "'+t+'" timed out'),o(new zu(Hu.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:var n=s.getStatus();if($u("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Hu).indexOf(e)>=0?e:Hu.UNKNOWN}(r.status);o(new zu(a,r.message))}else o(new zu(Hu.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new zu(Hu.UNAVAILABLE,"Connection failed."));break;default:Xu()}}finally{$u("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Cu,i=Is(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Vu({})),this.Fi(o.initMessageHeaders,e),Object(ki.n)()||Object(ki.p)()||Object(ki.l)()||Object(ki.m)()||Object(ki.q)()||Object(ki.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");$u("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Bp({Ei:function(t){c?$u("Connection","Not sending because WebChannel is closed:",t):(u||($u("Connection","Opening WebChannel transport."),a.open(),u=!0),$u("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Fu.EventType.OPEN,function(){c||$u("Connection","WebChannel transport opened.")}),h(a,Fu.EventType.CLOSE,function(){c||(c=!0,$u("Connection","WebChannel transport closed"),l.Vi())}),h(a,Fu.EventType.ERROR,function(t){c||(c=!0,Qu("Connection","WebChannel transport errored:",t),l.Vi(new zu(Hu.UNAVAILABLE,"The operation could not be completed")))}),h(a,Fu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Ju(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){$u("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=rh[t];if(void 0!==e)return ch(e)}(i),s=r.message;void 0===o&&(o=Hu.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new zu(o,s)),a.close()}else $u("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Lu.STAT_EVENT,function(t){10===t.stat?$u("Connection","Detected buffering proxy"):11===t.stat&&$u("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);$u("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return $u("RestConnection","Received: ",t),t},function(e){throw Qu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.7",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+qp[t]},t}());function zp(){return"undefined"!=typeof window?window:null}function Gp(){return"undefined"!=typeof document?document:null}function Kp(t){return new Mh(t,!0)}var $p=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&$u("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Wp=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new $p(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Hu.RESOURCE_EXHAUSTED?(Wu(e.toString()),Wu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Hu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new zu(Hu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(qu.b)(t,void 0,void 0,function(){return Object(qu.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return $u("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():($u("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Qp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(qu.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Ju(void 0===e||"string"==typeof e),gc.fromBase64String(e||"")):(Ju(void 0===e||e instanceof Uint8Array),gc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Hu.UNKNOWN:ch(t.code);return new zu(e,t.message||"")}(a);n=new Ah(r,i,o,s||null)}else if("documentChange"in e){i=zh(t,(r=e.documentChange).document.name),o=Uh(r.document.updateTime);var a=new qc({mapValue:{fields:r.document.fields}}),u=(s=Hc.newFoundDocument(i,o,a),r.targetIds||[]);n=new Ih(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=zh(t,(r=e.documentDelete).document),o=r.readTime?Uh(r.readTime):sc.min(),a=Hc.newNoDocument(i,o),n=new Ih([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=zh(t,(r=e.documentRemove).document),n=new Ih([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Xu();var c=e.filter;i=new ah(r=c.count||0),n=new xh(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return sc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?sc.min():e.readTime?Uh(e.readTime):sc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=$h(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Wc(r)?{documents:Zh(t,r)}:{query:tf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Vh(t,e.resumeToken):e.snapshotVersion.compareTo(sc.min())>0&&(n.readTime=Lh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=$h(this.R),e.removeTarget=t,this.cr(e)},e}(Wp),Yp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(qu.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Ju(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Ju(void 0!==e),t.map(function(t){return function(t,e){var n=Uh(t.updateTime?t.updateTime:e);return n.isEqual(sc.min())&&(n=Uh(e)),new Hl(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Uh(t.commitTime);return this.listener.Tr(n,e)}return Ju(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=$h(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Xh(e.R,t)})};this.cr(n)},e}(Wp),Xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(qu.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new zu(Hu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Hu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new zu(Hu.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Hu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new zu(Hu.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Jp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Wu(e),this.Vr=!1):$u("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Zp=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(qu.b)(o,void 0,void 0,function(){return Object(qu.d)(this,function(t){switch(t.label){case 0:return ug(this)?($u("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(qu.b)(this,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return(e=Zu(t)).Or.add(4),[4,eg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,tg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Jp(n,r)};function tg(t){return Object(qu.b)(this,void 0,void 0,function(){var e,n;return Object(qu.d)(this,function(r){switch(r.label){case 0:if(!ug(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function eg(t){return Object(qu.b)(this,void 0,void 0,function(){var e,n;return Object(qu.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ng(t,e){var n=Zu(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),ag(n)?sg(n):Sg(n).er()&&ig(n,e))}function rg(t,e){var n=Zu(t),r=Sg(n);n.$r.delete(e),r.er()&&og(n,e),0===n.$r.size&&(r.er()?r.ir():ug(n)&&n.Br.set("Unknown"))}function ig(t,e){t.qr.U(e.targetId),Sg(t).mr(e)}function og(t,e){t.qr.U(e),Sg(t).yr(e)}function sg(t){t.qr=new jh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Sg(t).start(),t.Br.Sr()}function ag(t){return ug(t)&&!Sg(t).tr()&&t.$r.size>0}function ug(t){return 0===Zu(t).Or.size}function cg(t){t.qr=void 0}function lg(t){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(e){return t.$r.forEach(function(e,n){ig(t,e)}),[2]})})}function hg(t,e){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(n){return cg(t),ag(t)?(t.Br.Nr(e),sg(t)):t.Br.set("Unknown"),[2]})})}function fg(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i,o;return Object(qu.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Ah&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(qu.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),$u("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,dg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ih?t.qr.X(e):e instanceof xh?t.qr.rt(e):t.qr.et(e),n.isEqual(sc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,sp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(gc.EMPTY_BYTE_STRING,n.snapshotVersion)),og(t,e);var r=new Jf(n.target,e,1,n.sequenceNumber);ig(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return $u("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,dg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function dg(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r=this;return Object(qu.d)(this,function(i){switch(i.label){case 0:if(!Hf(e))throw e;return t.Or.add(1),[4,eg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return sp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(qu.b)(r,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return $u("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,tg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function pg(t,e){return e().catch(function(n){return dg(t,n,e)})}function gg(t){return Object(qu.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(qu.d)(this,function(s){switch(s.label){case 0:e=Zu(t),n=Cg(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return ug(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,cp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Cg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,dg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return mg(e)&&yg(e),[2]}})})}function mg(t){return ug(t)&&!Cg(t).tr()&&t.kr.length>0}function yg(t){Cg(t).start()}function vg(t){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(e){return Cg(t).Ar(),[2]})})}function bg(t){return Object(qu.b)(this,void 0,void 0,function(){var e,n,r;return Object(qu.d)(this,function(i){for(e=Cg(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function wg(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i;return Object(qu.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Xf.from(r,e,n),[4,pg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,gg(t)];case 2:return o.sent(),[2]}})})}function _g(t,e){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(n){switch(n.label){case 0:return e&&Cg(t).pr?[4,function(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r;return Object(qu.d)(this,function(i){switch(i.label){case 0:return uh(r=e.code)&&r!==Hu.ABORTED?(n=t.kr.shift(),Cg(t).sr(),[4,pg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,gg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return mg(t)&&yg(t),[2]}})})}function Og(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n;return Object(qu.d)(this,function(r){switch(r.label){case 0:return n=Zu(t),e?(n.Or.delete(2),[4,tg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,eg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Sg(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Zu(t);return r.br(),new Qp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:lg.bind(null,t),Ri:hg.bind(null,t),_r:fg.bind(null,t)}),t.Mr.push(function(n){return Object(qu.b)(e,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),ag(t)?sg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),cg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Cg(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Zu(t);return r.br(),new Yp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:vg.bind(null,t),Ri:_g.bind(null,t),Ir:bg.bind(null,t),Tr:wg.bind(null,t)}),t.Mr.push(function(n){return Object(qu.b)(e,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,gg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&($u("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Eg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zu(Hu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Tg(t,e){if(Wu("AsyncQueue",e+": "+t),Hf(t))return new zu(Hu.UNAVAILABLE,e+": "+t);throw t}var Ig=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Tc.comparator(e.key,n.key)}:function(t,e){return Tc.comparator(t.key,e.key)},this.keyedMap=vh(),this.sortedSet=new lh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),xg=function(){function t(){this.Kr=new lh(Tc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Xu():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ag=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Ig.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_l(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),kg=function(){this.Wr=void 0,this.listeners=[]},jg=function(){this.queries=new Vd(function(t){return Ol(t)},_l),this.onlineState="Unknown",this.Gr=new Set};function Pg(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(qu.d)(this,function(c){switch(c.label){case 0:if(n=Zu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new kg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Tg(a,"Initialization of query '"+Sl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Mg(n),[2]}})})}function Ng(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(qu.d)(this,function(a){return n=Zu(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Dg(t,e){for(var n=Zu(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Mg(n)}function Rg(t,e,n){var r=Zu(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Mg(t){t.Gr.forEach(function(t){t.next()})}var Lg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ag(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Ag.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Vg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Fg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return zh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Yh(this.R,t.document,!1):Hc.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Uh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Fg(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Oh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(qu.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(qu.d)(this,function(o){switch(o.label){case 0:return[4,mp(this.localStore,new Fg(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,yp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Jd(Object.assign({},this.progress),t))]}})})}}();var Ug=function(t){this.key=t},qg=function(t){this.key=t},Bg=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Oh(),this.mutatedKeys=Oh(),this.lo=El(t),this.fo=new Ig(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new xg,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=dl(this.query)&&i.size===this.query.limit?i.last():null,c=pl(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Cl(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),dl(this.query)||pl(this.query))for(;s.size>this.query.limit;){var l=dl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xu()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Ag(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new xg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Oh(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new qg(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Ug(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Oh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Ag.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Hg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},zg=function(t){this.key=t,this.bo=!1},Gg=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Vd(function(t){return Ol(t)},_l),this.Vo=new Map,this.So=new Set,this.Do=new lh(Tc.comparator),this.Co=new Map,this.No=new bp,this.xo={},this.Fo=new Map,this.ko=Td.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Kg(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(qu.d)(this,function(a){switch(a.label){case 0:return n=_m(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,lp(n.localStore,bl(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,$g(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&ng(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function $g(t,e,n,r){return Object(qu.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(qu.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(qu.b)(this,void 0,void 0,function(){var i,o,s;return Object(qu.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,fp(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(sm(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,fp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Bg(e,i.Bn),s=o._o(i.documents),a=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),sm(t,n,u.To),c=new Hg(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Wg(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i;return Object(qu.d)(this,function(o){switch(o.label){case 0:return n=Zu(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!_l(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,hp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),rg(n.remoteStore,r.targetId),im(n,r.targetId)}).catch(jd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return im(n,r.targetId),[4,hp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Qg(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(qu.d)(this,function(a){switch(a.label){case 0:r=Om(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Zu(t),i=oc.now(),o=e.reduce(function(t,e){return t.add(e.key)},Oh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ql(c,n.get(c.key));null!=l&&s.push(new Zl(c.key,l,Bc(l.value.mapValue),zl.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new lh(nc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,cm(r,i.changes)];case 3:return a.sent(),[4,gg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Tg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Yg(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r;return Object(qu.d)(this,function(i){switch(i.label){case 0:n=Zu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ap(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Ju(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Ju(r.bo):t.removedDocuments.size>0&&(Ju(r.bo),r.bo=!1))}),[4,cm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,jd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Xg(t,e,n){var r=Zu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Zu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Mg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Jg(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(qu.d)(this,function(c){switch(c.label){case 0:return(r=Zu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new lh(Tc.comparator)).insert(o,Hc.newNoDocument(o,sc.min())),a=Oh().add(o),u=new Eh(sc.min(),new Map,new dh(nc),s,a),[4,Yg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),um(r),[3,4];case 2:return[4,hp(r.localStore,e,!1).then(function(){return im(r,e,n)}).catch(jd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Zg(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i;return Object(qu.d)(this,function(o){switch(o.label){case 0:n=Zu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,op(n.localStore,e)];case 2:return i=o.sent(),rm(n,r,null),nm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,cm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,jd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function tm(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i;return Object(qu.d)(this,function(o){switch(o.label){case 0:r=Zu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Zu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Ju(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),rm(r,e,n),nm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,cm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,jd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function em(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(qu.d)(this,function(a){switch(a.label){case 0:ug((n=Zu(t)).remoteStore)||$u("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Zu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Tg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function nm(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function rm(t,e,n){var r=Zu(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function im(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||om(t,e)})}function om(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(rg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),um(t))}function sm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ug?(t.No.addReference(o.key,e),am(t,o)):o instanceof qg?($u("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||om(t,o.key)):Xu()}}function am(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||($u("SyncEngine","New document in limbo: "+n),t.So.add(r),um(t))}function um(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Tc(hc.fromString(e)),r=t.ko.next();t.Co.set(r,new zg(n)),t.Do=t.Do.insert(n,r),ng(t.remoteStore,new Jf(bl(fl(n.path)),r,2,Bu.o))}}function cm(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(qu.d)(this,function(a){switch(a.label){case 0:return r=Zu(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=tp.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(qu.d)(this,function(l){switch(l.label){case 0:n=Zu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Vf.forEach(e,function(e){return Vf.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Vf.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Hf(r=l.sent()))throw r;return $u("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function lm(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r;return Object(qu.d)(this,function(i){switch(i.label){case 0:return(n=Zu(t)).currentUser.isEqual(e)?[3,3]:($u("SyncEngine","User change. New user:",e.toKey()),[4,ip(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new zu(Hu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,cm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function hm(t,e){var n=Zu(t),r=n.Co.get(e);if(r&&r.bo)return Oh().add(r.key);var i=Oh(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function fm(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i;return Object(qu.d)(this,function(o){switch(o.label){case 0:return[4,fp((n=Zu(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&sm(n,e.targetId,i.To),i)]}})})}function dm(t){return Object(qu.b)(this,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){return[2,pp((e=Zu(t)).localStore).then(function(t){return cm(e,t)})]})})}function pm(t,e,n,r){return Object(qu.b)(this,void 0,void 0,function(){var i,o;return Object(qu.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Zu(t),r=Zu(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Vf.resolve(null)})})}((i=Zu(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,gg(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rm(i,e,r||null),nm(i,e),function(t,e){Zu(Zu(t)._n).Gt(e)}(i.localStore,e)):Xu(),s.label=4;case 4:return[4,cm(i,o)];case 5:return s.sent(),[3,7];case 6:$u("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function gm(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(qu.d)(this,function(c){switch(c.label){case 0:return _m(n=Zu(t)),Om(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,mm(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Og(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ng(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return im(n,e),hp(n.localStore,e,!0)}),rg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,mm(n,a)];case 5:return c.sent(),function(t){var e=Zu(t);e.Co.forEach(function(t,n){rg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new lh(Tc.comparator)}(n),n.$o=!1,[4,Og(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function mm(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(qu.d)(this,function(g){switch(g.label){case 0:n=Zu(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,lp(n.localStore,bl(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,fm(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,dp(n.localStore,a)];case 8:return p=g.sent(),[4,lp(n.localStore,p)];case 9:return u=g.sent(),[4,$g(n,ym(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ym(t){return hl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function vm(t){var e=Zu(t);return Zu(Zu(e.localStore).persistence).fn()}function bm(t,e,n,r){return Object(qu.b)(this,void 0,void 0,function(){var i,o,s;return Object(qu.d)(this,function(a){switch(a.label){case 0:return(i=Zu(t)).$o?($u("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pp(i.localStore)];case 3:return o=a.sent(),s=Eh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,cm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,hp(i.localStore,e,!0)];case 6:return a.sent(),im(i,e,r),[3,8];case 7:Xu(),a.label=8;case 8:return[2]}})})}function wm(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(qu.d)(this,function(f){switch(f.label){case 0:if(!(r=_m(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?($u("SyncEngine","Adding an already active target "+s),[3,5]):[4,dp(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,lp(r.localStore,a)];case 3:return u=f.sent(),[4,$g(r,ym(a),u.targetId,!1)];case 4:f.sent(),ng(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(qu.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,hp(r.localStore,t,!1).then(function(){rg(r.remoteStore,t),im(r,t)}).catch(jd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function _m(t){var e=Zu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jg.bind(null,e),e.vo._r=Dg.bind(null,e.eventManager),e.vo.Mo=Rg.bind(null,e.eventManager),e}function Om(t){var e=Zu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tm.bind(null,e),e}var Sm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return this.R=Kp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return rp(this.persistence,new ep,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ep(Ip.bs,this.R)},t.prototype.Bo=function(t){return new Vp},t.prototype.terminate=function(){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Cm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(qu.c)(e,t),e.prototype.initialize=function(e){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,gp(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Om(this.Ko.syncEngine)];case 4:return n.sent(),[4,gg(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return rp(this.persistence,new ep,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Dd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Xd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vd.withCacheSize(this.cacheSizeBytes):vd.DEFAULT;return new Wd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,zp(),Gp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Vp},e}(Sm),Em=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(qu.c)(e,t),e.prototype.initialize=function(e){return Object(qu.b)(this,void 0,void 0,function(){var n,r=this;return Object(qu.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Lp?(this.sharedClientState.syncEngine={ui:pm.bind(null,n),ai:bm.bind(null,n),hi:wm.bind(null,n),fn:vm.bind(null,n),ci:dm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(qu.b)(r,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return[4,gm(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=zp();if(!Lp.yt(e))throw new zu(Hu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Xd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Lp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Cm),Tm=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n=this;return Object(qu.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Xg(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lm.bind(null,this.syncEngine),[4,Og(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new jg},t.prototype.createDatastore=function(t){var e=Kp(t.databaseInfo.databaseId),n=new Hp(t.databaseInfo);return function(t,e,n){return new Xp(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Xg(s.syncEngine,t,0)},o=Up.yt()?new Up:new Fp,new Zp(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Gg(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(qu.b)(this,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return e=Zu(t),$u("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,eg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Im=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),xm=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Lf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(qu.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(qu.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Vg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(qu.b)(this,void 0,void 0,function(){var t,e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(qu.b)(this,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(qu.b)(this,void 0,void 0,function(){var t,e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(qu.b)(this,void 0,void 0,function(){var e,n=this;return Object(qu.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new zu(Hu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(qu.d)(this,function(u){switch(u.label){case 0:return n=Zu(t),r=$h(n.R)+"/documents",i={documents:e.map(function(t){return Hh(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ju(!!e.found);var n=zh(t,e.found.name),r=Uh(e.found.updateTime),i=new qc({mapValue:{fields:e.found.fields}});return Hc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Ju(!!e.missing),Ju(!!e.readTime);var n=zh(t,e.missing),r=Uh(e.readTime);return Hc.newNoDocument(n,r)}(t,e):Xu()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Ju(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new oh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(qu.b)(this,void 0,void 0,function(){var t,e=this;return Object(qu.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Tc.fromPath(n);e.mutations.push(new sh(r,e.precondition(r)))}),[4,function(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i;return Object(qu.d)(this,function(o){switch(o.label){case 0:return n=Zu(t),r=$h(n.R)+"/documents",i={writes:e.map(function(t){return Xh(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Xu();e=sc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new zu(Hu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?zl.updateTime(e):zl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(sc.min()))throw new zu(Hu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zl.updateTime(e)}return zl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Am=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new $p(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(qu.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(qu.d)(this,function(r){return t=new xm(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Sc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!uh(e)}return!1},t}(),km=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=xp.UNAUTHENTICATED,this.clientId=ec.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(qu.b)(r,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return $u("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new zu(Hu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Lf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(qu.b)(t,void 0,void 0,function(){var t,n;return Object(qu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Tg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function jm(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(qu.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),$u("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(qu.b)(i,void 0,void 0,function(){return Object(qu.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,ip(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Pm(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r;return Object(qu.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Nm(t)];case 1:return n=i.sent(),$u("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(qu.b)(this,void 0,void 0,function(){var n,r;return Object(qu.d)(this,function(i){switch(i.label){case 0:return(n=Zu(t)).asyncQueue.verifyOperationInProgress(),$u("RemoteStore","RemoteStore received new credentials"),r=ug(n),n.Or.add(3),[4,eg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,tg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Nm(t){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:($u("FirestoreClient","Using default OfflineComponentProvider"),[4,jm(t,new Sm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Dm(t){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:($u("FirestoreClient","Using default OnlineComponentProvider"),[4,Pm(t,new Tm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Rm(t){return Nm(t).then(function(t){return t.persistence})}function Mm(t){return Nm(t).then(function(t){return t.localStore})}function Lm(t){return Dm(t).then(function(t){return t.remoteStore})}function Vm(t){return Dm(t).then(function(t){return t.syncEngine})}function Fm(t){return Object(qu.b)(this,void 0,void 0,function(){var e,n;return Object(qu.d)(this,function(r){switch(r.label){case 0:return[4,Dm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Kg.bind(null,e.syncEngine),n.onUnlisten=Wg.bind(null,e.syncEngine),n)]}})})}function Um(t,e,n){var r=this;void 0===n&&(n={});var i=new Lf;return t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(r,void 0,void 0,function(){var r;return Object(qu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Im({next:function(o){e.enqueueAndForget(function(){return Ng(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new zu(Hu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new zu(Hu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Lg(fl(n.path),o,{includeMetadataChanges:!0,so:!0});return Pg(t,s)},[4,Fm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function qm(t,e,n){var r=this;void 0===n&&(n={});var i=new Lf;return t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(r,void 0,void 0,function(){var r;return Object(qu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Im({next:function(n){e.enqueueAndForget(function(){return Ng(t,s)}),n.fromCache&&"server"===r.source?i.reject(new zu(Hu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Lg(n,o,{includeMetadataChanges:!0,so:!0});return Pg(t,s)},[4,Fm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Bm=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Hm=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),zm=new Map,Gm=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Km=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(xp.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),$m=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Wm=function(){function t(t){var e=this;this.currentUser=xp.UNAUTHENTICATED,this.oc=new Lf,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){$u("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):($u("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?($u("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ju("string"==typeof n.accessToken),new Gm(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(qu.b)(n,void 0,void 0,function(){return Object(qu.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Ju(null===t||"string"==typeof t),new xp(t)},t}(),Qm=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=xp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Ym=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Qm(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(xp.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Xm(t,e,n){if(!n)throw new zu(Hu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Jm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new zu(Hu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Zm(t,e,n,r){if(!0===e&&!0===r)throw new zu(Hu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ty(t){if(!Tc.isDocumentKey(t))throw new zu(Hu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ey(t){if(Tc.isDocumentKey(t))throw new zu(Hu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ny(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Xu()}function ry(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new zu(Hu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ny(t);throw new zu(Hu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function iy(t,e){if(e<=0)throw new zu(Hu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var oy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new zu(Hu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zu(Hu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Zm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),sy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oy({}),this._settingsFrozen=!1,t instanceof Hm?(this._databaseId=t,this._credentials=new Km):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new zu(Hu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hm(t.options.projectId)}(t),this._credentials=new Wm(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new zu(Hu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new zu(Hu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Km;switch(t.type){case"gapi":var e=t.client;return Ju(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ym(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new zu(Hu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=zm.get(this))&&($u("ComponentProvider","Removing Datastore"),zm.delete(this),t.terminate()),Promise.resolve();var t},t}(),ay=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),uy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),cy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,fl(r))||this)._path=r,i.type="collection",i}return Object(qu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new ay(this.firestore,null,new Tc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(uy);function ly(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ki.h)(t),Xm("collection","path",e),t instanceof sy)return ey(n=hc.fromString.apply(hc,Object(qu.f)([e],r))),new cy(t,null,n);if(!(t instanceof ay||t instanceof cy))throw new zu(Hu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ey(n=hc.fromString.apply(hc,Object(qu.f)([t.path],r)).child(hc.fromString(e))),new cy(t.firestore,null,n)}function hy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ki.h)(t),1===arguments.length&&(e=ec.u()),Xm("doc","path",e),t instanceof sy)return ty(n=hc.fromString.apply(hc,Object(qu.f)([e],r))),new ay(t,null,new Tc(n));if(!(t instanceof ay||t instanceof cy))throw new zu(Hu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ty(n=t._path.child(hc.fromString.apply(hc,Object(qu.f)([e],r)))),new ay(t.firestore,t instanceof cy?t.converter:null,new Tc(n))}function fy(t,e){return t=Object(ki.h)(t),e=Object(ki.h)(e),(t instanceof ay||t instanceof cy)&&(e instanceof ay||e instanceof cy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function dy(t,e){return t=Object(ki.h)(t),e=Object(ki.h)(e),t instanceof uy&&e instanceof uy&&t.firestore===e.firestore&&_l(t._query,e._query)&&t.converter===e.converter}var py=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new $p(this,"async_queue_retry"),this.Tc=function(){var e=Gp();e&&$u("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Gp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Gp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return Object(qu.b)(this,void 0,void 0,function(){var t,e=this;return Object(qu.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Hf(t=n.sent()))throw t;return $u("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Wu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=Eg.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&Xu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(qu.b)(this,void 0,void 0,function(){var t;return Object(qu.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function gy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Lf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var my=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new py,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(qu.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||vy(this),this._firestoreClient.terminate()},e}(sy);function yy(t){return t._firestoreClient||vy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vy(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Bm(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new km(t._credentials,t._queue,r)}function by(t,e,n){var r=this,i=new Lf;return t.asyncQueue.enqueue(function(){return Object(qu.b)(r,void 0,void 0,function(){var r;return Object(qu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,jm(t,n)];case 1:return o.sent(),[4,Pm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Hu.FAILED_PRECONDITION||t.code===Hu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function wy(t){if(t._initialized||t._terminated)throw new zu(Hu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var _y=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new zu(Hu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Oy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(gc.fromBase64String(e))}catch(e){throw new zu(Hu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(gc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Sy=function(t){this._methodName=t},Cy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new zu(Hu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zu(Hu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return nc(this._lat,t._lat)||nc(this._long,t._long)},t}(),Ey=/^__.*__$/,Ty=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Zl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Jl(t,this.data,e,this.fieldTransforms)},t}(),Iy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Zl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function xy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xu()}}var Ay=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return Qy(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(xy(this.Cc)&&Ey.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),ky=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Kp(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new Ay({Cc:t,methodName:e,Bc:n,path:dc.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function jy(t){var e=t._freezeSettings(),n=Kp(t._databaseId);return new ky(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Py(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);Gy("Data must be an object, but it was:",s,r);var a,u,c=Hy(r,s);if(o.merge)a=new pc(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ky(e,f[h],n);if(!s.contains(d))throw new zu(Hu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Yy(l,d)||l.push(d)}a=new pc(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Ty(new qc(c),a,u)}var Ny=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(qu.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Sy);function Dy(t,e,n){return new Ay({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ry=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(qu.c)(e,t),e.prototype._toFieldTransform=function(t){return new Bl(t.path,new Dl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Sy),My=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(qu.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Dy(this,t,!0),n=this.Uc.map(function(t){return By(t,e)}),r=new Rl(n);return new Bl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Sy),Ly=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(qu.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Dy(this,t,!0),n=this.Uc.map(function(t){return By(t,e)}),r=new Ll(n);return new Bl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Sy),Vy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(qu.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Fl(t.R,Al(t.R,this.Qc));return new Bl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Sy);function Fy(t,e,n,r){var i=t.qc(1,e,n);Gy("Data must be an object, but it was:",i,r);var o=[],s=qc.empty();uc(r,function(t,r){var a=Wy(e,t,n);r=Object(ki.h)(r);var u=i.$c(a);if(r instanceof Ny)o.push(a);else{var c=By(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new pc(o);return new Iy(s,a,i.fieldTransforms)}function Uy(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[Ky(e,r,n)],u=[i];if(o.length%2!=0)throw new zu(Hu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ky(e,o[c])),u.push(o[c+1]);for(var l=[],h=qc.empty(),f=a.length-1;f>=0;--f)if(!Yy(l,a[f])){var d=a[f],p=u[f];p=Object(ki.h)(p);var g=s.$c(d);if(p instanceof Ny)l.push(d);else{var m=By(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new pc(l);return new Iy(h,y,s.fieldTransforms)}function qy(t,e,n,r){return void 0===r&&(r=!1),By(n,t.qc(r?4:3,e))}function By(t,e){if(zy(t=Object(ki.h)(t)))return Gy("Unsupported field value:",e,t),Hy(t,e);if(t instanceof Sy)return function(t,e){if(!xy(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=By(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(ki.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Al(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=oc.fromDate(t);return{timestampValue:Lh(e.R,n)}}if(t instanceof oc)return n=new oc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Lh(e.R,n)};if(t instanceof Cy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oy)return{bytesValue:Vh(e.R,t._byteString)};if(t instanceof ay){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:qh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+ny(t))}(t,e)}function Hy(t,e){var n={};return cc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uc(t,function(t,r){var i=By(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function zy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof oc||t instanceof Cy||t instanceof Oy||t instanceof ay||t instanceof Sy)}function Gy(t,e,n){if(!zy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ny(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Ky(t,e,n){if((e=Object(ki.h)(e))instanceof _y)return e._internalPath;if("string"==typeof e)return Wy(t,e);throw Qy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var $y=new RegExp("[~\\*/\\[\\]]");function Wy(t,e,n){if(e.search($y)>=0)throw Qy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(_y.bind.apply(_y,Object(qu.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Qy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Qy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new zu(Hu.INVALID_ARGUMENT,(a+=". ")+t+u)}function Yy(t,e){return t.some(function(t){return t.isEqual(e)})}var Xy=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ay(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Zy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(qu.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Xy);function Zy(t,e){return"string"==typeof e?Wy(t,e):e instanceof _y?e._internalPath:e._delegate._internalPath}var tv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ev=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(qu.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new nv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Zy("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Xy),nv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(qu.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ev),rv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new tv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new nv(n._firestore,n._userDataWriter,r.key,r,new tv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zu(Hu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new nv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new tv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new nv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new tv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:iv(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function iv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xu()}}function ov(t,e){return t instanceof ev&&e instanceof ev?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof rv&&e instanceof rv&&t._firestore===e._firestore&&dy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function sv(t){if(pl(t)&&0===t.explicitOrderBy.length)throw new zu(Hu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var av=function(){};function uv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var cv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(qu.c)(e,t),e.prototype._apply=function(t){var e=jy(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new zu(Hu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){mv(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(gv(r,t,l[c]));a={arrayValue:{values:u}}}else a=gv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||mv(s,o),a=qy(n,"where",s,"in"===o||"not-in"===o);var h=Qc.create(i,o,a);return function(t,e){if(e.g()){var n=ml(t);if(null!==n&&!n.isEqual(e.field))throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=gl(t);null!==r&&yv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new zu(Hu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new uy(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(av),lv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return Object(qu.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new sl(e,n);return function(t,e){if(null===gl(t)){var n=ml(t);null!==n&&yv(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new uy(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ll(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(av),hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(qu.c)(e,t),e.prototype._apply=function(t){return new uy(t.firestore,t.converter,wl(t._query,this.zc,this.Hc))},e}(av),fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(qu.c)(e,t),e.prototype._apply=function(t){var e=pv(t,this.type,this.Jc,this.Yc);return new uy(t.firestore,t.converter,function(t,e){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(av),dv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(qu.c)(e,t),e.prototype._apply=function(t){var e=pv(t,this.type,this.Jc,this.Yc);return new uy(t.firestore,t.converter,function(t,e){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(av);function pv(t,e,n,r){if(n[0]=Object(ki.h)(n[0]),n[0]instanceof Xy)return function(t,e,n,r,i){if(!r)throw new zu(Hu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=vl(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Dc(e,r.key));else{var c=r.data.field(u.field);if(wc(c))throw new zu(Hu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new il(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=jy(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new zu(Hu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!yl(t)&&-1!==c.indexOf("/"))throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(hc.fromString(c));if(!Tc.isDocumentKey(l))throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Tc(l);a.push(Dc(e,h))}else{var f=qy(n,r,c);a.push(f)}}return new il(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function gv(t,e,n){if("string"==typeof(n=Object(ki.h)(n))){if(""===n)throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yl(e)&&-1!==n.indexOf("/"))throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(hc.fromString(n));if(!Tc.isDocumentKey(r))throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Dc(t,new Tc(r))}if(n instanceof ay)return Dc(t,n._key);throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ny(n)+".")}function mv(t,e){if(!Array.isArray(t)||0===t.length)throw new zu(Hu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new zu(Hu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function yv(t,e,n){if(!n.isEqual(e))throw new zu(Hu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var vv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ic(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Xu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return uc(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Cy(vc(t.latitude),vc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=_c(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Oc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=yc(t);return new oc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=hc.fromString(t);Ju(df(n));var r=new Hm(n.get(1),n.get(3)),i=new Tc(n.popFirst(5));return r.isEqual(e)||Wu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function bv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var wv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(qu.c)(e,t),e.prototype.convertBytes=function(t){return new Oy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ay(this.firestore,null,e)},e}(vv),_v=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=jy(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Ov(t,this._firestore),i=bv(r.converter,e,n),o=Py(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,zl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Ov(t,this._firestore);return o="string"==typeof(e=Object(ki.h)(e))||e instanceof _y?Uy(this._dataReader,"WriteBatch.update",s._key,e,n,r):Fy(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,zl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Ov(t,this._firestore);return this._mutations=this._mutations.concat(new oh(e._key,zl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new zu(Hu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Ov(t,e){if((t=Object(ki.h)(t)).firestore!==e)throw new zu(Hu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Sv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(qu.c)(e,t),e.prototype.convertBytes=function(t){return new Oy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ay(this.firestore,null,e)},e}(vv);function Cv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ry(t,ay);var o=ry(t.firestore,my),s=jy(o);return Tv(o,[("string"==typeof(e=Object(ki.h)(e))||e instanceof _y?Uy(s,"updateDoc",t._key,e,n,r):Fy(s,"updateDoc",t._key,e)).toMutation(t._key,zl.exists(!0))])}function Ev(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(ki.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||gy(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(gy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof ay)c=ry(t.firestore,my),l=fl(t._key.path),u={next:function(e){i[a]&&i[a](Iv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=ry(t,uy);c=ry(d.firestore,my),l=d._query;var p=new Sv(c);u={next:function(t){i[a]&&i[a](new rv(c,p,d,t))},error:i[a+1],complete:i[a+2]},sv(t._query)}return function(t,e,n,r){var i=this,o=new Im(r),s=new Lg(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(i,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return e=Pg,[4,Fm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(i,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return e=Ng,[4,Fm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(yy(c),l,h,u)}function Tv(t,e){return function(t,e){var n=this,r=new Lf;return t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(n,void 0,void 0,function(){var n;return Object(qu.d)(this,function(i){switch(i.label){case 0:return n=Qg,[4,Vm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(yy(t),e)}function Iv(t,e,n){var r=n.docs.get(e._key),i=new Sv(t);return new ev(t,i,e._key,r,new tv(n.hasPendingWrites,n.fromCache),e.converter)}var xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(qu.c)(e,t),e.prototype.get=function(e){var n=this,r=Ov(e,this._firestore),i=new Sv(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new ev(n._firestore,i,r._key,t._document,new tv(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=jy(t)}return t.prototype.get=function(t){var e=this,n=Ov(t,this._firestore),r=new wv(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Xu();var i=t[0];if(i.isFoundDocument())return new Xy(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Xy(e._firestore,r,n._key,null,n.converter);throw Xu()})},t.prototype.set=function(t,e,n){var r=Ov(t,this._firestore),i=bv(r.converter,e,n),o=Py(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Ov(t,this._firestore);return o="string"==typeof(e=Object(ki.h)(e))||e instanceof _y?Uy(this._dataReader,"Transaction.update",s._key,e,n,r):Fy(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Ov(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Av(){if("undefined"==typeof Uint8Array)throw new zu(Hu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function kv(){if("undefined"==typeof atob)throw new zu(Hu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return kv(),new t(Oy.fromBase64String(e))},t.fromUint8Array=function(e){return Av(),new t(Oy.fromUint8Array(e))},t.prototype.toBase64=function(){return kv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Av(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Pv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){wy(t=ry(t,my));var n=yy(t),r=t._freezeSettings(),i=new Tm;return by(n,i,new Cm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){wy(t=ry(t,my));var e=yy(t),n=t._freezeSettings(),r=new Tm;return by(e,r,new Em(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new zu(Hu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Lf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(qu.b)(e,void 0,void 0,function(){var e;return Object(qu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(qu.b)(this,void 0,void 0,function(){return Object(qu.d)(this,function(e){switch(e.label){case 0:return Uf.yt()?[4,Uf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Xd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Nv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Hm||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Qu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=ry(t,sy))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Qu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(ki.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new zu(Hu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new $m(new Gm(o,new xp(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(qu.b)(e,void 0,void 0,function(){var e,n;return Object(qu.d)(this,function(r){switch(r.label){case 0:return[4,Rm(t)];case 1:return e=r.sent(),[4,Lm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Zu(t);return e.Or.delete(0),tg(e)}(n))]}})})})}(yy(ry(this._delegate,my)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(qu.b)(e,void 0,void 0,function(){var e,n;return Object(qu.d)(this,function(r){switch(r.label){case 0:return[4,Rm(t)];case 1:return e=r.sent(),[4,Lm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(qu.b)(this,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return(e=Zu(t)).Or.add(0),[4,eg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(yy(ry(this._delegate,my)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Zm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Lf;return t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(e,void 0,void 0,function(){var e;return Object(qu.d)(this,function(r){switch(r.label){case 0:return e=em,[4,Vm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(yy(ry(this._delegate,my)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Im(e);return t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(n,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Zu(t).Gr.add(e),e.next()},[4,Fm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(n,void 0,void 0,function(){var e;return Object(qu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Zu(t).Gr.delete(e)},[4,Fm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(yy(t=ry(t,my)),gy(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new zu(Hu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new $v(this,ly(this._delegate,t))}catch(t){throw Fv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Vv(this,hy(this._delegate,t))}catch(t){throw Fv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new zv(this,function(t,e){if(t=ry(t,sy),Xm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new zu(Hu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new uy(t,null,function(t){return new ll(hc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Fv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Lf;return t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(n,void 0,void 0,function(){var n;return Object(qu.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Dm(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Am(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(yy(t),function(n){return e(new xv(t,n))})}(this._delegate,function(n){return t(new Rv(e,n))})},t.prototype.batch=function(){var t=this;return yy(this._delegate),new Mv(new _v(this._delegate,function(e){return Tv(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new zu(Hu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new zu(Hu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Dv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(qu.c)(e,t),e.prototype.convertBytes=function(t){return new jv(new Oy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Vv.tu(e,this.firestore,null)},e}(vv),Rv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Dv(t)}return t.prototype.get=function(t){var e=this,n=Wv(t);return this._delegate.get(n).then(function(t){return new Bv(e._firestore,new ev(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Wv(t);return n?(Jm("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Wv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(qu.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Wv(t);return this._delegate.delete(e),this},t}(),Mv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Wv(t);return n?(Jm("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Wv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(qu.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Wv(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Lv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new nv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Hv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Dv(e),n),i.set(n,o)),o},t}();Lv.nu=new WeakMap;var Vv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Dv(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new zu(Hu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new ay(n._delegate,r,new Tc(e)))},t.tu=function(e,n,r){return new t(n,new ay(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new $v(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new $v(this.firestore,ly(this._delegate,t))}catch(t){throw Fv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(ki.h)(t))instanceof ay&&fy(this._delegate,t)},t.prototype.set=function(t,e){e=Jm("DocumentReference.set",e);try{return function(t,e,n){t=ry(t,ay);var r=ry(t.firestore,my),i=bv(t.converter,e,n);return Tv(r,[Py(jy(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,zl.none())])}(this._delegate,t,e)}catch(t){throw Fv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Cv(this._delegate,t):Cv.apply(void 0,Object(qu.f)([this._delegate,t,e],n))}catch(t){throw Fv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Tv(ry((t=this._delegate).firestore,my),[new oh(t._key,zl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Uv(e),i=qv(e,function(e){return new Bv(t.firestore,new ev(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Ev(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ry(t,ay);var e=ry(t.firestore,my),n=yy(e),r=new Sv(e);return function(t,e){var n=this,r=new Lf;return t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(n,void 0,void 0,function(){var n;return Object(qu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i;return Object(qu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Zu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new zu(Hu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Tg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Mm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new ev(e,r,t._key,n,new tv(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ry(t,ay);var e=ry(t.firestore,my);return Um(yy(e),t._key,{source:"server"}).then(function(n){return Iv(e,t,n)})}(this._delegate):function(t){t=ry(t,ay);var e=ry(t.firestore,my);return Um(yy(e),t._key).then(function(n){return Iv(e,t,n)})}(this._delegate)).then(function(t){return new Bv(e.firestore,new ev(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Lv.eu(this.firestore,e):null))},t}();function Fv(t,e,n){return t.message=t.message.replace(e,n),t}function Uv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!gy(r))return r}return{}}function qv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=gy(t[0])?t[0]:gy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Bv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Vv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return ov(this._delegate,t._delegate)},t}(),Hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(qu.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Bv),zv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Dv(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,uv(this._delegate,function(t,e,n){var r=e,i=Zy("where",t);return new cv(i,r,n)}(e,n,r)))}catch(e){throw Fv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,uv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Zy("orderBy",t);return new lv(r,n)}(e,n)))}catch(e){throw Fv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,uv(this._delegate,function(t){return iy("limit",t),new hv("limit",t,"F")}(e)))}catch(e){throw Fv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,uv(this._delegate,function(t){return iy("limitToLast",t),new hv("limitToLast",t,"L")}(e)))}catch(e){throw Fv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,uv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Fv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,uv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Fv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,uv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Fv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,uv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Fv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return dy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ry(t,uy);var e=ry(t.firestore,my),n=yy(e),r=new Sv(e);return function(t,e){var n=this,r=new Lf;return t.asyncQueue.enqueueAndForget(function(){return Object(qu.b)(n,void 0,void 0,function(){var n;return Object(qu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(qu.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(qu.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,fp(t,e,!0)];case 1:return a=u.sent(),r=new Bg(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Tg(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Mm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new rv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ry(t,uy);var e=ry(t.firestore,my),n=yy(e),r=new Sv(e);return qm(n,t._query,{source:"server"}).then(function(n){return new rv(e,r,t,n)})}(this._delegate):function(t){t=ry(t,uy);var e=ry(t.firestore,my),n=yy(e),r=new Sv(e);return sv(t._query),qm(n,t._query).then(function(n){return new rv(e,r,t,n)})}(this._delegate)).then(function(t){return new Kv(e.firestore,new rv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Uv(e),i=qv(e,function(e){return new Kv(t.firestore,new rv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Ev(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Lv.eu(this.firestore,e):null))},t}(),Gv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Hv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Kv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new zv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Hv(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Gv(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Hv(n._firestore,r))})},t.prototype.isEqual=function(t){return ov(this._delegate,t._delegate)},t}(),$v=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(qu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Vv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Vv(this.firestore,void 0===t?hy(this._delegate):hy(this._delegate,t))}catch(t){throw Fv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ry(t.firestore,my),r=hy(t),i=bv(t.converter,e);return Tv(n,[Py(jy(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,zl.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Vv(e.firestore,t)})},e.prototype.isEqual=function(t){return fy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Lv.eu(this.firestore,t):null))},e}(zv);function Wv(t){return ry(t,ay)}var Qv,Yv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(_y.bind.apply(_y,Object(qu.f)([void 0],t)))}return t.documentId=function(){return new t(dc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(ki.h)(t))instanceof _y&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Xv=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ry("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Ny("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new My("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ly("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Vy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Jv=n("/6Yf"),Zv={Firestore:Nv,GeoPoint:Cy,Timestamp:oc,Blob:jv,Transaction:Rv,WriteBatch:Mv,DocumentReference:Vv,DocumentSnapshot:Bv,Query:zv,QueryDocumentSnapshot:Hv,QuerySnapshot:Kv,CollectionReference:$v,FieldPath:Yv,FieldValue:Xv,setLogLevel:function(t){Gu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Jv.a("firestore",function(t){return function(t,e){return new Nv(t,new my(t,e),new Pv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Zv)))})(Qv=Ai.a),Qv.registerVersion("@firebase/firestore","2.3.6");var tb=n("VRyK"),eb=n("qgXg"),nb=n("Ylt2");class rb extends vt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new ib(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new bt.a;if(this.isStopped||this.hasError?o=we.a.EMPTY:(this.observers.push(t),o=new nb.a(this,t)),r&&t.add(t=new Ti.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||eb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class ib{constructor(t,e){this.time=t,this.value=e}}function ob(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new rb(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function sb(t,e){return e?qt(()=>t,e):qt(()=>t)}var ab=n("tf+s");const ub=new r.r("angularfire2.auth.use-emulator"),cb=new r.r("angularfire2.auth.settings"),lb=new r.r("angularfire2.auth.tenant-id"),hb=new r.r("angularfire2.auth.langugage-code"),fb=new r.r("angularfire2.auth.use-device-language"),db=new r.r("angularfire.auth.persistence");let pb=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Ii.d(i),f=Object(Ii.h)(h),d=new vt.a,p=Object(yt.a)(void 0).pipe(Object(Ti.b)(h.outsideAngular),qt(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(Ft.a)(()=>Object(Ii.g)(t,i,e)),Object(Ft.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ii.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),ob({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(yt.a)(null);else{p.pipe(ye()).subscribe();const t=p.pipe(qt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,ob({bufferSize:1,refCount:!1})),e=t=>new It.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(qt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(qt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(sb(n),Object(ab.a)(h.outsideAngular),Object(Ti.b)(h.insideAngular)),this.user=t.pipe(sb(r),Object(ab.a)(h.outsideAngular),Object(Ti.b)(h.insideAngular)),this.idToken=this.user.pipe(qt(t=>t?Object(mt.a)(t.getIdToken()):Object(yt.a)(null))),this.idTokenResult=this.user.pipe(qt(t=>t?Object(mt.a)(t.getIdTokenResult()):Object(yt.a)(null))),this.credential=Object(tb.a)(t,d,this.authState.pipe(Jt(t=>!t))).pipe(Object(Ft.a)(t=>(null==t?void 0:t.user)?t:null),Object(ab.a)(h.outsideAngular),Object(Ti.b)(h.insideAngular))}return Object(Ii.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ii.c),r.Sb(Ii.b,8),r.Sb(r.C),r.Sb(r.A),r.Sb(ub,8),r.Sb(cb,8),r.Sb(lb,8),r.Sb(hb,8),r.Sb(fb,8),r.Sb(db,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Sb(Ii.c),r.Sb(Ii.b,8),r.Sb(r.C),r.Sb(r.A),r.Sb(ub,8),r.Sb(cb,8),r.Sb(lb,8),r.Sb(hb,8),r.Sb(fb,8),r.Sb(db,8))},token:t,providedIn:"any"}),t})();function gb(t,e){return function(t,e=wi.a){return new It.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function mb(t,e){return gb(t,e).pipe(Object(Ft.a)(t=>({payload:t,type:"query"})))}function yb(t,e){return mb(t,e).pipe(Wt(void 0),_i(),Object(Ft.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function vb(t,e,n){return yb(t,n).pipe(Qt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return bb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return bb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ci(void 0,void 0)),Object(Ft.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function bb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function wb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ii.e)(pb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class _b{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=yb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ft.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Wt(void 0),_i(),Jt(([t,e])=>e.length>0||!t),Object(Ft.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=wb(t);return vb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return mb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(mt.a)(this.query.get(t)).pipe(Object(Ti.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Ob(this.ref.doc(t),this.afs)}}class Ob{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=xb(n,e);return new _b(r,i,this.afs)}snapshotChanges(){return gb(this.ref,this.afs.schedulers.outsideAngular).pipe(Wt(void 0),_i(),Object(Ft.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ft.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(mt.a)(this.ref.get(t)).pipe(Object(Ti.b)(this.afs.schedulers.insideAngular))}}class Sb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?yb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jt(t=>t.length>0),this.afs.keepUnstableUntilFirst):yb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=wb(t);return vb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return mb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(mt.a)(this.query.get(t)).pipe(Object(Ti.b)(this.afs.schedulers.insideAngular))}}const Cb=new r.r("angularfire2.enableFirestorePersistence"),Eb=new r.r("angularfire2.firestore.persistenceSettings"),Tb=new r.r("angularfire2.firestore.settings"),Ib=new r.r("angularfire2.firestore.use-emulator");function xb(t,e=(t=>t)){return{query:e(t),ref:t}}let Ab=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Ii.d(o),this.keepUnstableUntilFirst=Object(Ii.h)(this.schedulers);const c=Object(Ii.g)(t,o,e);!xi.a.auth&&u&&Object(Ii.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ii.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return Object(mt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Qv){return"undefined"!=typeof console&&console.warn(Qv),Object(yt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(yt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=xb(n,e),o=this.schedulers.ngZone.run(()=>r);return new _b(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Sb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Ob(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ii.c),r.Sb(Ii.b,8),r.Sb(Cb,8),r.Sb(Tb,8),r.Sb(r.C),r.Sb(r.A),r.Sb(Eb,8),r.Sb(Ib,8),r.Sb(ub,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Sb(Ii.c),r.Sb(Ii.b,8),r.Sb(Cb,8),r.Sb(Tb,8),r.Sb(r.C),r.Sb(r.A),r.Sb(Eb,8),r.Sb(Ib,8),r.Sb(ub,8))},token:t,providedIn:"any"}),t})(),kb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Cb,useValue:!0},{provide:Eb,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Ab]}),t})(),jb=(()=>{class t{constructor(t){this.firestore=t}createCourse(t){return new Promise((e,n)=>{this.firestore.collection("courses").add(t).then(t=>{e(t),console.log("create course res "+JSON.stringify(t))},t=>{n(t),console.error("create course error "+t)})})}getCourses(){return this.firestore.collection("courses").snapshotChanges()}updateCourse(t){return this.firestore.collection("courses").doc(t.payload.doc.id).set({updated:!0},{merge:!0})}deleteCourse(t){return this.firestore.collection("courses").doc(t.payload.doc.id).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ab))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pb=(()=>{class t{constructor(){}setSelectedCourse(t){this.selectedCourse=t}getSelectedCourse(){return this.selectedCourse}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Nb=(()=>{class t{constructor(t,e){this.eventEmitterService=t,this.commonService=e}ngOnInit(){}bookDemo(t){this.commonService.setSelectedCourse(t),this.eventEmitterService.emit({type:"SHOW_DEMO_POPUP",data:{display:!0}})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(mi),r.Mb(Pb))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-card"]],inputs:{cardData:"cardData"},decls:13,vars:5,consts:[[1,"card-component"],[1,"image"],["alt","",3,"src"],[1,"profile"],[1,"course-name"],[1,"instructor"],[1,"book-demo",3,"click"],[1,"prize"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Nb(2,"img",2),r.Pb(3,"div",3),r.Nb(4,"img",2),r.Ob(),r.Ob(),r.Pb(5,"div",4),r.ec(6),r.Ob(),r.Pb(7,"div",5),r.ec(8),r.Ob(),r.Pb(9,"div",6),r.Vb("click",function(){return e.bookDemo(e.cardData)}),r.ec(10," Book Demo "),r.Ob(),r.Pb(11,"div",7),r.ec(12),r.Ob(),r.Ob()),2&t&&(r.Bb(2),r.Yb("src",e.cardData.img,r.bc),r.Bb(2),r.Yb("src",e.cardData.profile,r.bc),r.Bb(2),r.gc(" ",e.cardData.courseName," "),r.Bb(2),r.gc(" ",e.cardData.instructor," "),r.Bb(4),r.gc(" Prize: \u20b9",e.cardData.prize," "))},styles:[".card-component[_ngcontent-%COMP%]{width:250px;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:2rem 3px;border-bottom:1px solid #bab9b9;border-radius:5px}.card-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:150px;text-align:center;margin-bottom:2rem;position:relative}.card-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{width:5rem;height:5em;border-radius:50%;position:relative;top:-40%;left:10px;display:flex;align-items:center;justify-content:center;flex-direction:row}.card-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;height:90%;border-radius:50%;border:2px solid #f5f5f5}.card-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px}.card-component[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:.1rem 0;text-align:center;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;position:relative}.card-component[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;background-color:#464646;position:absolute;color:#fff;text-align:center;border-radius:6px;padding:5px;z-index:3;font-size:.5rem;left:50%}.card-component[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.card-component[_ngcontent-%COMP%]   .instructor[_ngcontent-%COMP%]{font-size:.8rem}.card-component[_ngcontent-%COMP%]   .book-demo[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#f5f5f5;background-color:#952e16;border-radius:10px;padding:.5rem 1rem;margin:.5rem 0}.card-component[_ngcontent-%COMP%]   .book-demo[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.card-component[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700}"]}),t})();function Db(t,e){if(1&t&&(r.Pb(0,"div",2),r.Nb(1,"app-card",3),r.Ob()),2&t){const t=e.$implicit;r.Bb(1),r.Xb("cardData",t)}}let Rb=(()=>{class t{constructor(t){this.coursesService=t,this.cards=[{id:1,img:"assets/images/course1.jpeg",courseName:"English for class 10th",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"Learn guitar",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"Python",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"Data structure and algorithms",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"Maths for class 10th",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"History for class 10th",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"}],this.getCourses=()=>this.coursesService.getCourses().subscribe(t=>console.log("get courses res comp - "+JSON.stringify(t))),this.updateDoc={payload:{doc:{id:"G7zxeJbap5ZNJwPq2imA"}}},this.deleteDoc={payload:{doc:{id:"GNUR2hJ5v76exmicVE8h"}}}}createCourses(){this.coursesService.createCourse({id:1,img:"assets/images/course1.jpeg",courseName:"Maths for class 10th",instructor:"Nisha Poswal",price:499,profile:"assets/images/kid.jpg"}).then(t=>{console.log("create course res comp - "+JSON.stringify(t))})}updateCourse(t){this.coursesService.updateCourse(t)}deleteCourse(t){this.coursesService.deleteCourse(t)}ngOnInit(){this.createCourses(),this.getCourses(),this.updateCourse(this.updateDoc),this.deleteCourse(this.deleteDoc)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(jb))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-courses"]],decls:2,vars:1,consts:[[1,"courses-component"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"cardData"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.dc(1,Db,2,1,"div",1),r.Ob()),2&t&&(r.Bb(1),r.Xb("ngForOf",e.cards))},directives:[k,Nb],styles:[".courses-component[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:row;flex-wrap:wrap;margin-bottom:2rem}.courses-component[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0 1rem}"]}),t})(),Mb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-course-on-demand"]],decls:10,vars:0,consts:[[1,"course-on-demand-component"],[1,"left"],[1,"right"],[1,"card"],["for",""],["name","","id","","cols","30","rows","10","placeholder","Enter here"],[1,"button"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.ec(2," Available courses does not interest you? :( Tell us the course you want to do or skill u want to learn we will arrange teachers for you. "),r.Ob(),r.Pb(3,"div",2),r.Pb(4,"div",3),r.Pb(5,"label",4),r.ec(6,"Enter On demand course details"),r.Ob(),r.Nb(7,"textarea",5),r.Pb(8,"div",6),r.ec(9,"Submit"),r.Ob(),r.Ob(),r.Ob(),r.Ob())},styles:[".course-on-demand-component[_ngcontent-%COMP%]{width:100%;height:100vh;background-color:#f1fdf7;display:flex;align-items:center;justify-content:center;flex-direction:row;flex-wrap:wrap}.course-on-demand-component[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{color:#000;font-size:2rem;font-weight:700;text-align:center;flex:1;padding:2rem}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;flex:1}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:10px;background-color:transparent;padding:1rem;display:flex;align-items:center;justify-content:center;flex-direction:column;box-shadow:0 3px 32px 0 rgba(0,0,0,.55)}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:2px solid #952e16;background:transparent;border-radius:10px;resize:none;margin:10px;padding:10px;outline:none}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-top:2rem}"]}),t})();var Lb=n("XoHu");function Vb(t,e){return new It.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(mt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Fb{}const Ub=new r.r("NgValueAccessor"),qb={provide:Ub,useExisting:Object(r.U)(()=>Hb),multi:!0},Bb=new r.r("CompositionEventMode");let Hb=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(Bb,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Ab([qb])]}),t})();function zb(t){return null==t||0===t.length}function Gb(t){return null!=t&&"number"==typeof t.length}const Kb=new r.r("NgValidators"),$b=new r.r("NgAsyncValidators"),Wb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qb{static min(t){return function(t){return e=>{if(zb(e.value)||zb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(zb(e.value)||zb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return zb(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return zb(t.value)||Wb.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>zb(e.value)||!Gb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Gb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Yb;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(zb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return nw(t)}static composeAsync(t){return iw(t)}}function Yb(t){return null}function Xb(t){return null!=t}function Jb(t){const e=Object(r.sb)(t)?Object(mt.a)(t):t;return Object(r.rb)(e),e}function Zb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function tw(t,e){return e.map(e=>e(t))}function ew(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function nw(t){if(!t)return null;const e=t.filter(Xb);return 0==e.length?null:function(t){return Zb(tw(t,e))}}function rw(t){return null!=t?nw(ew(t)):null}function iw(t){if(!t)return null;const e=t.filter(Xb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Ot.a)(e))return Vb(e,null);if(Object(Lb.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Vb(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Vb(t=1===t.length&&Object(Ot.a)(t[0])?t[0]:t,null).pipe(Object(Ft.a)(t=>e(...t)))}return Vb(t,null)}(tw(t,e).map(Jb)).pipe(Object(Ft.a)(Zb))}}function ow(t){return null!=t?iw(ew(t)):null}function sw(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function aw(t){return t._rawValidators}function uw(t){return t._rawAsyncValidators}let cw=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=rw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ow(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),lw=(()=>{class t extends cw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return hw(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.yb]}),t})();const hw=r.Qb(lw);class fw extends cw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dw{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let pw=(()=>{class t extends dw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fw,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})(),gw=(()=>{class t extends dw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(lw,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})();function mw(t,e){bw(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_w(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_w(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function yw(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ww(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function vw(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bw(t,e,n){const r=aw(t);null!==e.validator?t.setValidators(sw(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=uw(t);if(null!==e.asyncValidator?t.setAsyncValidators(sw(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();vw(e._rawValidators,n),vw(e._rawAsyncValidators,n)}}function ww(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=aw(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=uw(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};vw(e._rawValidators,t),vw(e._rawAsyncValidators,t)}return r}function _w(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ow(t,e){bw(t,e,!1)}function Sw(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Cw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ew(t){return(Aw(t)?t.validators:t)||null}function Tw(t){return Array.isArray(t)?rw(t):t||null}function Iw(t,e){return(Aw(e)?e.asyncValidators:t)||null}function xw(t){return Array.isArray(t)?ow(t):t||null}function Aw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class kw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Tw(this._rawValidators),this._composedAsyncValidatorFn=xw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Tw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=xw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=Jb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Pw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Nw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Aw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jw extends kw{constructor(t=null,e,n){super(Ew(e),Iw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Cw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Cw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Pw extends kw{constructor(t,e,n){super(Ew(e),Iw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof jw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Nw extends kw{constructor(t,e,n){super(Ew(e),Iw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof jw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Dw={provide:lw,useExisting:Object(r.U)(()=>Mw)},Rw=(()=>Promise.resolve(null))();let Mw=(()=>{class t extends lw{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Pw({},rw(t),ow(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Rw.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),mw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Rw.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Cw(this._directives,t)})}addFormGroup(t){Rw.then(()=>{const e=this._findContainer(t.path),n=new Pw({});Ow(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Rw.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Rw.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Sw(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Kb,10),r.Mb($b,10))},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([Dw]),r.yb]}),t})(),Lw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Vw={provide:Ub,useExisting:Object(r.U)(()=>Fw),multi:!0};let Fw=(()=>{class t extends Fb{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Ab([Vw]),r.yb]}),t})(),Uw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const qw=new r.r("NgModelWithFormControlWarning"),Bw={provide:lw,useExisting:Object(r.U)(()=>Hw)};let Hw=(()=>{class t extends lw{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ww(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return mw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){yw(t.control||null,t,!1),Cw(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Sw(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(yw(e||null,t),n instanceof jw&&(mw(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);Ow(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return ww(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bw(this.form,this,!1),this._oldForm&&ww(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Kb,10),r.Mb($b,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([Bw]),r.yb,r.zb]}),t})();const zw={provide:fw,useExisting:Object(r.U)(()=>Gw)};let Gw=(()=>{class t extends fw{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Hb?n=t:Object.getPrototypeOf(t.constructor)===Fb?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(lw,13),r.Mb(Kb,10),r.Mb($b,10),r.Mb(Ub,10),r.Mb(qw,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ab([zw]),r.yb,r.zb]}),t._ngModelWarningSentOnce=!1,t})(),Kw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Uw]]}),t})(),$w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Kw]}),t})(),Ww=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:qw,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Kw]}),t})(),Qw=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new Pw(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new jw(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Nw(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof jw||t instanceof Pw||t instanceof Nw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:Ww}),t})();function Yw(t,e){if(1&t&&(r.Pb(0,"div",16),r.Pb(1,"div",17),r.Nb(2,"i"),r.Ob(),r.Pb(3,"div",18),r.Pb(4,"div",19),r.ec(5),r.Ob(),r.Pb(6,"div",20),r.ec(7),r.Ob(),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.Bb(2),r.Db(t.class),r.Bb(3),r.fc(t.topText),r.Bb(2),r.fc(t.bottomText)}}let Xw=(()=>{class t{constructor(){this.modes=[{class:"fa fa-phone",topText:"Phone",bottomText:"8126139270"},{class:"fa fa-envelope",topText:"Email",bottomText:"nishaposwal321@gmail.com"},{class:"fa fa-phone",topText:"Phone",bottomText:"8126139270"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-contact-us"]],decls:20,vars:1,consts:[[1,"contact-us-component"],[1,"header"],[1,"top-header"],[1,"text"],[1,"content"],[1,"msg-card"],[1,"card"],[1,"send-msg"],["action",""],["type","text","placeholder","Full Name"],["type","email","placeholder","Email"],["type","text","placeholder","Type message here"],[1,"button"],[1,"contact-modes"],[1,"modes"],["class","mode",4,"ngFor","ngForOf"],[1,"mode"],[1,"left"],[1,"right"],[1,"top"],[1,"bottom"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.ec(3,"Contact-us"),r.Ob(),r.Pb(4,"div",3),r.ec(5," The U.S. National Academies of Sciences, Engineering, and Medicine determined that an adequate daily fluid intake is: About 15.5 cups (3.7 liters) of fluids a day for men. About 11.5 cups (2.7 liters) of fluids a day for women. "),r.Ob(),r.Ob(),r.Pb(6,"div",4),r.Pb(7,"div",5),r.Pb(8,"div",6),r.Pb(9,"div",7),r.ec(10,"Send Message"),r.Ob(),r.Pb(11,"form",8),r.Nb(12,"input",9),r.Nb(13,"input",10),r.Nb(14,"input",11),r.Ob(),r.Pb(15,"div",12),r.ec(16,"Submit"),r.Ob(),r.Ob(),r.Ob(),r.Pb(17,"div",13),r.Pb(18,"div",14),r.dc(19,Yw,8,5,"div",15),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Bb(19),r.Xb("ngForOf",e.modes))},directives:[Lw,gw,Mw,k],styles:[".contact-us-component[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#fff;padding:5%}.contact-us-component[_ngcontent-%COMP%], .contact-us-component[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.contact-us-component[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#000;margin-bottom:4rem}.contact-us-component[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-header[_ngcontent-%COMP%]{font-size:2rem;font-weight:bolder}.contact-us-component[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:row;flex-wrap:wrap}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]{flex:1;color:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-direction:row}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;margin-bottom:2rem}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:10px;color:#f5f5f5;border-radius:50%;background-color:#952e16;display:flex;align-items:center;justify-content:center;flex-direction:row;width:2rem;height:2rem;font-weight:bolder;font-size:1rem}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{color:#000}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{font-size:.8rem}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;flex-direction:row}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 3px 32px 0 rgba(0,0,0,.55);padding:2rem 3rem;border-radius:10px}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .send-msg[_ngcontent-%COMP%]{font-weight:bolder;margin-bottom:1rem;font-size:1.5rem}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:1.5rem}"]}),t})();function Jw(t,e){if(1&t&&r.Nb(0,"a",4),2&t){const t=e.$implicit;r.Db(t.class),r.Yb("href",t.link,r.bc)}}let Zw=(()=>{class t{constructor(){this.socialMedia=[{name:"facebook",link:"https://www.facebook.com/nosirdotin",class:"fa fa-facebook"},{icon:"instagram",link:"https://instagram.com/nosir.in?utm_medium=copy_link",class:"fa fa-instagram"},{icon:"twitter",link:"https://www.linkedin.com/company/nosir/about/?viewAsMember=true",class:"fa fa-twitter"},{icon:"linkedin",link:"https://www.linkedin.com/company/nosir/about/?viewAsMember=true",class:"fa fa-linkedin"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-footer"]],decls:7,vars:1,consts:[[1,"footer-component"],[1,"icons"],["target","_blank",3,"href","class",4,"ngFor","ngForOf"],[1,"copy-right"],["target","_blank",3,"href"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.dc(2,Jw,1,4,"a",2),r.Ob(),r.Pb(3,"div",3),r.Pb(4,"span"),r.ec(5,"\xa9"),r.Ob(),r.ec(6," 2021 nosir.in "),r.Ob(),r.Ob()),2&t&&(r.Bb(2),r.Xb("ngForOf",e.socialMedia))},directives:[k],styles:[".footer-component[_ngcontent-%COMP%]{width:100%;height:100px;background-color:#032214;color:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-direction:column}.footer-component[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%], .footer-component[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row}.footer-component[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#952e16;width:3rem;height:3rem;background-color:#f5f5f5;border-radius:50%;margin:.5rem;text-decoration:none;font-size:1.5rem;font-weight:bolder}.footer-component[_ngcontent-%COMP%]   .copy-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;font-size:.7rem}"]}),t})();function t_(t,e){1&t&&(r.Pb(0,"div",7),r.ec(1," Please Enter phone number for varification "),r.Ob())}let e_=(()=>{class t{constructor(t,e,n){this.commonService=t,this.eventEmitterService=e,this.formBuilder=n,this.submitClicked=!1}ngOnInit(){this.initializeDemoForm(),this.selectedcourse=this.commonService.getSelectedCourse(),this.subscription=this.eventEmitterService.subscribe(t=>this.handleAppEvents(t))}handleAppEvents(t){}initializeDemoForm(){this.bookDemoForm=this.formBuilder.group({phoneNumber:["",Qb.required]})}submit(){this.submitClicked=!0,this.bookDemoForm.valid&&this.eventEmitterService.emit({type:"SHOW_DEMO_POPUP",data:{display:!1}})}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Pb),r.Mb(mi),r.Mb(Qw))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-demo-popup"]],decls:11,vars:3,consts:[[1,"demo-popup-component"],[1,"pop-up"],[1,"course-name"],[3,"formGroup"],["type","number","placeholder","Enter your phone number","formControlName","phoneNumber"],["class","err",4,"ngIf"],[1,"submit",3,"click"],[1,"err"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.ec(3),r.Ob(),r.Pb(4,"form",3),r.Pb(5,"label"),r.ec(6,"Phone Number:"),r.Ob(),r.Nb(7,"input",4),r.dc(8,t_,2,0,"div",5),r.Pb(9,"div",6),r.Vb("click",function(){return e.submit()}),r.ec(10,"Submit"),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Bb(3),r.gc(" ",e.selectedcourse.courseName," "),r.Bb(1),r.Xb("formGroup",e.bookDemoForm),r.Bb(4),r.Xb("ngIf",(null==e.bookDemoForm.controls.phoneNumber.errors?null:e.bookDemoForm.controls.phoneNumber.errors.required)&&e.submitClicked))},directives:[Lw,gw,Hw,Fw,Hb,pw,Gw,P],styles:[".demo-popup-component[_ngcontent-%COMP%]{width:100%;height:100vh;flex-direction:row;position:fixed;top:0;left:0;background-color:rgba(0,0,0,.7)}.demo-popup-component[_ngcontent-%COMP%], .demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{width:250px;padding:2rem;border:1px solid grey;border-radius:10px;background-color:#f5f5f5;flex-direction:column}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:700;margin-bottom:2rem}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:1.5rem}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:none;border-bottom:1px solid #952e16;outline:none;padding:5px 0}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#f5f5f5;background-color:#952e16;border-radius:10px;text-align:center;padding:1rem;margin-top:2rem}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]}),t})();function n_(t,e){1&t&&r.Nb(0,"app-demo-popup")}let r_=(()=>{class t{constructor(t){this.eventEmitterService=t,this.displayDemoPopUp=!1}ngOnInit(){this.subscription=this.eventEmitterService.subscribe(t=>{this.handleAppEvents(t)})}handleAppEvents(t){switch(t.type){case"SHOW_DEMO_POPUP":this.displayDemoPopUp=t.data.display}}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(mi))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:8,vars:1,consts:[[1,"header"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Nb(1,"app-header"),r.Ob(),r.Nb(2,"app-home"),r.Nb(3,"app-courses"),r.dc(4,n_,1,0,"app-demo-popup",1),r.Nb(5,"app-course-on-demand"),r.Nb(6,"app-contact-us"),r.Nb(7,"app-footer")),2&t&&(r.Bb(4),r.Xb("ngIf",e.displayDemoPopUp))},directives:[vi,bi,Rb,P,Mb,Xw,Zw,e_],styles:[".header[_ngcontent-%COMP%]{width:100%;position:fixed;top:0;left:0}"]}),t})();class i_{}class o_{}class s_{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof s_?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new s_;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof s_?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class a_{encodeKey(t){return u_(t)}encodeValue(t){return u_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function u_(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class c_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new a_,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new c_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function l_(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function h_(t){return"undefined"!=typeof Blob&&t instanceof Blob}function f_(t){return"undefined"!=typeof FormData&&t instanceof FormData}class d_{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new s_),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new c_,this.urlWithParams=e}serializeBody(){return null===this.body?null:l_(this.body)||h_(this.body)||f_(this.body)||"string"==typeof this.body?this.body:this.body instanceof c_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||f_(this.body)?null:h_(this.body)?this.body.type||null:l_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof c_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new d_(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var p_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class g_{constructor(t,e=200,n="OK"){this.headers=t.headers||new s_,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class m_ extends g_{constructor(t={}){super(t),this.type=p_.ResponseHeader}clone(t={}){return new m_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class y_ extends g_{constructor(t={}){super(t),this.type=p_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new y_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class v_ extends g_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function b_(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let w_=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof d_)r=t;else{let i,o;i=n.headers instanceof s_?n.headers:new s_(n.headers),n.params&&(o=n.params instanceof c_?n.params:new c_({fromObject:n.params})),r=new d_(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(yt.a)(r).pipe(oe(t=>this.handler.handle(t)));if(t instanceof d_||"events"===n.observe)return i;const o=i.pipe(Jt(t=>t instanceof y_));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Ft.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Ft.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Ft.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Ft.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new c_).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,b_(n,e))}post(t,e,n={}){return this.request("POST",t,b_(n,e))}put(t,e,n={}){return this.request("PUT",t,b_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(i_))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class __{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const O_=new r.r("HTTP_INTERCEPTORS");let S_=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const C_=/^\)\]\}',?\n/;class E_{}let T_=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),I_=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new It.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new s_(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new m_({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(C_,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new y_({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new v_({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new v_({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:p_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:p_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:p_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(E_))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const x_=new r.r("XSRF_COOKIE_NAME"),A_=new r.r("XSRF_HEADER_NAME");class k_{}let j_=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s),r.Sb(r.C),r.Sb(x_))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),P_=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(k_),r.Sb(A_))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),N_=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(O_,[]);this.chain=t.reduceRight((t,e)=>new __(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(o_),r.Sb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),D_=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:P_,useClass:S_}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:x_,useValue:e.cookieName}:[],e.headerName?{provide:A_,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[P_,{provide:O_,useExisting:P_,multi:!0},{provide:k_,useClass:j_},{provide:x_,useValue:"XSRF-TOKEN"},{provide:A_,useValue:"X-XSRF-TOKEN"}]}),t})(),R_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[w_,{provide:i_,useClass:N_},I_,{provide:o_,useExisting:I_},T_,{provide:E_,useExisting:T_}],imports:[[D_.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const M_={apiKey:"AIzaSyC2Htyn_aEeBkmoAIvFrSzFzzJE-aqq6ZA",authDomain:"nosir-8ae69.firebaseapp.com",projectId:"nosir-8ae69",storageBucket:"nosir-8ae69.appspot.com",messagingSenderId:"967637510553",appId:"1:967637510553:web:d09bbf20408f740a640b08",measurementId:"G-D9JJRKWDEZ"};let L_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[r_]}),t.\u0275inj=r.Jb({providers:[],imports:[[gt,gi,R_,$w,Ww,Ii.a.initializeApp(M_),kb]]}),t})();Object(r.T)(),dt().bootstrapModule(L_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);