!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return u(t)}(t)||o(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,_(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=w()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=w();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];a===this.normalizeInstanceIdentifier(l[0])&&h.resolve(s)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(s,a),s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.has(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=Object(r.g)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return f(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;f(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return f(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var a;switch(f(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(b(a))):(a.syncErrorThrowable=!0,a.destination=new l(b(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(b(a),t,r,o)}return a}return p(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,h(_(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,a,s){var u,c;f(this,n),(u=e.call(this))._parentSubscriber=t;var l=b(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(b(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r,i=n("XNiG"),o=n("HDdC"),a=(n("7o/Q"),n("quSY")),s=n("x+ZX"),u=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(o.a),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),h(_(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),h(_(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){f(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?u.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;f(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return f(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==b(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):h(_(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.6.7","app"),r.a.SDK_VERSION="8.6.7"},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return f(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return h(_(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return cn}),r.d(n,"b",function(){return su}),r.d(n,"c",function(){return nu}),r.d(n,"d",function(){return tu}),r.d(n,"e",function(){return eu}),r.d(n,"f",function(){return tc}),r.d(n,"g",function(){return zu}),r.d(n,"h",function(){return ls}),r.d(n,"i",function(){return mu}),r.d(n,"j",function(){return Da}),r.d(n,"k",function(){return lu}),r.d(n,"l",function(){return Va}),r.d(n,"m",function(){return wr}),r.d(n,"n",function(){return Ls}),r.d(n,"o",function(){return no}),r.d(n,"p",function(){return In}),r.d(n,"q",function(){return z}),r.d(n,"r",function(){return un}),r.d(n,"s",function(){return mo}),r.d(n,"t",function(){return rs}),r.d(n,"u",function(){return os}),r.d(n,"v",function(){return cu}),r.d(n,"w",function(){return ws}),r.d(n,"x",function(){return Ku}),r.d(n,"y",function(){return bs}),r.d(n,"z",function(){return Vu}),r.d(n,"A",function(){return _u}),r.d(n,"B",function(){return An}),r.d(n,"C",function(){return au}),r.d(n,"D",function(){return ou}),r.d(n,"E",function(){return qa}),r.d(n,"F",function(){return Ua}),r.d(n,"G",function(){return Cr}),r.d(n,"H",function(){return Ha}),r.d(n,"I",function(){return vr}),r.d(n,"J",function(){return xn}),r.d(n,"K",function(){return Yu}),r.d(n,"L",function(){return ys}),r.d(n,"M",function(){return Iu}),r.d(n,"N",function(){return ln}),r.d(n,"O",function(){return Ga}),r.d(n,"P",function(){return za}),r.d(n,"Q",function(){return ks}),r.d(n,"R",function(){return Y}),r.d(n,"S",function(){return Fu}),r.d(n,"T",function(){return Mu}),r.d(n,"U",function(){return T}),r.d(n,"V",function(){return Ru}),r.d(n,"W",function(){return Zu}),r.d(n,"X",function(){return xu}),r.d(n,"Y",function(){return uu}),r.d(n,"Z",function(){return io}),r.d(n,"ab",function(){return ka}),r.d(n,"bb",function(){return x}),r.d(n,"cb",function(){return dr}),r.d(n,"db",function(){return Xn}),r.d(n,"eb",function(){return Fn}),r.d(n,"fb",function(){return qn}),r.d(n,"gb",function(){return Gn}),r.d(n,"hb",function(){return Hn}),r.d(n,"ib",function(){return Bn}),r.d(n,"jb",function(){return zn}),r.d(n,"kb",function(){return ma}),r.d(n,"lb",function(){return Ju}),r.d(n,"mb",function(){return ba}),r.d(n,"nb",function(){return wa}),r.d(n,"ob",function(){return Un}),r.d(n,"pb",function(){return tt}),r.d(n,"qb",function(){return To}),r.d(n,"rb",function(){return qo}),r.d(n,"sb",function(){return Fo}),r.d(n,"tb",function(){return Uo}),r.d(n,"ub",function(){return ga}),r.d(n,"vb",function(){return Lt}),r.d(n,"wb",function(){return S}),r.d(n,"xb",function(){return Vn}),r.d(n,"yb",function(){return wo}),r.d(n,"zb",function(){return Pt}),r.d(n,"Ab",function(){return ja}),r.d(n,"Bb",function(){return si}),r.d(n,"Cb",function(){return xo}),r.d(n,"Db",function(){return ta}),r.d(n,"Eb",function(){return $o}),r.d(n,"Fb",function(){return Xs}),r.d(n,"Gb",function(){return ft}),r.d(n,"Hb",function(){return bt}),r.d(n,"Ib",function(){return D}),r.d(n,"Jb",function(){return R}),r.d(n,"Kb",function(){return yt}),r.d(n,"Lb",function(){return wt}),r.d(n,"Mb",function(){return No}),r.d(n,"Nb",function(){return Vo}),r.d(n,"Ob",function(){return Lo}),r.d(n,"Pb",function(){return Mo}),r.d(n,"Qb",function(){return rn}),r.d(n,"Rb",function(){return da}),r.d(n,"Sb",function(){return Sn}),r.d(n,"Tb",function(){return an}),r.d(n,"Ub",function(){return $s}),r.d(n,"Vb",function(){return Bo}),r.d(n,"Wb",function(){return Js}),r.d(n,"Xb",function(){return Do}),r.d(n,"Yb",function(){return Go}),r.d(n,"Zb",function(){return Ys}),r.d(n,"ac",function(){return Or}),r.d(n,"bc",function(){return yr}),r.d(n,"cc",function(){return gt}),r.d(n,"dc",function(){return Po}),r.d(n,"ec",function(){return la}),r.d(n,"fc",function(){return ha}),r.d(n,"gc",function(){return fa});var o=r("XNiG"),s=r("quSY"),u=r("HDdC"),d=r("VRyK"),y=r("EQ5u"),m=r("x+ZX");function w(){return new o.a}function k(t){for(var e in t)if(t[e]===k)return e;throw Error("Could not find renamed property on target object.")}function O(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(S).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function C(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var E=k({__forward_ref__:k});function T(t){return t.__forward_ref__=T,t.toString=function(){return S(this())},t}function I(t){return A(t)?t():t}function A(t){return"function"==typeof t&&t.hasOwnProperty(E)&&t.__forward_ref__===T}var x=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function j(t){return"string"==typeof t?t:null==t?"":String(t)}function P(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():j(t)}function N(t,e){var n=e?" in ".concat(e):"";throw new x("201","No provider for ".concat(P(t)," found").concat(n))}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function R(t){return{providers:t.providers||[],imports:t.imports||[]}}function M(t){return L(t,U)||L(t,B)}function L(t,e){return t.hasOwnProperty(e)?t[e]:null}function V(t){return t&&(t.hasOwnProperty(q)||t.hasOwnProperty(H))?t[q]:null}var F,U=k({"\u0275prov":k}),q=k({"\u0275inj":k}),B=k({ngInjectableDef:k}),H=k({ngInjectorDef:k}),z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function G(t){var e=F;return F=t,e}function K(t,e,n){var r=M(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void N(S(t),"Injector")}function W(t){return{toString:t}.toString()}var Q=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Y=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),X="undefined"!=typeof globalThis&&globalThis,J="undefined"!=typeof window&&window,Z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,tt=X||$||J||Z,et={},nt=[],rt=[],it=k({"\u0275cmp":k}),ot=k({"\u0275dir":k}),at=k({"\u0275pipe":k}),st=k({"\u0275mod":k}),ut=k({"\u0275loc":k}),ct=k({"\u0275fac":k}),lt=k({__NG_ELEMENT_ID__:k}),ht=0;function ft(t){return W(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Q.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||rt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Y.Emulated,id:"c",styles:t.styles||rt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ht++,n.inputs=mt(t.inputs,e),n.outputs=mt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(dt)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(pt)}:null,n})}function dt(t){return _t(t)||function(t){return t[ot]||null}(t)}function pt(t){return function(t){return t[at]||null}(t)}var vt={};function yt(t){var e={type:t.type,bootstrap:t.bootstrap||rt,declarations:t.declarations||rt,imports:t.imports||rt,exports:t.exports||rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&W(function(){vt[t.id]=t.type}),e}function gt(t,e){return W(function(){var n=kt(t,!0);n.declarations=e.declarations||rt,n.imports=e.imports||rt,n.exports=e.exports||rt})}function mt(t,e){if(null==t)return et;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var bt=ft;function wt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function _t(t){return t[it]||null}function kt(t,e){var n=t[st]||null;if(!n&&!0===e)throw new Error("Type ".concat(S(t)," does not have '\u0275mod' property."));return n}function Ot(t){return Array.isArray(t)&&"object"==typeof t[1]}function St(t){return Array.isArray(t)&&!0===t[1]}function Ct(t){return 0!=(8&t.flags)}function Et(t){return 2==(2&t.flags)}function Tt(t){return 1==(1&t.flags)}function It(t){return null!==t.template}function At(t,e){return t.hasOwnProperty(ct)?t[ct]:null}var xt,jt=function(){function t(e,n,r){f(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Pt(){return Nt}function Nt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Rt),Dt}function Dt(){var t=Mt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===et)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Rt(t,e,n,r){var i=Mt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:et,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new jt(u&&u.currentValue,e,a===et),t[r]=e}function Mt(t){return t.__ngSimpleChanges__||null}function Lt(t){xt=t}function Vt(t){return!!t.listen}Pt.ngInherit=!0;var Ft={createRenderer:function(t,e){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}};function Ut(t){for(;Array.isArray(t);)t=t[0];return t}function qt(t,e){return Ut(e[t])}function Bt(t,e){return Ut(e[t.index])}function Ht(t,e){return t.data[e]}function zt(t,e){var n=e[t];return Ot(n)?n:n[0]}function Gt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Kt(t){return 4==(4&t[2])}function Wt(t){return 128==(128&t[2])}function Qt(t,e){return null==e?null:t[e]}function Yt(t){t[18]=0}function Xt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Jt={lFrame:ye(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Zt(){return Jt.bindingsEnabled}function $t(){return Jt.lFrame.lView}function te(){return Jt.lFrame.tView}function ee(){for(var t=ne();null!==t&&64===t.type;)t=t.parent;return t}function ne(){return Jt.lFrame.currentTNode}function re(t,e){var n=Jt.lFrame;n.currentTNode=t,n.isParent=e}function ie(){return Jt.lFrame.isParent}function oe(){return Jt.isInCheckNoChangesMode}function ae(t){Jt.isInCheckNoChangesMode=t}function se(){return Jt.lFrame.bindingIndex++}function ue(t){var e=Jt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ce(t){Jt.lFrame.currentDirectiveIndex=t}function le(){return Jt.lFrame.currentQueryIndex}function he(t){Jt.lFrame.currentQueryIndex=t}function fe(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&z.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&z.Host||(r=fe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Jt.lFrame=ve();return o.currentTNode=e,o.lView=t,!0}function pe(t){var e=ve(),n=t[1];Jt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ve(){var t=Jt.lFrame,e=null===t?null:t.child;return null===e?ye(t):e}function ye(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){var t=Jt.lFrame;return Jt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var me=ge;function be(){var t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function we(){return Jt.lFrame.selectedIndex}function _e(t){Jt.lFrame.selectedIndex=t}function ke(){var t=Jt.lFrame;return Ht(t.tView,t.selectedIndex)}function Oe(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Se(t,e,n){Te(t,e,3,n)}function Ce(t,e,n,r){(3&t[2])===n&&Te(t,e,n,r)}function Ee(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Te(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(Ie(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ie(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Ae=function t(e,n,r){f(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function xe(t,e,n){for(var r=Vt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Pe(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function je(t){return 3===t||4===t||6===t}function Pe(t){return 64===t.charCodeAt(0)}function Ne(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||De(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function De(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Re(t){return-1!==t}function Me(t){return 32767&t}function Le(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var Ve=!0;function Fe(t){var e=Ve;return Ve=t,e}var Ue=0;function qe(t,e){var n=He(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Be(r.data,t),Be(e,null),Be(r.blueprint,null));var i=ze(t,e),o=t.injectorIndex;if(Re(i))for(var a=Me(i),s=Le(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Be(t,e){t.push(0,0,0,0,0,0,0,0,e)}function He(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ge(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(lt)&&(r=n[lt]),null==r&&(r=n[lt]=Ue++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ke(t,e,n){if(n&z.Optional)return t;N(e,"NodeInjector")}function We(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),0==(n&(z.Self|z.Host))){var i=t[9],o=G(void 0);try{return i?i.get(e,r,n&z.Optional):K(e,r,n&z.Optional)}finally{G(o)}}return Ke(r,e,n)}function Qe(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(lt)?t[lt]:void 0;return"number"==typeof e?e>=0?255&e:Xe:e}(n);if("function"==typeof o){if(!de(e,t,r))return r&z.Host?Ke(i,n,r):We(e,n,r,i);try{var a=o();if(null!=a||r&z.Optional)return a;N(n)}finally{me()}}else if("number"==typeof o){var s=null,u=He(t,e),c=-1,l=r&z.Host?e[16][6]:null;for((-1===u||r&z.SkipSelf)&&(-1!==(c=-1===u?ze(t,e):e[u+8])&&en(r,!1)?(s=e[1],u=Me(c),e=Le(c,e)):u=-1);-1!==u;){var h=e[1];if(tn(o,u,h.data)){var f=Je(u,e,n,s,r,l);if(f!==Ye)return f}-1!==(c=e[u+8])&&en(r,e[1].data[u+8]===l)&&tn(o,u,e)?(s=h,u=Me(c),e=Le(c,e)):u=-1}}}return We(e,n,r,i)}var Ye={};function Xe(){return new nn(ee(),$t())}function Je(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=Ze(s,a,n,null==r?Et(s)&&Ve:r!=a&&0!=(3&s.type),i&z.Host&&o===s);return null!==u?$e(e,a,u,s):Ye}function Ze(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&It(d)&&d.type===n)return u}return null}function $e(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Ae){var a=i;a.resolving&&function(t,e){throw new x("200","Circular dependency in DI detected for ".concat(t))}(P(o[n]));var s=Fe(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?G(a.injectImpl):null;de(t,r,z.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Nt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&G(u),Fe(s),a.resolving=!1,me()}}return i}function tn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function en(t,e){return!(t&z.Self||t&z.Host&&e)}var nn=function(){function t(e,n){f(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return Qe(this._tNode,this._lView,t,void 0,e)}}]),t}();function rn(t){return W(function(){for(var e=t.prototype.constructor,n=e[ct]||on(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[ct]||on(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function on(t){return A(t)?function(){var e=on(I(t));return e&&e()}:At(t)}function an(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(je(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ee(),t)}function sn(t,e,n){return W(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var un=function(){function t(e,n){f(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),cn=new un("AnalyzeForEntryComponents"),ln=Function;function hn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),hn(r,e)):e!==t&&e.push(r)}return e}function fn(t,e){t.forEach(function(t){return Array.isArray(t)?fn(t,e):e(t)})}function dn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vn(t,e,n){var r=gn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function yn(t,e){var n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var mn,bn={},wn=/\n/gm,_n=k({provide:String,useValue:k});function kn(t){var e=mn;return mn=t,e}function On(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.Default;if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?K(t,void 0,e):mn.get(t,e&z.Optional?null:void 0,e)}function Sn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.Default;return(F||On)(I(t),e)}function Cn(t){for(var e=[],n=0;n<t.length;n++){var r=I(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=z.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(Sn(i,o))}else e.push(Sn(r))}return e}function En(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Tn,In=En(sn("Inject",function(t){return{token:t}}),-1),An=En(sn("Optional"),8),xn=En(sn("SkipSelf"),4);function jn(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,tt.trustedTypes))try{Tn=tt.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}var Pn=function(){function t(e){f(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Nn=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Pn),Dn=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Pn),Rn=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Pn),Mn=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Pn),Ln=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Pn);function Vn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){var n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Un(t){return t instanceof Pn&&t.getTypeName()||null}function qn(t){return new Nn(t)}function Bn(t){return new Dn(t)}function Hn(t){return new Rn(t)}function zn(t){return new Mn(t)}function Gn(t){return new Ln(t)}var Kn=function(){function t(e){f(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(jn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),Wn=function(){function t(e){if(f(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=jn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Qn)||t.match(Yn)?t:"unsafe:"+t}function Jn(t){var e,n={},r=a(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Zn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var $n,tr=Jn("area,br,col,hr,img,wbr"),er=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nr=Jn("rp,rt"),rr=Zn(nr,er),ir=Zn(tr,Zn(er,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(nr,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rr),or=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=Jn("srcset"),sr=Zn(or,ar,Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ur=Jn("script,style,template"),cr=function(){function t(){f(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ir.hasOwnProperty(e))return this.sanitizedSomething=!0,!ur.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(sr.hasOwnProperty(s)){var u=o.value;or[s]&&(u=Xn(u)),ar[s]&&(n=u,u=(n=String(n)).split(",").map(function(t){return Xn(t.trim())}).join(", ")),this.buf.push(" ",a,'="',fr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ir.hasOwnProperty(e)&&!tr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(fr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hr=/([^\#-~ |!])/g;function fr(t){return t.replace(/&/g,"&amp;").replace(lr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(hr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dr(t,e){var n=null;try{$n=$n||function(t){var e=new Wn(t);return function(){try{return!!(new window.DOMParser).parseFromString(jn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);var r=e?String(e):"";n=$n.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=$n.getInertBodyElement(r)}while(r!==o);return jn((new cr).sanitizeChildren(pr(n)||n))}finally{if(n)for(var a=pr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function yr(t){var e,n=(e=$t())&&e[12];return n?n.sanitize(vr.URL,t)||"":Fn(t,"URL")?Vn(t):Xn(j(t))}function gr(t){return t.ngDebugContext}function mr(t){return t.ngOriginalError}function br(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var wr=function(){function t(){f(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||br}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?gr(t)?gr(t):this._findContext(mr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=mr(t);e&&mr(e);)e=mr(e);return e}}]),t}();function _r(t,e){t.__ngContext__=e}var kr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(tt);function Or(t){return{name:"window",target:t.ownerDocument.defaultView}}function Sr(t){return t instanceof Function?t():t}var Cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Er(t,e){return(void 0)(t,e)}function Tr(t){var e=t[3];return St(e)?e[3]:e}function Ir(t){return xr(t[13])}function Ar(t){return xr(t[4])}function xr(t){for(;null!==t&&!St(t);)t=t[4];return t}function jr(t,e,n,r,i){if(null!=r){var o,a=!1;St(r)?o=r:Ot(r)&&(a=!0,r=r[0]);var s=Ut(r);0===t&&null!==n?null==i?Vr(e,n,s):Lr(e,n,s,i||null,!0):1===t&&null!==n?Lr(e,n,s,i||null,!0):2===t?function(t,e,n){var r=Ur(t,e);r&&function(t,e,n,r){Vt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ut(n)&&jr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Kr(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Pr(t,e,n){return Vt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Xt(i,-1)),n.splice(r,1)}function Dr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Nr(o,i),e>0&&(t[r-1][4]=i[4]);var a=pn(t,10+e);Kr(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Rr(t,e){if(!(256&e[2])){var n=e[11];Vt(n)&&n.destroyNode&&Kr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Mr(t[1],t);for(;e;){var n=null;if(Ot(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ot(e)&&Mr(e[1],e),e=e[3];null===e&&(e=t),Ot(e)&&Mr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Mr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Ae)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Ut(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Vt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&St(e[3])){n!==e[3]&&Nr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Lr(t,e,n,r,i){Vt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Vr(t,e,n){Vt(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Lr(t,e,n,r,i):Vr(t,e,n)}function Ur(t,e){return Vt(t)?t.parentNode(e):e.parentNode}function qr(t,e,n,r){var i=function(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Y.None||i===Y.Emulated)return null}return Bt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],a=function(t,e,n){return function(t,e,n){return 40&t.type?Bt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)Fr(o,i,n[s],a,!1);else Fr(o,i,n,a,!1)}function Br(t,e){if(null!==e){var n=e.type;if(3&n)return Bt(e,t);if(4&n)return zr(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return Br(t,r);var i=t[e.index];return St(i)?zr(-1,i):Ut(i)}if(32&n)return Er(e,t)()||Ut(t[e.index]);var o=Hr(t,e);return null!==o?Array.isArray(o)?o[0]:Br(Tr(t[16]),o):Br(t,e.next)}return null}function Hr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function zr(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return Br(r,i)}return e[7]}function Gr(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&_r(Ut(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)Gr(t,e,n.child,r,i,o,!1),jr(e,t,i,s,o);else if(32&u){for(var c=Er(n,r),l=void 0;l=c();)jr(e,t,i,l,o);jr(e,t,i,s,o)}else 16&u?Wr(t,e,r,n,i,o):jr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function Kr(t,e,n,r,i,o){Gr(n,r,t.firstChild,e,i,o,!1)}function Wr(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)jr(e,t,i,s[u],o);else Gr(t,e,s,a[3],i,o,!0)}function Qr(t,e,n){Vt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yr(t,e,n){Vt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Xr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Jr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==Xr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Zr(t){return 4===t.type&&"ng-template"!==t.value}function $r(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ti(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!$r(t,u,n)||""===u&&1===e.length){if(ei(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!Jr(t.attrs,c,n)){if(ei(r))return!1;a=!0}continue}var l=ni(8&r?"class":u,i,Zr(t),n);if(-1===l){if(ei(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Xr(f,c,0)||2&r&&c!==h){if(ei(r))return!1;a=!0}}}}else{if(!a&&!ei(r)&&!ei(u))return!1;if(a&&ei(u))continue;a=!1,r=u|1&r}}return ei(r)||a}function ei(t){return 0==(1&t)}function ni(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ri(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(ti(t,e[r],n))return!0;return!1}function ii(t,e){return t?":not("+e.trim()+")":e}function oi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||ei(a)||(e+=ii(o,i),i=""),r=a,o=o||!ei(r);n++}return""!==i&&(e+=ii(o,i)),e}var ai={};function si(t){ui(te(),$t(),we()+t,oe())}function ui(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Se(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Ce(e,o,0,n)}_e(n)}function ci(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function hi(t){return 2|t}function fi(t){return(131068&t)>>2}function di(t,e){return-131069&t|e<<2}function pi(t){return 1|t}function vi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];he(i),a.contentQueries(2,e[o],o)}}}function yi(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Yt(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function gi(t,e,n,r,i){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,r,i){var o=ne(),a=ie(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),Jt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(o=Jt.lFrame,a=o.currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return re(s,!0),s}function mi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bi(t,e,n){pe(e);try{var r=t.viewQuery;null!==r&&Qi(1,r,n);var i=t.template;null!==i&&ki(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vi(t,e),t.staticViewQueries&&Qi(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Hi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,be()}}function wi(t,e,n,r){var i=e[2];if(256!=(256&i)){pe(e);var o=oe();try{Yt(e),Jt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ki(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Se(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Ce(e,u,0,null),Ee(e,0)}if(function(t){for(var e=Ir(t);null!==e;e=Ar(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Xt(o,1),i[2]|=1024}}(e),function(t){for(var e=Ir(t);null!==e;e=Ar(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Wt(r)&&wi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&vi(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Se(e,c)}else{var l=t.contentHooks;null!==l&&Ce(e,l,1),Ee(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)_e(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Jt.lFrame).bindingIndex=i.bindingRootIndex=n,ce(r),l(2,e[u])}}}finally{_e(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)qi(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Qi(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Se(e,d)}else{var p=t.viewHooks;null!==p&&Ce(e,p,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xt(e[3],-1))}finally{be()}}}function _i(t,e,n,r){var i=e[10],o=!oe(),a=Kt(e);try{o&&!a&&i.begin&&i.begin(),a&&bi(t,e,r),wi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function ki(t,e,n,r,i){var o=we(),a=2&r;try{_e(-1),a&&e.length>20&&ui(t,e,20,oe()),n(r,i)}finally{_e(o)}}function Oi(t,e,n){Zt()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||qe(n,e),_r(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=It(u);c&&Li(e,n,u);var l=$e(e,t,s,n);_r(l,e),null!==a&&Vi(0,s-i,l,u,0,a),c&&(zt(n.index,e)[8]=l)}}(t,e,n,Bt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Jt.lFrame.currentDirectiveIndex;try{_e(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];ce(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Pi(u,c)}}finally{_e(-1),ce(a)}}(t,e,n))}function Si(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Ci(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ei(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ei(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:ai);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ti(t,e,n,r){var i=Xi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ji(t).push(r,i.length-1))}function Ii(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,o,a,s){var u,c,l=Bt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?($i(t,n,u,r,i),Et(e)&&function(t,e){var n=zt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Vt(o)?o.setProperty(l,r,i):Pe(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function xi(t,e,n,r){var i=!1;if(Zt()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ri(n,a.selectors,!1)&&(i||(i=[]),Ge(qe(n,e),t,a.type),It(a)?(Ni(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,Ri(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=mi(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Ne(n.mergedAttrs,d.hostAttrs),Mi(t,n,e,h,d),Di(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Zr(e)?null:Fi(l,i);o.push(h),a=Ii(l,u,a),s=Ii(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new x("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Ne(n.mergedAttrs,n.attrs),i}function ji(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function Pi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Di(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;It(e)&&(n[""]=t)}}function Ri(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Mi(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=At(i.type)),a=new Ae(o,It(i),null);t.blueprint[r]=a,n[r]=a,ji(t,e,0,r,mi(t,n,i.hostVars,ai),i)}function Li(t,e,n){var r=Bt(e,t),i=Ci(n),o=t[10],a=zi(t,yi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function Vi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Fi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function qi(t,e){var n=zt(e,t);if(Wt(n)){var r=n[1];80&n[2]?wi(r,n,r.template,n[8]):n[5]>0&&Bi(n)}}function Bi(t){for(var e=Ir(t);null!==e;e=Ar(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];wi(i,r,i.template,r[8])}else r[5]>0&&Bi(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=zt(o[a],t);Wt(s)&&s[5]>0&&Bi(s)}}function Hi(t,e){var n=zt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),bi(r,n,n[8])}function zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Gi(t){for(;t;){t[2]|=64;var e=Tr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ki(t,e,n){var r=e[10];r.begin&&r.begin();try{wi(t,e,t.template,n)}catch(i){throw Zi(e,i),i}finally{r.end&&r.end()}}function Wi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Gt(n),i=r[1];_i(i,r,i.template,n)}}(t[8])}function Qi(t,e,n){he(0),e(t,n)}var Yi=Promise.resolve(null);function Xi(t){return t[7]||(t[7]=[])}function Ji(t){return t.cleanup||(t.cleanup=[])}function Zi(t,e){var n=t[9],r=n?n.get(wr,null):null;r&&r.handleError(e)}function $i(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function to(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=C(i,s):2==o&&(r=C(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var eo,no=new un("INJECTOR",-1),ro=function(){function t(){f(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn;if(e===bn){var n=new Error("NullInjectorError: No provider for ".concat(S(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),io=new un("Set Injector scope."),oo={},ao={},so=[];function uo(){return void 0===eo&&(eo=new ro),eo}function co(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new lo(t,n,e||uo(),r)}var lo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&fn(n,function(t){return i.processProvider(t,e,n)}),fn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(no,po(void 0,this));var s=this.records.get(io);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:S(e))}return p(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Default;this.assertNotDestroyed();var r,i=kn(this);try{if(!(n&z.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof un)&&M(t);o=a&&this.injectableDefInScope(a)?po(ho(t),oo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&z.Self?uo():this.parent).get(t,e=n&z.Optional&&e===bn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(S(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=S(e);if(Array.isArray(e))i=e.map(S).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):S(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(wn,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{kn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(S(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=I(t)))return!1;var i=V(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=V(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{fn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;fn(i,function(t){return r.processProvider(t,n,i||so)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=At(a)||function(){return new a};this.records.set(a,po(h,oo));var f=i.providers;if(null!=f&&!s){var d=t;fn(f,function(t){return r.processProvider(t,d,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=yo(t=I(t))?t:I(t&&t.provide),i=function(t,e,n){return vo(t)?po(void 0,t.useValue):po(fo(t),oo)}(t);if(yo(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=po(void 0,oo,!0)).factory=function(){return Cn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===oo&&(e.value=ao,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function ho(t){var e=M(t),n=null!==e?e.factory:At(t);if(null!==n)return n;if(t instanceof un)throw new Error("Token ".concat(S(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(S(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[U]||t[B]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function fo(t,e,n){var r,o;if(yo(t)){var a=I(t);return At(a)||ho(a)}if(vo(t))r=function(){return I(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(Cn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Sn(I(t.useExisting))};else{var s=I(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return At(s)||ho(s);r=function(){return l(s,i(Cn(t.deps)))}}return r}function po(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function vo(t){return null!==t&&"object"==typeof t&&_n in t}function yo(t){return"function"==typeof t}var go=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},mo=function(){var t=function(){function t(){f(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?go(t,e,""):go(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=bn,t.NULL=new ro,t.\u0275prov=D({token:t,providedIn:"any",factory:function(){return Sn(no)}}),t.__NG_ELEMENT_ID__=-1,t}();function bo(t,e){Oe(Gt(t)[1],ee())}function wo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(It(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=_o(t.inputs),o.declaredInputs=_o(t.declaredInputs),o.outputs=_o(t.outputs);var a=i.hostBindings;a&&So(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&ko(t,s),u&&Oo(t,u),O(t.inputs,i.inputs),O(t.declaredInputs,i.declaredInputs),O(t.outputs,i.outputs),It(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===wo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ne(i.hostAttrs,n=Ne(n,i.hostAttrs))}}(r)}function _o(t){return t===et?{}:t===rt?[]:t}function ko(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Oo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function So(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Co=null;function Eo(){if(!Co){var t=tt.Symbol;if(t&&t.iterator)Co=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Co=r)}}return Co}function To(t){return!!Io(t)&&(Array.isArray(t)||!(t instanceof Map)&&Eo()in t)}function Io(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ao(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function xo(t,e,n,r){var i=$t();return Ao(i,se(),e)&&(te(),function(t,e,n,r,i,o){var a=Bt(t,e);!function(t,e,n,r,i,o,a){if(null==o)Vt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?j(o):a(o,r||"",i);Vt(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],a,o,t.value,n,r,i)}(ke(),i,t,e,n,r)),xo}function jo(t,e,n,r){return Ao(t,se(),n)?e+j(n)+r:ai}function Po(t,e,n,r,i,o,a,s){var u=$t(),c=te(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=gi(e,t,4,a||null,Qt(c,s));xi(e,n,l,Qt(c,u)),Oe(e,l);var h=l.tViews=Ei(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];re(h,!1);var f=u[11].createComment("");qr(c,u,f,h),_r(f,u),zi(u,u[l]=Ui(f,u,f,h)),Tt(h)&&Oi(c,u,h),null!=a&&Si(u,h,s)}function No(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.Default,n=$t();return null===n?Sn(t,e):Qe(ee(),n,I(t),e)}function Do(t,e,n){var r=$t();return Ao(r,se(),e)&&Ai(te(),ke(),r,t,e,r[11],n,!1),Do}function Ro(t,e,n,r,i){var o=i?"class":"style";$i(t,n,e.inputs[o],o,r)}function Mo(t,e,n,r){var i=$t(),o=te(),a=20+t,s=i[11],u=i[a]=Pr(s,e,Jt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=gi(e,t,2,i,Qt(s,o));return xi(e,n,u,Qt(s,a)),null!==u.attrs&&to(u,u.attrs,!1),null!==u.mergedAttrs&&to(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];re(c,!0);var l=c.mergedAttrs;null!==l&&xe(s,u,l);var h=c.classes;null!==h&&Yr(s,u,h);var f=c.styles;null!==f&&Qr(s,u,f),64!=(64&c.flags)&&qr(o,i,u,c),0===Jt.lFrame.elementDepthCount&&_r(u,i),Jt.lFrame.elementDepthCount++,Tt(c)&&(Oi(o,i,c),function(t,e,n){if(Ct(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Si(i,c)}function Lo(){var t=ee();ie()?Jt.lFrame.isParent=!1:re(t=t.parent,!1);var e=t;Jt.lFrame.elementDepthCount--;var n=te();n.firstCreatePass&&(Oe(n,t),Ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ro(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ro(n,e,$t(),e.stylesWithoutHost,!1)}function Vo(t,e,n,r){Mo(t,e,n,r),Lo()}function Fo(t){return!!t&&"function"==typeof t.then}function Uo(t){return!!t&&"function"==typeof t.subscribe}var qo=Uo;function Bo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=$t(),o=te(),a=ee();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Tt(r),c=t.firstCreatePass&&Ji(t),l=Xi(e),h=!0;if(3&r.type){var f=Bt(r,e),d=s?s(f):et,p=d.target||f,v=l.length,y=s?function(t){return s(Ut(t[r.index])).target}:r.index;if(Vt(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=zo(r,e,0,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=zo(r,e,0,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}else o=zo(r,e,0,o,!1);var b,w=r.outputs;if(h&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var k=0;k<_;k+=2){var O=e[b[k]][b[k+1]].subscribe(o),S=l.length;l.push(o,O),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],a,t,e,n,r),Bo}function Ho(t,e,n,r){try{return!1!==n(r)}catch(i){return Zi(t,i),!1}}function zo(t,e,n,r,i){return function n(o){if(o===Function)return r;var a=2&t.flags?zt(t.index,e):e;0==(32&e[2])&&Gi(a);for(var s=Ho(e,0,r,o),u=n.__ngNextListenerFn__;u;)s=Ho(e,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Go(t,e,n){return Ko(t,"",e,"",n),Go}function Ko(t,e,n,r,i){var o=$t(),a=jo(o,e,n,r);return a!==ai&&Ai(te(),ke(),o,t,a,o[11],i,!1),Ko}function Wo(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?li(o):fi(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Qo(t[s],e)&&(u=!0,t[s+1]=r?pi(c):hi(c)),s=r?li(c):fi(c)}u&&(t[n+1]=r?hi(o):pi(o))}function Qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}var Yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xo(t){return t.substring(Yo.key,Yo.keyEnd)}function Jo(t,e){var n=Yo.textEnd;return n===e?-1:(e=Yo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Yo.key=e,n),Zo(t,e,n))}function Zo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function $o(t,e){return function(t,e,n,r){var i=$t(),o=te(),a=ue(2);o.firstUpdatePass&&ra(o,t,a,!0),e!==ai&&Ao(i,a,e)&&aa(o,o.data[we()],i,i[11],t,i[a+1]=function(t,e){return null==t||"object"==typeof t&&(t=S(Vn(t))),t}(e),!0,a)}(t,e),$o}function ta(t){!function(t,e,n,r){var i=te(),o=ue(2);i.firstUpdatePass&&ra(i,null,o,!0);var a=$t();if(n!==ai&&Ao(a,o,n)){var s=i.data[we()];if(ca(s,!0)&&!na(i,o)){var u=s.classesWithoutHost;null!==u&&(n=C(u,n||"")),Ro(i,s,a,n,!0)}else!function(t,e,n,r,i,o,a,s){i===ai&&(i=nt);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===h?(u+=2,c+=2,f!==d&&(v=h,p=d)):null===h||null!==l&&l<h?(u+=2,v=l):(c+=2,v=h,p=d),null!==v&&aa(t,e,n,r,v,p,!0,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return nt;var r=[],i=Vn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(vn,ea,t)}function ea(t,e){for(var n=function(t){return function(t){Yo.key=0,Yo.keyEnd=0,Yo.value=0,Yo.valueEnd=0,Yo.textEnd=t.length}(t),Jo(t,Zo(t,0,Yo.textEnd))}(e);n>=0;n=Jo(e,n))vn(t,Xo(e),!0)}function na(t,e){return e>=t.expandoStartIndex}function ra(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[we()],a=na(t,n);ca(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Jt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=oa(n=ia(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=ia(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==fi(r))return t[li(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[li(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=oa(s=ia(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=oa(r,t[o].hostAttrs,n);return oa(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=li(a),u=fi(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||gn(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=li(t[s+1]);t[r+1]=ci(f,s),0!==f&&(t[f+1]=di(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=ci(s,0),0!==s&&(t[s+1]=di(t[s+1],r)),s=r;else t[r+1]=ci(u,0),0===s?s=r:t[u+1]=di(t[u+1],r),u=r;l&&(t[r+1]=hi(t[r+1])),Wo(t,c,r,!0),Wo(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&gn(o,e)>=0&&(n[r+1]=pi(n[r+1]))}(e,c,t,r,o),a=ci(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function ia(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=oa(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function oa(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,a,!!n||e[++o]))}return void 0===t?null:t}function aa(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];ua(1==(1&c)?sa(u,e,n,i,fi(c),a):void 0)||(ua(o)||2==(2&c)&&(o=sa(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Vt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Cr.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Cr.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,qt(we(),n),i,o))}}function sa(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===ai&&(f=h?nt:void 0);var d=h?yn(f,r):l===r?f:void 0;if(c&&!ua(d)&&(d=yn(u,r)),ua(d)&&(a=d,s))return a;var p=t[i+1];i=s?li(p):fi(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=yn(v,r))}return a}function ua(t){return void 0!==t}function ca(t,e){return 0!=(t.flags&(e?16:32))}function la(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$t(),r=te(),i=t+20,o=r.firstCreatePass?gi(r,i,1,e,null):r.data[i],a=n[i]=function(t,e){return Vt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);qr(r,n,a,o),re(o,!1)}function ha(t){return fa("",t,""),ha}function fa(t,e,n){var r=$t(),i=jo(r,t,e,n);return i!==ai&&function(t,e,n){var r=qt(e,t);!function(t,e,n){Vt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,we(),i),fa}function da(t,e,n){var r=$t();return Ao(r,se(),e)&&Ai(te(),ke(),r,t,e,r[11],n,!0),da}var pa=void 0,va=["en",[["a","p"],["AM","PM"],pa],[["AM","PM"],pa,pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pa,"{1} 'at' {0}",pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],ya={};function ga(t,e,n){"string"!=typeof e&&(n=e,e=t[ka.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ya[e]=t,n&&(ya[e][ka.ExtraData]=n)}function ma(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=_a(e);if(n)return n;var r=e.split("-")[0];if(n=_a(r))return n;if("en"===r)return va;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function ba(t){return ma(t)[ka.CurrencyCode]||null}function wa(t){return ma(t)[ka.PluralCase]}function _a(t){return t in ya||(ya[t]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[t]),ya[t]}var ka=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Oa(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function Sa(t,e,n,r,i){if(t=I(t),Array.isArray(t))for(var o=0;o<t.length;o++)Sa(t[o],e,n,r,i);else{var a=te(),s=$t(),u=yo(t)?t:I(t.provide),c=fo(t),l=ee(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(yo(t)||!t.multi){var p=new Ae(c,i,No),v=Ta(u,e,i?h:h+d,f);-1===v?(Ge(qe(l,s),a,u),Ca(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=Ta(u,e,h+d,f),g=Ta(u,e,h,h+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){Ge(qe(l,s),a,u);var w=function(t,e,n,r,i){var o=new Ae(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,Ea(o,i,r&&!n),o}(i?Aa:Ia,n.length,i,r,c);!i&&b&&(n[g].providerFactory=w),Ca(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),s.push(w)}else Ca(a,t,y>-1?y:g,Ea(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function Ca(t,e,n,r){var i=yo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Ea(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ta(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ia(t,e,n,r){return xa(this.multi,[])}function Aa(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=$e(n,n[1],this.providerFactory.index,r);xa(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else xa(o,i=[]);return i}function xa(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function ja(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=te();if(r.firstCreatePass){var i=It(t);Sa(n,r.data,r.blueprint,i,!0),Sa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Pa=function t(){f(this,t)},Na=function(){function t(){f(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(S(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Da=function(){var t=function t(){f(this,t)};return t.NULL=new Na,t}();function Ra(){}function Ma(t,e){return new Va(Bt(t,e))}var La=function(){return Ma(ee(),$t())},Va=function(){var t=function t(e){f(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=La,t}();function Fa(t){return t instanceof Va?t.nativeElement:t}var Ua=function t(){f(this,t)},qa=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ba()},t}(),Ba=function(){var t=$t(),e=zt(ee().index,t);return function(t){return t[11]}(Ot(e)?e:t)},Ha=function(){var t=function t(){f(this,t)};return t.\u0275prov=D({token:t,providedIn:"root",factory:function(){return null}}),t}(),za=function t(e){f(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Ga=new za("11.2.14"),Ka=function(){function t(){f(this,t)}return p(t,[{key:"supports",value:function(t){return To(t)}},{key:"create",value:function(t){return new Qa(t)}}]),t}(),Wa=function(t,e){return e},Qa=function(){function t(e){f(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Wa}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Za(n,r,i)?e:n,a=Za(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!To(t))throw new Error("Error trying to diff '".concat(S(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Eo()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ya(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ja),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ja),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Ya=function t(e,n){f(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Xa=function(){function t(){f(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ja=function(){function t(){f(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Xa,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Za(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var $a=function(){function t(){f(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||Io(t)}},{key:"create",value:function(){return new ts}}]),t}(),ts=function(){function t(){f(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Io(t)))throw new Error("Error trying to diff '".concat(S(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new es(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),es=function t(e){f(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function ns(){return new rs([new Ka])}var rs=function(){var t=function(){function t(e){f(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||ns())},deps:[[t,new xn,new An]]}}}]),t}();return t.\u0275prov=D({token:t,providedIn:"root",factory:ns}),t}();function is(){return new os([new $a])}var os=function(){var t=function(){function t(e){f(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||is())},deps:[[t,new xn,new An]]}}}]),t}();return t.\u0275prov=D({token:t,providedIn:"root",factory:is}),t}();function as(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(Ut(a)),St(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&as(u[1],u,c,r)}var l=n.type;if(8&l)as(t,e,n.child,r);else if(32&l)for(var h=Er(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=Hr(e,n);if(Array.isArray(d))r.push.apply(r,i(d));else{var p=Tr(e[16]);as(p[1],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}var ss=function(){function t(e,n){f(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return as(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(St(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Dr(t,n),pn(e,n))}this._attachedToViewContainer=!1}Rr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Ti(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Gi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ki(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ae(!0);try{Ki(t,e,n)}finally{ae(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Kr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),us=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){Wi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ae(!0);try{Wi(t)}finally{ae(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ss),cs=hs,ls=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=cs,t.__ChangeDetectorRef__=!0,t}();function hs(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Et(t)){var r=zt(t.index,e);return new ss(r,r)}return 47&t.type?new ss(e[16],e):null}(ee(),$t(),t)}var fs=[new $a],ds=new rs([new Ka]),ps=new os(fs),vs=function(){return ms(ee(),$t())},ys=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=vs,t}(),gs=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=yi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),bi(e,n,t),new ss(n)}}]),n}(ys);function ms(t,e){return 4&t.type?new gs(e,t,Ma(t,e)):null}var bs=function t(){f(this,t)},ws=function t(){f(this,t)},_s=function(){return Es(ee(),$t())},ks=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=_s,t}(),Os=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"element",get:function(){return Ma(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new nn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=ze(this._hostTNode,this._hostLView);if(Re(t)){var e=Le(t,this._hostLView),n=Me(t);return new nn(e[1].data[n+8],e)}return new nn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=Ss(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(bs,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(St(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],dn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=zr(u,c),h=r[11],f=Ur(h,c[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Kr(t,r,n,1,i,o)}(i,c[6],h,r,f,l),t.attachToViewContainerRef(),dn(Cs(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=Ss(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);n&&(pn(Cs(this._lContainer),e),Rr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);return n&&null!=pn(Cs(this._lContainer),e)?new ss(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(ks);function Ss(t){return t[8]}function Cs(t){return t[8]||(t[8]=[])}function Es(t,e){var n,r=e[t.index];if(St(r))n=r;else{var i;if(8&t.type)i=Ut(r);else{var o=e[11];i=o.createComment("");var a=Bt(t,e);Lr(o,Ur(o,a),i,function(t,e){return Vt(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=Ui(r,e,i,t),zi(e,n)}return new Os(n,t,e)}var Ts={},Is=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=_t(t);return new js(e,this.ngModule)}}]),n}(Da);function As(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var xs=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return kr}}),js=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(oi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"inputs",get:function(){return As(this.componentDef.inputs)}},{key:"outputs",get:function(){return As(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Ts,i);return o!==Ts||r===Ts?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Ua,Ft),u=a.get(Ha,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Vt(t))return t.selectRootElement(e,n===Y.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Pr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:kr,clean:Yi,playerHandler:null,flags:0},p=Ei(0,null,null,1,0,null,null,null,null,null),v=yi(null,p,d,f,null,null,s,c,u,a);pe(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=gi(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(to(s,u,!0),null!==t&&(xe(i,t,u),null!==s.classes&&Yr(i,t,s.classes),null!==s.styles&&Qr(i,t,s.styles)));var c=r.createRenderer(t,e),l=yi(n,Ci(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Ge(qe(s,n),a,e.type),Ni(a,s),Ri(s,n.length,1)),zi(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)xe(c,h,["ng-version",Ga.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ei(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&xe(c,h,m),b&&b.length>0&&Yr(c,h,b.join(" "))}if(o=Ht(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=ee();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Mi(t,r,e,mi(t,e,1,null),n));var i=$e(e,t,r.directiveStart,r);_r(i,e);var o=Bt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=ee();e.contentQueries(1,a,s.directiveStart)}var u=ee();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_e(u.index),ji(n[1],u,0,u.directiveStart,u.directiveEnd,e),Pi(e,a)),a}(y,this.componentDef,v,d,[bo]),bi(p,v,null)}finally{be()}return new Ps(this.componentType,i,Ma(o,v),v,o)}}]),n}(Pa),Ps=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new us(o),s.componentType=t,s}return p(n,[{key:"injector",get:function(){return new nn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){f(this,t)}}()),Ns=new Map,Ds=function(t){v(n,t);var e=g(n);function n(t,r){var i;f(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=b(i),i.destroyCbs=[],i.componentFactoryResolver=new Is(b(i));var o=kt(t),a=t[ut]||null;return a&&Oa(a),i._bootstrapComponents=Sr(o.bootstrap),i._r3Injector=co(t,r,[{provide:bs,useValue:b(i)},{provide:Da,useValue:i.componentFactoryResolver}],S(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Default;return t===mo||t===bs||t===no?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(bs),Rs=function(t){v(n,t);var e=g(n);function n(t){var r,i,o;return f(this,n),(r=e.call(this)).moduleType=t,null!==kt(t)&&(i=t,o=new Set,function t(e){var n=kt(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(S(e)," vs ").concat(S(e.name)))}(r,Ns.get(r),e),Ns.set(r,e));var i,s=a(Sr(n.imports));try{for(s.s();!(i=s.n()).done;){var u=i.value;o.has(u)||(o.add(u),t(u))}}catch(c){s.e(c)}finally{s.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new Ds(this.moduleType,t)}}]),n}(ws);function Ms(t){return function(e){setTimeout(t,void 0,e)}}var Ls=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){h(_(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o,a,u=t,c=e||function(){return null},l=r;if(t&&"object"==typeof t){var f=t;u=null===(i=f.next)||void 0===i?void 0:i.bind(f),c=null===(o=f.error)||void 0===o?void 0:o.bind(f),l=null===(a=f.complete)||void 0===a?void 0:a.bind(f)}this.__isAsync&&(c=Ms(c),u&&(u=Ms(u)),l&&(l=Ms(l)));var d=h(_(n.prototype),"subscribe",this).call(this,{next:u,error:c,complete:l});return t instanceof s.a&&t.add(d),d}}]),n}(o.a);function Vs(){return this._results[Eo()]()}var Fs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Eo(),r=t.prototype;r[n]||(r[n]=Vs)}return p(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Ls)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=hn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Us=function(){function t(e){f(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),qs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Zs(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Bs=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,t),this.predicate=e,this.flags=n,this.read=r},Hs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),zs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;f(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Gs(e,i)),this.matchTNodeWithReadOption(t,e,Ze(e,t,i,!1,!1))}else n===ys?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ze(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Va||r===ks||r===ys&&4&e.type)this.addMatch(e.index,-2);else{var i=Ze(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Gs(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ks(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ma(t,e):4&t.type?ms(t,e):null}(e,t):-2===n?function(t,e,n){return n===Va?Ma(e,t):n===ys?ms(e,t):n===ks?Es(e,t):void 0}(t,e,r):$e(t,t[1],n,e)}function Ws(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Ks(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Qs(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Ws(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&Qs(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Qs(v[1],v,c,r)}}}return r}function Ys(t){var e=$t(),n=te(),r=le();he(r+1);var i=Zs(n,r);if(t.dirty&&Kt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Qs(n,e,r,[]):Ws(n,e,i,r);t.reset(o,Fa),t.notifyOnChanges()}return!0}return!1}function Xs(t,e,n,r){var i=te();if(i.firstCreatePass){var o=ee();(function(t,e,n){null===t.queries&&(t.queries=new Hs),t.queries.track(new zs(e,n))})(i,new Bs(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){var r=new Fs(4==(4&n));Ti(t,e,r,r.destroy),null===e[19]&&(e[19]=new qs),e[19].queries.push(new Us(r))}(i,$t(),n)}function Js(){return t=$t(),e=le(),t[19].queries[e].queryList;var t,e}function Zs(t,e){return t.queries.getByIndex(e)}function $s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.Default,e=hs(!0);if(null!=e||t&z.Optional)return e;N("ChangeDetectorRef")}var tu=new un("Application Initializer"),eu=function(){var t=function(){function t(e){var n=this;f(this,t),this.appInits=e,this.resolve=Ra,this.reject=Ra,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Fo(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Sn(tu,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),nu=new un("AppId"),ru={provide:nu,useFactory:function(){return"".concat(iu()).concat(iu()).concat(iu())},deps:[]};function iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ou=new un("Platform Initializer"),au=new un("Platform ID"),su=new un("appBootstrapListener"),uu=function(){var t=function(){function t(){f(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),cu=new un("LocaleId"),lu=new un("DefaultCurrencyCode"),hu=function t(e,n){f(this,t),this.ngModuleFactory=e,this.componentFactories=n},fu=function(t){return new Rs(t)},du=fu,pu=function(t){return Promise.resolve(fu(t))},vu=function(t){var e=fu(t),n=Sr(kt(t).declarations).reduce(function(t,e){var n=_t(e);return n&&t.push(new js(n)),t},[]);return new hu(e,n)},yu=vu,gu=function(t){return Promise.resolve(vu(t))},mu=function(){var t=function(){function t(){f(this,t),this.compileModuleSync=du,this.compileModuleAsync=pu,this.compileModuleAndAllComponentsSync=yu,this.compileModuleAndAllComponentsAsync=gu}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),bu=Promise.resolve(0);function wu(t){"undefined"==typeof Zone?bu.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var _u=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(f(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ls(!1),this.onMicrotaskEmpty=new Ls(!1),this.onStable=new Ls(!1),this.onError=new Ls(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=tt.requestAnimationFrame,e=tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(tt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Su(t),Ou(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Su(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return Cu(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),Eu(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return Cu(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),Eu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Su(n),Ou(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ku,Ra,Ra);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),ku={};function Ou(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Su(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Cu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Eu(t){t._nesting--,Ou(t)}var Tu=function(){function t(){f(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ls,this.onMicrotaskEmpty=new Ls,this.onStable=new Ls,this.onError=new Ls}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Iu=function(){var t=function(){function t(e){var n=this;f(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){_u.assertNotInAngularZone(),wu(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())wu(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Sn(_u))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),Au=function(){var t=function(){function t(){f(this,t),this._applications=new Map,Pu.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Pu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function xu(t){Pu=t}var ju,Pu=new(function(){function t(){f(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Nu=!0,Du=!1;function Ru(){return Du=!0,Nu}function Mu(){if(Du)throw new Error("Cannot enable prod mode after platform setup.");Nu=!1}var Lu=new un("AllowMultipleToken"),Vu=function t(e,n){f(this,t),this.name=e,this.token=n};function Fu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new un(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Uu();if(!o||o.injector.get(Lu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:io,useValue:"platform"});!function(t){if(ju&&!ju.destroyed&&!ju.injector.get(Lu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ju=t.get(qu);var e=t.get(ou,null);e&&e.forEach(function(t){return t()})}(mo.create({providers:a,name:r}))}return function(t){var e=Uu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Uu(){return ju&&!ju.destroyed?ju:null}var qu=function(){var t=function(){function t(e){f(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new Tu:("zone.js"===n?void 0:n)||new _u({enableLongStackTrace:Ru(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:_u,useValue:o}];return o.run(function(){var e=mo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(wr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Gu(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(eu)).runInitializers(),a.donePromise.then(function(){return Oa(n.injector.get(cu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return Fo(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Bu({},n);return function(t,e,n){var r=new Rs(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(zu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(S(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Sn(mo))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function Bu(t,e){return Array.isArray(e)?e.reduce(Bu,t):Object.assign(Object.assign({},t),e)}var Hu,zu=((Hu=function(){function t(e,n,r,i,o){var a=this;f(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new u.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),c=new u.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){_u.assertNotInAngularZone(),wu(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){_u.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(s,c.pipe(function(t){return Object(m.a)()((e=w,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,y.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Pa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(bs),o=n.create(mo.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Iu,null),u=s&&o.injector.get(Au);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Gu(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=a(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Gu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(su,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Hu)(Sn(_u),Sn(mo),Sn(wr),Sn(Da),Sn(eu))},Hu.\u0275prov=D({token:Hu,factory:Hu.\u0275fac}),Hu);function Gu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ku=function t(){f(this,t)},Wu=function t(){f(this,t)},Qu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Yu=function(){var t=function(){function t(e,n){f(this,t),this._compiler=e,this._config=n||Qu}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r("zn8P")(o).then(function(t){return t[a]}).then(function(t){return Xu(t,o,a)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return Xu(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Sn(mu),Sn(Wu,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function Xu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Ju=function(t){return null},Zu=Fu(null,"core",[{provide:au,useValue:"unknown"},{provide:qu,deps:[mo]},{provide:Au,deps:[]},{provide:uu,deps:[]}]),$u=[{provide:zu,useClass:zu,deps:[_u,mo,wr,Da,eu]},{provide:xs,deps:[_u],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:eu,useClass:eu,deps:[[new An,tu]]},{provide:mu,useClass:mu,deps:[]},ru,{provide:rs,useFactory:function(){return ds},deps:[]},{provide:os,useFactory:function(){return ps},deps:[]},{provide:cu,useFactory:function(t){return Oa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new In(cu),new An,new xn]]},{provide:lu,useValue:"USD"}],tc=function(){var t=function t(e){f(this,t)};return t.\u0275fac=function(e){return new(e||t)(Sn(zu))},t.\u0275mod=yt({type:t}),t.\u0275inj=R({providers:$u}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){f(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||b(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function t(e,n,r){f(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return t=this.error,new s.a(function(e){return e.error(t)});case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new d(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),d=function t(e,n){f(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return k}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return v}),n.d(e,"m",function(){return y}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return g});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return a(void 0,t)}function a(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=a(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(s),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function v(){return c().indexOf("Electron/")>=0}function y(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return c().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?w(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new m(i,s,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function E(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?h(_(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?h(_(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?h(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){f(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof u?l(v.errors):[v]}}if(Object(o.a)(c))for(var f=-1,d=c.length;++f<d;){var p=c[f];if(Object(a.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},spgP:function(t,e,a){"use strict";(function(t){a.d(e,"a",function(){return N}),a.d(e,"b",function(){return E}),a.d(e,"c",function(){return C}),a.d(e,"d",function(){return w}),a.d(e,"e",function(){return S}),a.d(e,"f",function(){return j}),a.d(e,"g",function(){return I}),a.d(e,"h",function(){return _}),a.d(e,"i",function(){return O}),a.d(e,"j",function(){return A});var u=a("qgXg"),c=a("D0XW"),l=a("vkgz"),h=a("tf+s"),d=a("pxpQ"),v=a("fXoL"),y=a("Jgta");function g(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.b;f(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){f(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){f(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.a)})};function _(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(h.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],O=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,a){return n.runOutsideAngular(function(){var o;if(t[a])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(a,t[a]),t[a];if(k.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,o),o})}})})}})},S=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},C=new v.r("angularfire2.app.options"),E=new v.r("angularfire2.app.nameOrConfig"),T=new v.P("6.1.5");function I(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&x("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var A=function(){x("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},x=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.V)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function j(e,a,u,c,l){var h,f=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(h=f)||o(h)||s(h)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&x("error","".concat(a," was already initialized on the ").concat(u.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(i(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var P={provide:function t(){f(this,t)},useFactory:I,deps:[C,v.A,[new v.B,E]]},N=function(){var t=function(){function t(e){f(this,t),y.a.registerVersion("angularfire",T.full,e.toString()),y.a.registerVersion("angular",v.O.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:C,useValue:e},{provide:E,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.Sb(v.C))},t.\u0275mod=v.Kb({type:t}),t.\u0275inj=v.Jb({providers:[P]}),t}()}).call(this,a("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then(function(){return s(e)&&t()}),e},c=function(t){s(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?h(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return h(_(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("DH7j"),m=function(t){v(n,t);var e=g(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return f(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,i=o,(Object(y.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){f(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){f(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,a,s){var u;return f(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=b(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}var o=function(){function t(e){f(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.f)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.7",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.g)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.g)(e,t)},createSubscribe:a.e,ErrorFactory:a.b,deepExtend:a.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.j)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.o)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.26",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var s=o("fXoL"),u=null;function c(){return u}var l,d=new s.r("DocumentToken"),y=((l=function t(){f(this,t)}).\u0275fac=function(t){return new(t||l)},l.\u0275prov=Object(s.Ib)({factory:w,token:l,providedIn:"platform"}),l);function w(){return Object(s.Sb)(S)}var k,O=new s.r("Location Initialized"),S=((k=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._init(),r}return p(n,[{key:"_init",value:function(){this.location=c().getLocation(),this._history=c().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return c().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){C()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){C()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(y)).\u0275fac=function(t){return new(t||k)(s.Sb(d))},k.\u0275prov=Object(s.Ib)({factory:E,token:k,providedIn:"platform"}),k);function C(){return!!window.history.pushState}function E(){return new S(Object(s.Sb)(d))}function T(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function I(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function A(t){return t&&"?"!==t[0]?"?"+t:t}var x,j=((x=function t(){f(this,t)}).\u0275fac=function(t){return new(t||x)},x.\u0275prov=Object(s.Ib)({factory:P,token:x,providedIn:"root"}),x);function P(t){var e=Object(s.Sb)(d).location;return new L(Object(s.Sb)(y),e&&e.origin||"")}var N,D,R,M=new s.r("appBaseHref"),L=((R=function(t){v(n,t);var e=g(n);function n(t,r){var i;if(f(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,m(i)}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return T(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+A(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+A(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+A(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||R)(s.Sb(y),s.Sb(M,8))},R.\u0275prov=s.Ib({token:R,factory:R.\u0275fac}),R),V=((D=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=T(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+A(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+A(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||D)(s.Sb(y),s.Sb(M,8))},D.\u0275prov=s.Ib({token:D,factory:D.\u0275fac}),D),F=((N=function(){function t(e,n){var r=this;f(this,t),this._subject=new s.n,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=I(q(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return p(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+A(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,q(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+A(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+A(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||N)(s.Sb(j),s.Sb(y))},N.normalizeQueryParams=A,N.joinWithSlash=T,N.stripTrailingSlash=I,N.\u0275prov=Object(s.Ib)({factory:U,token:N,providedIn:"root"}),N);function U(){return new F(Object(s.Sb)(j),Object(s.Sb)(y))}function q(t){return t.replace(/\/index.html$/,"")}var B,H=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),z=s.nb,G=function t(){f(this,t)},K=((B=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(z(e||this.locale)(t)){case H.Zero:return"zero";case H.One:return"one";case H.Two:return"two";case H.Few:return"few";case H.Many:return"many";default:return"other"}}}]),n}(G)).\u0275fac=function(t){return new(t||B)(s.Sb(s.v))},B.\u0275prov=s.Ib({token:B,factory:B.\u0275fac}),B);function W(t,n){n=encodeURIComponent(n);var r,i=a(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.indexOf("="),u=e(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),c=u[0],l=u[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(h){i.e(h)}finally{i.f()}return null}var Q,Y,X=function(){function t(e,n,r,i){f(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return p(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),J=((Q=function(){function t(e,n,r){f(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return p(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new X(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new Z(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new Z(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Q)(s.Mb(s.Q),s.Mb(s.L),s.Mb(s.t))},Q.\u0275dir=s.Hb({type:Q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Q),Z=function t(e,n){f(this,t),this.record=e,this.view=n},$=((Y=function(){function t(e,n){f(this,t),this._viewContainer=e,this._context=new tt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return p(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){et("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){et("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Y)(s.Mb(s.Q),s.Mb(s.L))},Y.\u0275dir=s.Hb({type:Y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Y),tt=function t(){f(this,t),this.$implicit=null,this.ngIf=null};function et(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(s.wb)(e),"'."))}var nt,rt=((nt=function t(){f(this,t)}).\u0275fac=function(t){return new(t||nt)},nt.\u0275mod=s.Kb({type:nt}),nt.\u0275inj=s.Jb({providers:[{provide:G,useClass:K}]}),nt);function it(t){return"server"===t}var ot,at=((ot=function t(){f(this,t)}).\u0275prov=Object(s.Ib)({token:ot,providedIn:"root",factory:function(){return new st(Object(s.Sb)(d),window)}}),ot),st=function(){function t(e,n){f(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return p(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=function(t,e){var n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var a=o.getElementById(e)||o.querySelector('[name="'.concat(e,'"]'));if(a)return a}i=r.nextNode()}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=ut(this.window.history)||ut(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function ut(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var ct,lt,ht,ft,dt=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=pt||(pt=document.querySelector("base"))?pt.getAttribute("href"):null;return null==n?null:(e=n,ct||(ct=document.createElement("a")),ct.setAttribute("href",e),"/"===ct.pathname.charAt(0)?ct.pathname:"/"+ct.pathname)}},{key:"resetBaseElement",value:function(){pt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return W(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,u||(u=t)}}]),n}(function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){f(this,t)}}())),pt=null,vt=new s.r("TRANSITION_ID"),yt=[{provide:s.d,useFactory:function(t,e,n){return function(){n.get(s.e).donePromise.then(function(){var n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[vt,d,s.s],multi:!0}],gt=function(){function t(){f(this,t)}return p(t,[{key:"addToWindow",value:function(t){s.pb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.pb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},s.pb.getAllAngularRootElements=function(){return t.getAllRootElements()},s.pb.frameworkStabilizers||(s.pb.frameworkStabilizers=[]),s.pb.frameworkStabilizers.push(function(t){var e=s.pb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.X)(new t)}}]),t}(),mt=new s.r("EventManagerPlugins"),bt=((lt=function(){function t(e,n){var r=this;f(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||lt)(s.Sb(mt),s.Sb(s.A))},lt.\u0275prov=s.Ib({token:lt,factory:lt.\u0275fac}),lt),wt=function(){function t(e){f(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),_t=((ft=function(){function t(){f(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||ft)},ft.\u0275prov=s.Ib({token:ft,factory:ft.\u0275fac}),ft),kt=((ht=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Map,r._hostNodes.set(t.head,[]),r}return p(n,[{key:"_addStylesToHost",value:function(t,e,n){var r=this;t.forEach(function(t){var i=r._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}},{key:"addHost",value:function(t){var e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}},{key:"removeHost",value:function(t){var e=this._hostNodes.get(t);e&&e.forEach(Ot),this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n,r){e._addStylesToHost(t,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(t){return t.forEach(Ot)})}}]),n}(_t)).\u0275fac=function(t){return new(t||ht)(s.Sb(d))},ht.\u0275prov=s.Ib({token:ht,factory:ht.\u0275fac}),ht);function Ot(t){c().remove(t)}var St={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ct=/%COMP%/g;function Et(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Et(t,i,n):(i=i.replace(Ct,t),n.push(i))}return n}function Tt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var It,At,xt,jt,Pt=((It=function(){function t(e,n,r){f(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Nt(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.R.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Dt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case s.R.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Et(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||It)(s.Sb(bt),s.Sb(kt),s.Sb(s.c))},It.\u0275prov=s.Ib({token:It,factory:It.\u0275fac}),It),Nt=function(){function t(e){f(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(St[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=St[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=St[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(s.G.DashCase|s.G.Important)?t.style.setProperty(e,n,r&s.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&s.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Tt(n)):this.eventManager.addEventListener(t,e,Tt(n))}}]),t}(),Dt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).component=i;var s=Et(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(Ct,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(Ct,o+"-"+i.id),a}return p(n,[{key:"applyToHost",value:function(t){h(_(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=h(_(n.prototype),"createElement",this).call(this,t,e);return h(_(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Nt),Rt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Et(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return h(_(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return h(_(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return h(_(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(h(_(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Nt),Mt=((At=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(wt)).\u0275fac=function(t){return new(t||At)(s.Sb(d))},At.\u0275prov=s.Ib({token:At,factory:At.\u0275fac}),At),Lt=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ut={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},qt=((xt=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return c().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Lt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ft.hasOwnProperty(e)&&(e=Ft[e]))}return Vt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Lt.forEach(function(r){r!=n&&(0,Ut[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(wt)).\u0275fac=function(t){return new(t||xt)(s.Sb(d))},xt.\u0275prov=s.Ib({token:xt,factory:xt.\u0275fac}),xt),Bt=[{provide:s.C,useValue:"browser"},{provide:s.D,useValue:function(){dt.makeCurrent(),gt.init()},multi:!0},{provide:d,useFactory:function(){return Object(s.vb)(document),document},deps:[]}],Ht=Object(s.S)(s.W,"browser",Bt),zt=[[],{provide:s.Z,useValue:"root"},{provide:s.m,useFactory:function(){return new s.m},deps:[]},{provide:mt,useClass:Mt,multi:!0,deps:[d,s.A,s.C]},{provide:mt,useClass:qt,multi:!0,deps:[d]},[],{provide:Pt,useClass:Pt,deps:[bt,kt,s.c]},{provide:s.F,useExisting:Pt},{provide:_t,useExisting:kt},{provide:kt,useClass:kt,deps:[d]},{provide:s.M,useClass:s.M,deps:[s.A]},{provide:bt,useClass:bt,deps:[mt,s.A]},[]],Gt=((jt=function(){function t(e){if(f(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:vt,useExisting:s.c},yt]}}}]),t}()).\u0275fac=function(t){return new(t||jt)(s.Sb(jt,12))},jt.\u0275mod=s.Kb({type:jt}),jt.\u0275inj=s.Jb({providers:zt,imports:[rt,s.f]}),jt);"undefined"!=typeof window&&window;var Kt=o("Cfvw"),Wt=o("LRne"),Qt=o("XNiG"),Yt=o("9ppp"),Xt=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._value=t,r}return p(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=h(_(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Yt.a;return this._value}},{key:"next",value:function(t){h(_(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Qt.a),Jt=o("z+Ro"),Zt=o("DH7j"),$t=o("7o/Q"),te=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}($t.a),ee=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}($t.a),ne=o("SeVD"),re=o("HDdC");function ie(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ee(t,n,r);if(!i.closed)return e instanceof re.a?e.subscribe(i):Object(ne.a)(e)(i)}var oe=o("yCtX"),ae={},se=function(){function t(e){f(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ue(t,this.resultSelector))}}]),t}(),ue=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return p(n,[{key:"_next",value:function(t){this.values.push(ae),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(ie(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===ae?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(te),ce=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),le=o("bHdf");function he(){return Object(le.a)(1)(Object(Wt.a).apply(void 0,arguments))}var fe=o("EY2u");function de(t){return new re.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Kt.a)(n):Object(fe.b)()).subscribe(e)})}var pe=o("EQ5u"),ve=o("lJxs"),ye=o("zx2A");function ge(t,e){return"function"==typeof e?function(n){return n.pipe(ge(function(n,r){return Object(Kt.a)(t(n,r)).pipe(Object(ve.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new me(t))}}var me=function(){function t(e){f(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new be(t,this.project))}}]),t}(),be=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new ye.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(ye.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||h(_(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&h(_(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(ye.b),we=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function _e(t){return function(e){return 0===t?Object(fe.b)():e.lift(new ke(t))}}var ke=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new we}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Oe(t,this.total))}}]),t}(),Oe=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}($t.a);function Se(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Jt.a)(r)?(e.pop(),function(t){return he(e,t,r)}):function(t){return he(e,t)}}function Ce(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ee(t,e,n))}}var Ee=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Te(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Te=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return p(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}($t.a);function Ie(t,e){return function(n){return n.lift(new Ae(t,e))}}var Ae=function(){function t(e,n){f(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new xe(t,this.predicate,this.thisArg))}}]),t}(),xe=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}($t.a);function je(t){return function(e){var n=new Pe(t),r=e.lift(n);return n.caught=r}}var Pe=function(){function t(e){f(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ne(t,this.selector,this.caught))}}]),t}(),Ne=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void h(_(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new ye.a(this);this.add(r);var i=Object(ye.c)(e,r);i!==r&&this.add(i)}}}]),n}(ye.b),De=o("5+tZ");function Re(t,e){return Object(De.a)(t,e,1)}function Me(t){return function(e){return 0===t?Object(fe.b)():e.lift(new Le(t))}}var Le=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new we}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ve(t,this.total))}}]),t}(),Ve=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}($t.a);function Fe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;return function(e){return e.lift(new Ue(t))}}var Ue=function(){function t(e){f(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new qe(t,this.errorFactory))}}]),t}(),qe=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(Rb){t=Rb}this.destination.error(t)}}]),n}($t.a);function Be(){return new ce}function He(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new ze(t))}}var ze=function(){function t(e){f(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ge(t,this.defaultValue))}}]),t}(),Ge=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}($t.a),Ke=o("SpAZ");function We(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ie(function(e,n){return t(e,n,r)}):Ke.a,_e(1),n?He(e):Fe(function(){return new ce}))}}var Qe=o("vkgz"),Ye=o("x+ZX"),Xe=o("quSY"),Je=function(){function t(e){f(this,t),this.callback=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ze(t,this.callback))}}]),t}(),Ze=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).add(new Xe.a(r)),i}return n}($t.a),$e=function t(e,n){f(this,t),this.id=e,this.url=n},tn=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return p(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}($e),en=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return p(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}($e),nn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).reason=i,o}return p(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}($e),rn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).error=i,o}return p(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}($e),on=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}($e),an=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}($e),sn=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return p(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}($e),un=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}($e),cn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}($e),ln=function(){function t(e){f(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),hn=function(){function t(e){f(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),fn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),dn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),pn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),vn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),yn=function(){function t(e,n,r){f(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return p(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),gn=function(){function t(e){f(this,t),this.params=e||{}}return p(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function mn(t){return new gn(t)}function bn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function wn(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _n(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!kn(t[n=r[o]],e[n]))return!1;return!0}function kn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=i(t).sort(),r=i(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function On(t){return Array.prototype.concat.apply([],t)}function Sn(t){return t.length>0?t[t.length-1]:null}function Cn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function En(t){return Object(s.rb)(t)?t:Object(s.sb)(t)?Object(Kt.a)(Promise.resolve(t)):Object(Wt.a)(t)}function Tn(t,e,n){return n?function(t,e){return _n(t,e)}(t.queryParams,e.queryParams)&&In(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return kn(t[n],e[n])})}(t.queryParams,e.queryParams)&&An(t.root,e.root)}function In(t,e){if(!Dn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!In(t.children[n],e.children[n]))return!1}return!0}function An(t,e){return xn(t,e,e.segments)}function xn(t,e,n){if(t.segments.length>n.length)return!!Dn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Dn(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!An(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Dn(t.segments,i)&&!!t.children.primary&&xn(t.children.primary,e,o)}var jn=function(){function t(e,n,r){f(this,t),this.root=e,this.queryParams=n,this.fragment=r}return p(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Ln.serialize(this)}}]),t}(),Pn=function(){function t(e,n){var r=this;f(this,t),this.segments=e,this.children=n,this.parent=null,Cn(n,function(t,e){return t.parent=r})}return p(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Vn(this)}}]),t}(),Nn=function(){function t(e,n){f(this,t),this.path=e,this.parameters=n}return p(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=mn(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Gn(this)}}]),t}();function Dn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Rn=function t(){f(this,t)},Mn=function(){function t(){f(this,t)}return p(t,[{key:"parse",value:function(t){var e=new Xn(t);return new jn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(Fn(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(qn(t),"=").concat(qn(e))}).join("&"):"".concat(qn(t),"=").concat(qn(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Ln=new Mn;function Vn(t){return t.segments.map(function(t){return Gn(t)}).join("/")}function Fn(t,e){if(!t.hasChildren())return Vn(t);if(e){var n=t.children.primary?Fn(t.children.primary,!1):"",r=[];return Cn(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(Fn(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return Cn(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),Cn(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[Fn(t.children.primary,!1)]:["".concat(n,":").concat(Fn(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Vn(t),"/").concat(i[0]):"".concat(Vn(t),"/(").concat(i.join("//"),")")}function Un(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qn(t){return Un(t).replace(/%3B/gi,";")}function Bn(t){return Un(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hn(t){return decodeURIComponent(t)}function zn(t){return Hn(t.replace(/\+/g,"%20"))}function Gn(t){return"".concat(Bn(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Bn(t),"=").concat(Bn(e[t]))}).join("")));var e}var Kn=/^[^\/()?;=#]+/;function Wn(t){var e=t.match(Kn);return e?e[0]:""}var Qn=/^[^=?&#]+/,Yn=/^[^?&#]+/,Xn=function(){function t(e){f(this,t),this.url=e,this.remaining=e}return p(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Pn(t,e)),n}},{key:"parseSegment",value:function(){var t=Wn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Nn(Hn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Wn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Wn(this.remaining);r&&(n=r,this.capture(n))}t[Hn(e)]=Hn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Qn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Yn);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=zn(e),o=zn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Wn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Pn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Jn=function(){function t(e){f(this,t),this._root=e}return p(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Zn(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Zn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=$n(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return $n(t,this._root).map(function(t){return t.value})}}]),t}();function Zn(t,e){if(t===e.value)return e;var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=Zn(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function $n(t,e){if(t===e.value)return[e];var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=$n(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var tr=function(){function t(e,n){f(this,t),this.value=e,this.children=n}return p(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function er(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var nr=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).snapshot=r,ur(b(i),t),i}return p(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Jn);function rr(t,e){var n=function(t,e){var n=new ar([],{},{},"",{},"primary",e,null,t.root,-1,{});return new sr("",new tr(n,[]))}(t,e),r=new Xt([new Nn("",{})]),i=new Xt({}),o=new Xt({}),a=new Xt({}),s=new Xt(""),u=new ir(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new nr(new tr(u,[]),n)}var ir=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return p(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ve.a)(function(t){return mn(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ve.a)(function(t){return mn(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function or(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var ar=function(){function t(e,n,r,i,o,a,s,u,c,l,h){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return p(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=mn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),sr=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,r)).url=t,ur(b(i),r),i}return p(n,[{key:"toString",value:function(){return cr(this._root)}}]),n}(Jn);function ur(t,e){e.value._routerState=t,e.children.forEach(function(e){return ur(t,e)})}function cr(t){var e=t.children.length>0?" { ".concat(t.children.map(cr).join(", ")," } "):"";return"".concat(t.value).concat(e)}function lr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_n(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_n(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!_n(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_n(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hr(t,e){return _n(t.params,e.params)&&function(t,e){return Dn(t,e)&&t.every(function(t,n){return _n(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||hr(t.parent,e.parent))}function fr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=a(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return fr(t,e,o)}}catch(s){i.e(s)}finally{i.f()}return fr(t,e)})}(t,e,n);return new tr(r,i)}if(t.shouldAttach(e.value)){var o=t.retrieve(e.value);if(null!==o){var s=o.route;return dr(e,s),s}}var u,c=new ir(new Xt((u=e.value).url),new Xt(u.params),new Xt(u.queryParams),new Xt(u.fragment),new Xt(u.data),u.outlet,u.component,u),l=e.children.map(function(e){return fr(t,e)});return new tr(c,l)}function dr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)dr(t.children[n],e.children[n])}function pr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function vr(t){return"object"==typeof t&&null!=t&&t.outlets}function yr(t,e,n,r,i){var o={};return r&&Cn(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new jn(n.root===t?e:gr(n.root,t,e),o,i)}function gr(t,e,n){var r={};return Cn(t.children,function(t,i){r[i]=t===e?n:gr(t,e,n)}),new Pn(t.segments,r)}var mr=function(){function t(e,n,r){if(f(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pr(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(vr);if(i&&i!==Sn(r))throw new Error("{outlets:{}} has to be the last command")}return p(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),br=function t(e,n,r){f(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function wr(t,e,n){if(t||(t=new Pn([],{})),0===t.segments.length&&t.hasChildren())return _r(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(vr(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Cr(u,c,a))return o;r+=2}else{if(!Cr(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Pn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Pn(t.segments.slice(r.pathIndex),t.children),_r(o,0,i)}return r.match&&0===i.length?new Pn(t.segments,{}):r.match&&!t.hasChildren()?kr(t,e,n):r.match?_r(t,0,i):kr(t,e,n)}function _r(t,e,n){if(0===n.length)return new Pn(t.segments,{});var r=function(t){return vr(t[0])?t[0].outlets:{primary:t}}(n),i={};return Cn(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=wr(t.children[r],e,n))}),Cn(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Pn(t.segments,i)}function kr(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(vr(o)){var a=Or(o.outlets);return new Pn(r,a)}if(0===i&&pr(n[0]))r.push(new Nn(t.segments[e].path,Sr(n[0]))),i++;else{var s=vr(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&pr(u)?(r.push(new Nn(s,Sr(u))),i+=2):(r.push(new Nn(s,{})),i++)}}return new Pn(r,{})}function Or(t){var e={};return Cn(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=kr(new Pn([],{}),0,t))}),e}function Sr(t){var e={};return Cn(t,function(t,n){return e[n]="".concat(t)}),e}function Cr(t,e,n){return t==n.path&&_n(e,n.parameters)}var Er=function(){function t(e,n,r,i){f(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return p(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),lr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=er(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Cn(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=er(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=er(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new vn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new dn(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(lr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Tr(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Tr(t){lr(t.value),t.children.forEach(Tr)}var Ir=function t(e,n){f(this,t),this.routes=e,this.module=n};function Ar(t){return"function"==typeof t}function xr(t){return t instanceof jn}var jr=Symbol("INITIAL_VALUE");function Pr(){return ge(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return Object(Jt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Zt.a)(e[0])&&(e=e[0]),Object(oe.a)(e,i).lift(new se(r))}(t.map(function(t){return t.pipe(_e(1),Se(jr))})).pipe(Ce(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==jr)return t;if(r===jr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||xr(r))return r}return t},t)},jr),Ie(function(t){return t!==jr}),Object(ve.a)(function(t){return xr(t)?t:!0===t}),_e(1))})}var Nr,Dr=((Nr=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Nr)},Nr.\u0275cmp=s.Gb({type:Nr,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Nb(0,"router-outlet")},directives:function(){return[Ai]},encapsulation:2}),Nr);function Rr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Mr(r,Lr(e,r))}}function Mr(t,e){t.children&&Rr(t.children,e)}function Lr(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Vr(t){var e=t.children&&t.children.map(Vr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Dr),n}function Fr(t){return t.outlet||"primary"}function Ur(t,e){var n=t.filter(function(t){return Fr(t)===e});return n.push.apply(n,i(t.filter(function(t){return Fr(t)!==e}))),n}var qr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Br(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},qr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||wn)(n,t,e);if(!i)return Object.assign({},qr);var o={};Cn(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Hr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return zr(t,e,n)&&"primary"!==Fr(n)})}(t,n,r)){var o=new Pn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,s=a(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(""===u.path&&"primary"!==Fr(u)){var c=new Pn([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[Fr(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return i}(t,e,r,new Pn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return zr(t,e,n)})}(t,n,r)){var s=new Pn(t.segments,function(t,e,n,r,i,o){var s,u={},c=a(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(zr(t,n,l)&&!i[Fr(l)]){var h=new Pn([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[Fr(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},i),u)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new Pn(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function zr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Gr(t,e,n,r){return!!(Fr(t)===r||"primary"!==r&&zr(e,n,t))&&("**"===t.path||Br(e,t,n).matched)}function Kr(t,e,n){return 0===e.length&&!t.children[n]}var Wr=function t(e){f(this,t),this.segmentGroup=e||null},Qr=function t(e){f(this,t),this.urlTree=e};function Yr(t){return new re.a(function(e){return e.error(new Wr(t))})}function Xr(t){return new re.a(function(e){return e.error(new Qr(t))})}function Jr(t){return new re.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Zr=function(){function t(e,n,r,i,o){f(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(s.y)}return p(t,[{key:"apply",value:function(){var t=this,e=Hr(this.urlTree.root,[],[],this.config).segmentGroup,n=new Pn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(ve.a)(function(e){return t.createUrlTree($r(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(je(function(e){if(e instanceof Qr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Wr)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ve.a)(function(n){return e.createUrlTree($r(n),t.queryParams,t.fragment)})).pipe(je(function(t){if(t instanceof Wr)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Pn([],{primary:t}):t;return new jn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ve.a)(function(t){return new Pn([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Object(Kt.a)(i).pipe(Re(function(i){var o=n.children[i],a=Ur(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(Object(ve.a)(function(t){return{segment:t,outlet:i}}))}),Ce(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ie(function(e,n){return t(e,n,r)}):Ke.a,Me(1),n?He(e):Fe(function(){return new ce}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Kt.a)(n).pipe(Re(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(je(function(t){if(t instanceof Wr)return Object(Wt.a)(null);throw t}))}),We(function(t){return!!t}),je(function(t,n){if(t instanceof ce||"EmptyError"===t.name){if(Kr(e,r,i))return Object(Wt.a)(new Pn([],{}));throw new Wr(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Gr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Yr(e):Yr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xr(o):this.lineralizeSegments(n,o).pipe(Object(De.a)(function(n){var o=new Pn(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Br(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Yr(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Xr(f):this.lineralizeSegments(r,f).pipe(Object(De.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Wt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(ve.a)(function(t){return n._loadedConfig=t,new Pn(r,{})})):Object(Wt.a)(new Pn(r,{}));var a=Br(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return Yr(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(De.a)(function(t){var r=t.module,a=t.routes,s=Hr(e,u,l,a),c=s.segmentGroup,h=s.slicedSegments,f=new Pn(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe(Object(ve.a)(function(t){return new Pn(u,t)}));if(0===a.length&&0===h.length)return Object(Wt.a)(new Pn(u,{}));var d=Fr(n)===i;return o.expandSegment(r,f,a,h,d?"primary":i,!0).pipe(Object(ve.a)(function(t){return new Pn(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Wt.a)(new Ir(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Wt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(De.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(ve.a)(function(t){return e._loadedConfig=t,t})):function(t){return new re.a(function(e){return e.error(bn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(Wt.a)(new Ir([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(Wt.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&Ar(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Ar(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return En(i)});return Object(Wt.a)(o).pipe(Pr(),Object(Qe.a)(function(t){if(xr(t)){var e=bn('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(ve.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Wt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Jr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new jn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Cn(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Cn(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Pn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function $r(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=$r(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Pn(t.segments.concat(e.segments),e.children)}return t}(new Pn(t.segments,e))}var ti=function t(e){f(this,t),this.path=e,this.route=this.path[this.path.length-1]},ei=function t(e,n){f(this,t),this.component=e,this.route=n};function ni(t,e,n){var r=t._root;return ii(r,e?e._root:null,n,[r.value])}function ri(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ii(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=er(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dn(t.url,e.url)||!_n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hr(t,e)||!_n(t.queryParams,e.queryParams);case"paramsChange":default:return!hr(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ti(r)):(o.data=a.data,o._resolvedData=a._resolvedData),ii(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new ei(s.outlet.component,a))}else a&&oi(e,s,i),i.canActivateChecks.push(new ti(r)),ii(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Cn(o,function(t,e){return oi(t,n.getContext(e),i)}),i}function oi(t,e,n){var r=er(t),i=t.value;Cn(r,function(t,r){oi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ei(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var ai=function t(){f(this,t)};function si(t){return new re.a(function(e){return e.error(t)})}var ui=function(){function t(e,n,r,i,o,a){f(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return p(t,[{key:"recognize",value:function(){var t=Hr(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new ar([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tr(n,e),i=new sr(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=or(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,o=Object.keys(e.children);r<o.length;r++){var a=o[r],s=e.children[a],u=Ur(t,a),c=this.processSegmentGroup(u,s,a);if(null===c)return null;n.push.apply(n,i(c))}var l=ci(n);return l.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),l}},{key:"processSegment",value:function(t,e,n,r){var i,o=a(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=this.processSegmentAgainstRoute(s,e,n,r);if(null!==u)return u}}catch(c){o.e(c)}finally{o.f()}return Kr(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Gr(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?Sn(n).parameters:{};i=new ar(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fi(t),Fr(t),t.component,t,li(e),hi(e)+n.length,di(t))}else{var u=Br(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new ar(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fi(t),Fr(t),t.component,t,li(e),hi(e)+o.length,di(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Hr(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new tr(i,d)]}if(0===c.length&&0===f.length)return[new tr(i,[])];var p=Fr(t)===r,v=this.processSegment(c,h,f,p?"primary":r);return null===v?null:[new tr(i,v)]}}]),t}();function ci(t){var e,n=[],r=new Set,o=a(t);try{var s=function(){var t,o=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(o))return n.push(o),"continue";var a=n.find(function(t){return o.value.routeConfig===t.value.routeConfig});void 0!==a?((t=a.children).push.apply(t,i(o.children)),r.add(a)):n.push(o)};for(o.s();!(e=o.n()).done;)s()}catch(f){o.e(f)}finally{o.f()}var u,c=a(r);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=ci(l.children);n.push(new tr(l.value,h))}}catch(f){c.e(f)}finally{c.f()}return n.filter(function(t){return!r.has(t)})}function li(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function hi(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function fi(t){return t.data||{}}function di(t){return t.resolve||{}}function pi(t){return ge(function(e){var n=t(e);return n?Object(Kt.a)(n).pipe(Object(ve.a)(function(){return e})):Object(Wt.a)(e)})}var vi=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(function(){function t(){f(this,t)}return p(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),yi=new s.r("ROUTES"),gi=function(){function t(e,n,r,i){f(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return p(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(Object(ve.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Ir(On(i.injector.get(yi,void 0,s.q.Self|s.q.Optional)).map(Vr),i)}),je(function(t){throw e._loader$=void 0,t}));return e._loader$=new pe.a(r,function(){return new Qt.a}).pipe(Object(Ye.a)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Kt.a)(this.loader.load(t)):En(t()).pipe(Object(De.a)(function(t){return t instanceof s.w?Object(Wt.a)(t):Object(Kt.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),mi=function t(){f(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new bi,this.attachRef=null},bi=function(){function t(){f(this,t),this.contexts=new Map}return p(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new mi,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),wi=function(){function t(){f(this,t)}return p(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function _i(t){throw t}function ki(t,e,n){return e.parse("/")}function Oi(t,e){return Object(Wt.a)(null)}var Si,Ci,Ei,Ti,Ii=((Ci=function(){function t(e,n,r,i,o,a,u,c){var l=this;f(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Qt.a,this.errorHandler=_i,this.malformedUriErrorHandler=ki,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Oi,afterPreactivation:Oi},this.urlHandlingStrategy=new wi,this.routeReuseStrategy=new vi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(s.y),this.console=o.get(s.Y);var h=o.get(s.A);this.isNgZoneEnabled=h instanceof s.A&&s.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new jn(new Pn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gi(a,u,function(t){return l.triggerEvent(new ln(t))},function(t){return l.triggerEvent(new hn(t))}),this.routerState=rr(this.currentUrlTree,this.rootComponentType),this.transitions=new Xt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return p(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Ie(function(t){return 0!==t.id}),Object(ve.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),ge(function(t){var r,i,o,a,s=!1,u=!1;return Object(Wt.a)(t).pipe(Object(Qe.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ge(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Wt.a)(t).pipe(ge(function(t){var r=e.transitions.getValue();return n.next(new tn(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?fe.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,ge(function(t){return function(t,e,n,r,i){return new Zr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(ve.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(Qe.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(De.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new ui(t,e,n,r,i,o).recognize();return null===a?si(new ai):Object(Wt.a)(a)}catch(Rb){return si(Rb)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(ve.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Qe.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new on(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new tn(u,e.serializeUrl(c),l,h);n.next(d);var p=rr(c,e.rootComponentType).snapshot;return Object(Wt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),fe.a}),pi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(Qe.a)(function(t){var n=new an(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(ve.a)(function(t){return Object.assign(Object.assign({},t),{guards:ni(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(De.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Wt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Kt.a)(t).pipe(Object(De.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Wt.a)(!0);var a=o.map(function(o){var a,s=ri(o,e,i);if(function(t){return t&&Ar(t.canDeactivate)}(s))a=En(s.canDeactivate(t,e,n,r));else{if(!Ar(s))throw new Error("Invalid CanDeactivate guard");a=En(s(t,e,n,r))}return a.pipe(We())});return Object(Wt.a)(a).pipe(Pr())}(t.component,t.route,n,e,r)}),We(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(De.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Kt.a)(e).pipe(Re(function(e){return he(function(t,e){return null!==t&&e&&e(new fn(t)),Object(Wt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new pn(t)),Object(Wt.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return de(function(){var i=e.guards.map(function(i){var o,a=ri(i,e.node,n);if(function(t){return t&&Ar(t.canActivateChild)}(a))o=En(a.canActivateChild(r,t));else{if(!Ar(a))throw new Error("Invalid CanActivateChild guard");o=En(a(r,t))}return o.pipe(We())});return Object(Wt.a)(i).pipe(Pr())})});return Object(Wt.a)(i).pipe(Pr())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Wt.a)(!0);var i=r.map(function(r){return de(function(){var i,o=ri(r,e,n);if(function(t){return t&&Ar(t.canActivate)}(o))i=En(o.canActivate(e,t));else{if(!Ar(o))throw new Error("Invalid CanActivate guard");i=En(o(e,t))}return i.pipe(We())})});return Object(Wt.a)(i).pipe(Pr())}(t,e.route,n))}),We(function(t){return!0!==t},!0))}(r,a,t,e):Object(Wt.a)(n)}),Object(ve.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(Qe.a)(function(t){if(xr(t.guardsResult)){var n=bn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new sn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),Ie(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new nn(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),pi(function(t){if(t.guards.canActivateChecks.length)return Object(Wt.a)(t).pipe(Object(Qe.a)(function(t){var n=new un(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),ge(function(t){var r,i,o=!1;return Object(Wt.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(De.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(Wt.a)(t);var o=0;return Object(Kt.a)(n).pipe(Re(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Wt.a)({});var o={};return Object(Kt.a)(i).pipe(Object(De.a)(function(i){return function(t,e,n,r){var i=ri(t,e,r);return En(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Qe.a)(function(t){o[i]=t}))}),Me(1),Object(De.a)(function(){return Object.keys(o).length===i.length?Object(Wt.a)(o):fe.a}))}(t._resolve,t,e,r).pipe(Object(ve.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),or(t,n).resolve),null}))}(t.route,e,r,i)}),Object(Qe.a)(function(){return o++}),Me(1),Object(De.a)(function(e){return o===n.length?Object(Wt.a)(t):fe.a}))})),Object(Qe.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new nn(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(Qe.a)(function(t){var n=new cn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),pi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(ve.a)(function(t){var n=function(t,e,n){var r=fr(t,e._root,n?n._root:void 0);return new nr(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(Qe.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(ve.a)(function(t){return new Er(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),Object(Qe.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new nn(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Je(r))}),je(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=xr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new nn(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new rn(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(oh){t.reject(oh)}}var s;return fe.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Rr(t),this.config=t.map(Vr),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,o){if(0===n.length)return yr(e.root,e.root,e,r,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mr(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return Cn(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(i(t),[{outlets:a}])}if(r.segmentPath)return[].concat(i(t),[r.segmentPath])}return"string"!=typeof r?[].concat(i(t),[r]):0===o?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(i(t),[r])},[]);return new mr(n,e,r)}(n);if(a.toRoot())return yr(e.root,new Pn([],{}),e,r,o);var s=function(t,e,n){if(t.isAbsolute)return new br(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new br(r,r===e.root,0)}var i=pr(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new br(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?_r(s.segmentGroup,s.index,a.commands):wr(s.segmentGroup,s.index,a.commands);return yr(s.segmentGroup,u,e,r,o)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=xr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(Rb){e=this.malformedUriErrorHandler(Rb,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(xr(t))return Tn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Tn(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new en(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||Ci)(s.Sb(s.N),s.Sb(Rn),s.Sb(bi),s.Sb(F),s.Sb(s.s),s.Sb(s.x),s.Sb(s.i),s.Sb(void 0))},Ci.\u0275prov=s.Ib({token:Ci,factory:Ci.\u0275fac}),Ci),Ai=((Si=function(){function t(e,n,r,i,o){f(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.n,this.deactivateEvents=new s.n,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return p(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||Si)(s.Mb(bi),s.Mb(s.Q),s.Mb(s.j),s.Tb("name"),s.Mb(s.h))},Si.\u0275dir=s.Hb({type:Si,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Si),xi=function(){function t(e,n,r){f(this,t),this.route=e,this.childContexts=n,this.parent=r}return p(t,[{key:"get",value:function(t,e){return t===ir?this.route:t===bi?this.childContexts:this.parent.get(t,e)}}]),t}(),ji=function t(){f(this,t)},Pi=function(){function t(){f(this,t)}return p(t,[{key:"preload",value:function(t,e){return Object(Wt.a)(null)}}]),t}(),Ni=((Ti=function(){function t(e,n,r,i,o){f(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new gi(n,r,function(t){return e.triggerEvent(new ln(t))},function(t){return e.triggerEvent(new hn(t))})}return p(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Ie(function(t){return t instanceof en}),Re(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(s.y);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(u){i.e(u)}finally{i.f()}return Object(Kt.a)(r).pipe(Object(le.a)(),Object(ve.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Object(Wt.a)(e._loadedConfig):n.loader.load(t.injector,e)).pipe(Object(De.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||Ti)(s.Sb(Ii),s.Sb(s.x),s.Sb(s.i),s.Sb(s.s),s.Sb(ji))},Ti.\u0275prov=s.Ib({token:Ti,factory:Ti.\u0275fac}),Ti),Di=((Ei=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return p(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof tn?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof en&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof yn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new yn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ei)(s.Sb(Ii),s.Sb(at),s.Sb(void 0))},Ei.\u0275prov=s.Ib({token:Ei,factory:Ei.\u0275fac}),Ei),Ri=new s.r("ROUTER_CONFIGURATION"),Mi=new s.r("ROUTER_FORROOT_GUARD"),Li=[F,{provide:Rn,useClass:Mn},{provide:Ii,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new Ii(null,t,e,n,r,i,o,On(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,h),s.enableTracing){var f=c();h.events.subscribe(function(t){f.logGroup("Router Event: ".concat(t.constructor.name)),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return h},deps:[Rn,bi,F,s.s,s.x,s.i,yi,Ri,[function(){return function t(){f(this,t)}}(),new s.B],[function(){return function t(){f(this,t)}}(),new s.B]]},bi,{provide:ir,useFactory:function(t){return t.routerState.root},deps:[Ii]},{provide:s.x,useClass:s.K},Ni,Pi,function(){function t(){f(this,t)}return p(t,[{key:"preload",value:function(t,e){return e().pipe(je(function(){return Object(Wt.a)(null)}))}}]),t}(),{provide:Ri,useValue:{enableTracing:!1}}];function Vi(){return new s.z("Router",Ii)}var Fi,Ui=((Fi=function(){function t(e,n){f(this,t)}return p(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Li,zi(e),{provide:Mi,useFactory:Hi,deps:[[Ii,new s.B,new s.J]]},{provide:Ri,useValue:n||{}},{provide:j,useFactory:Bi,deps:[y,[new s.p(M),new s.B],Ri]},{provide:Di,useFactory:qi,deps:[Ii,at,Ri]},{provide:ji,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Pi},{provide:s.z,multi:!0,useFactory:Vi},[Ki,{provide:s.d,multi:!0,useFactory:Wi,deps:[Ki]},{provide:Ji,useFactory:Qi,deps:[Ki]},{provide:s.b,multi:!0,useExisting:Ji}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[zi(e)]}}}]),t}()).\u0275fac=function(t){return new(t||Fi)(s.Sb(Mi,8),s.Sb(Ii,8))},Fi.\u0275mod=s.Kb({type:Fi}),Fi.\u0275inj=s.Jb({}),Fi);function qi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Di(t,e,n)}function Bi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new V(t,e):new L(t,e)}function Hi(t){return"guarded"}function zi(t){return[{provide:s.a,multi:!0,useValue:t},{provide:yi,multi:!0,useValue:t}]}var Gi,Ki=((Gi=function(){function t(e){f(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Qt.a}return p(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(O,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Ii),i=t.injector.get(Ri);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Wt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Ri),n=this.injector.get(Ni),r=this.injector.get(Di),i=this.injector.get(Ii),o=this.injector.get(s.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||Gi)(s.Sb(s.s))},Gi.\u0275prov=s.Ib({token:Gi,factory:Gi.\u0275fac}),Gi);function Wi(t){return t.appInitializer.bind(t)}function Qi(t){return t.bootstrapListener.bind(t)}var Yi,Xi,Ji=new s.r("Router Initializer"),Zi=[],$i=((Xi=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Xi)},Xi.\u0275mod=s.Kb({type:Xi}),Xi.\u0275inj=s.Jb({imports:[[Ui.forRoot(Zi)],Ui]}),Xi),to=((Yi=function(){function t(){f(this,t),this.emitter=new s.n}return p(t,[{key:"emit",value:function(t){this.emitter.emit(t)}},{key:"subscribe",value:function(t){return this.emitter.subscribe(t)}}]),t}()).\u0275fac=function(t){return new(t||Yi)},Yi.\u0275prov=s.Ib({token:Yi,factory:Yi.\u0275fac,providedIn:"root"}),Yi);function eo(t,e){if(1&t&&(s.Pb(0,"div",5),s.ec(1),s.Ob()),2&t){var n=e.$implicit;s.Bb(1),s.fc(n.name)}}var no,ro,io=((ro=function(){function t(){f(this,t),this.isBackgroundWhite=!1,this.navs=[{id:0,name:"Home"},{id:1,name:"Courses"},{id:2,name:"About Us"},{id:2,name:"Contact Us"}]}return p(t,[{key:"ngOnInit",value:function(){}},{key:"onWindowScroll",value:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.isBackgroundWhite=0!=t}}]),t}()).\u0275fac=function(t){return new(t||ro)},ro.\u0275cmp=s.Gb({type:ro,selectors:[["app-header"]],hostBindings:function(t,e){1&t&&s.Vb("scroll",function(){return e.onWindowScroll()},!1,s.ac)},decls:5,vars:3,consts:[[1,"header-component"],[1,"logo"],["src","assets/images/nosir.png"],[1,"navigation"],["class","nav",4,"ngFor","ngForOf"],[1,"nav"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Nb(2,"img",2),s.Ob(),s.Pb(3,"div",3),s.dc(4,eo,2,1,"div",4),s.Ob(),s.Ob()),2&t&&(s.Eb("white",e.isBackgroundWhite),s.Bb(4),s.Xb("ngForOf",e.navs))},directives:[J],styles:[".header-component[_ngcontent-%COMP%]{width:100%;height:100px;color:#fff;padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;flex-direction:row}.header-component.white[_ngcontent-%COMP%]{background-color:#fff;color:#000}.header-component[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .header-component[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.header-component[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex-direction:row;min-width:50%}.header-component[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{margin:0 1rem;font-size:1.5rem}"]}),ro),oo=((no=function(){function t(){f(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||no)},no.\u0275cmp=s.Gb({type:no,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"home-component"],[1,"tagline"],[1,"image"],["src","assets/images/kid2.png"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.ec(2," Ab sikho kuch bhi khien bhi!! "),s.Ob(),s.Pb(3,"div",2),s.Nb(4,"img",3),s.Ob(),s.Ob())},styles:[".home-component[_ngcontent-%COMP%]{background-color:#952e16;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:row;flex-wrap:wrap;min-height:100vh;width:100%;padding:0 1rem}.home-component[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:4rem;flex:1;font-weight:700;text-align:center}.home-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .home-component[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row}.home-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex:1}.home-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),no),ao=o("D0XW");function so(){return function(t){return t.lift(new uo)}}var uo=function(){function t(){f(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new co(t))}}]),t}(),co=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}($t.a),lo=function(){function t(e,n){f(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ho(t,this.compare,this.keySelector))}}]),t}(),ho=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}($t.a),fo=o("pxpQ"),po=o("spgP"),vo=o("Jgta"),yo=o("zIRd"),go=o("qOnz"),mo=o("q/0M"),bo=function(t,e){return(bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function wo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _o,ko="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oo=Oo||{},So=ko||self;function Co(){}function Eo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function To(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Io="closure_uid_"+(1e9*Math.random()>>>0),Ao=0;function xo(t,e,n){return t.call.apply(t.bind,arguments)}function jo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Po(t,e,n){return(Po=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xo:jo).apply(null,arguments)}function No(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Do(){return Date.now()}function Ro(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Mo(){this.j=this.j,this.i=this.i}Mo.prototype.j=!1,Mo.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Io)&&t[Io]||(t[Io]=++Ao)}(this)},Mo.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Lo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Vo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Fo(t){return Array.prototype.concat.apply([],arguments)}function Uo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function qo(t){return/^[\s\xa0]*$/.test(t)}var Bo,Ho=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function zo(t,e){return-1!=t.indexOf(e)}function Go(t,e){return t<e?-1:t>e?1:0}t:{var Ko=So.navigator;if(Ko){var Wo=Ko.userAgent;if(Wo){Bo=Wo;break t}}Bo=""}function Qo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Yo(t){var e={};for(var n in t)e[n]=t[n];return e}var Xo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Xo.length;o++)n=Xo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zo(t){return Zo[" "](t),t}Zo[" "]=Co;var $o,ta,ea=zo(Bo,"Opera"),na=zo(Bo,"Trident")||zo(Bo,"MSIE"),ra=zo(Bo,"Edge"),ia=ra||na,oa=zo(Bo,"Gecko")&&!(zo(Bo.toLowerCase(),"webkit")&&!zo(Bo,"Edge"))&&!(zo(Bo,"Trident")||zo(Bo,"MSIE"))&&!zo(Bo,"Edge"),aa=zo(Bo.toLowerCase(),"webkit")&&!zo(Bo,"Edge");function sa(){var t=So.document;return t?t.documentMode:void 0}t:{var ua="",ca=(ta=Bo,oa?/rv:([^\);]+)(\)|;)/.exec(ta):ra?/Edge\/([\d\.]+)/.exec(ta):na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ta):aa?/WebKit\/(\S+)/.exec(ta):ea?/(?:Version)[ \/]?(\S+)/.exec(ta):void 0);if(ca&&(ua=ca?ca[1]:""),na){var la=sa();if(null!=la&&la>parseFloat(ua)){$o=String(la);break t}}$o=ua}var ha={};function fa(t){return function(t,e){var n=ha;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ho(String($o)).split("."),r=Ho(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Go(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Go(0==a[2].length,0==s[2].length)||Go(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var da=So.document&&na&&(sa()||parseInt($o,10))||void 0,pa=!na||9<=Number(da),va=na&&!fa("9"),ya=function(){if(!So.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{So.addEventListener("test",Co,e),So.removeEventListener("test",Co,e)}catch(n){}return t}();function ga(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ma(t,e){if(ga.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(oa){t:{try{Zo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ba[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ga.prototype.b=function(){this.defaultPrevented=!0},Ro(ma,ga);var ba={2:"touch",3:"pen",4:"mouse"};ma.prototype.b=function(){ma.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,va)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var wa="closure_listenable_"+(1e6*Math.random()|0),_a=0;function ka(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++_a,this.Y=this.Z=!1}function Oa(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function Sa(t){this.src=t,this.a={},this.b=0}function Ca(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Lo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Oa(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ea(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}Sa.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ea(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ka(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ta="closure_lm_"+(1e6*Math.random()|0),Ia={};function Aa(t,e,n,r,i){if(r&&r.once)return ja(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Aa(t,e[o],n,r,i);return null}return n=Fa(n),t&&t[wa]?t.wa(e,n,To(r)?!!r.capture:!!r,i):xa(t,e,n,!1,r,i)}function xa(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=To(i)?!!i.capture:!!i;if(a&&!pa)return null;var s=La(t);if(s||(t[Ta]=s=new Sa(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Ma,e=pa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ya||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Da(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ja(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ja(t,e[o],n,r,i);return null}return n=Fa(n),t&&t[wa]?t.xa(e,n,To(r)?!!r.capture:!!r,i):xa(t,e,n,!0,r,i)}function Pa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Pa(t,e[o],n,r,i);else r=To(r)?!!r.capture:!!r,n=Fa(n),t&&t[wa]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ea(o=t.a[e],n,r,i))&&(Oa(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=La(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ea(e,n,r,i)),(n=-1<t?e[t]:null)&&Na(n))}function Na(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[wa])Ca(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Da(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=La(e))?(Ca(n,t),0==n.b&&(n.src=null,e[Ta]=null)):Oa(t)}}}function Da(t){return t in Ia?Ia[t]:Ia[t]="on"+t}function Ra(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Na(t),n.call(r,e)}function Ma(t,e){if(t.Y)return!0;if(!pa){if(!e)t:{e=["window","event"];for(var n=So,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ra(t,e=new ma(e,this))}return Ra(t,new ma(e,this))}function La(t){return(t=t[Ta])instanceof Sa?t:null}var Va="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fa(t){return"function"==typeof t?t:(t[Va]||(t[Va]=function(e){return t.handleEvent(e)}),t[Va])}function Ua(){Mo.call(this),this.c=new Sa(this),this.J=this,this.D=null}function qa(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ga(e,t);else if(e instanceof ga)e.target=e.target||t;else{var i=e;Jo(e=new ga(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Ba(a,r,!0,e)&&i}if(i=Ba(a=e.a=t,r,!0,e)&&i,i=Ba(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ba(a=e.a=n[o],r,!1,e)&&i}function Ba(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&Ca(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ro(Ua,Mo),Ua.prototype[wa]=!0,(_o=Ua.prototype).addEventListener=function(t,e,n,r){Aa(this,t,e,n,r)},_o.removeEventListener=function(t,e,n,r){Pa(this,t,e,n,r)},_o.H=function(){if(Ua.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Oa(n[r]);delete e.a[t],e.b--}}this.D=null},_o.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_o.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ha=So.JSON.stringify;function za(){this.b=this.a=null}var Ga,Ka=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Qa},function(t){t.reset()});function Wa(){var t=Za,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Qa(){this.next=this.b=this.a=null}function Ya(t){So.setTimeout(function(){throw t},0)}function Xa(t,e){Ga||function(){var t=So.Promise.resolve(void 0);Ga=function(){t.then($a)}}(),Ja||(Ga(),Ja=!0),Za.add(t,e)}za.prototype.add=function(t,e){var n=Ka.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qa.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Qa.prototype.reset=function(){this.next=this.b=this.a=null};var Ja=!1,Za=new za;function $a(){for(var t;t=Wa();){try{t.a.call(t.b)}catch(n){Ya(n)}var e=Ka;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ja=!1}function ts(t,e){Ua.call(this),this.b=t||1,this.a=e||So,this.f=Po(this.eb,this),this.g=Do()}function es(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ns(t,e,n){if("function"==typeof t)n&&(t=Po(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Po(t.handleEvent,t)}return 2147483647<Number(e)?-1:So.setTimeout(t,e||0)}function rs(t){t.a=ns(function(){t.a=null,t.c&&(t.c=!1,rs(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ro(ts,Ua),(_o=ts.prototype).aa=!1,_o.M=null,_o.eb=function(){if(this.aa){var t=Do()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),qa(this,"tick"),this.aa&&(es(this),this.start()))}},_o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Do())},_o.H=function(){ts.X.H.call(this),es(this),delete this.a};var is=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}bo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:rs(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(So.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Mo);function os(t){Mo.call(this),this.b=t,this.a={}}Ro(os,Mo);var as=[];function ss(t,e,n,r){Array.isArray(n)||(n&&(as[0]=n.toString()),n=as);for(var i=0;i<n.length;i++){var o=Aa(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function us(t){Qo(t.a,function(t,e){this.a.hasOwnProperty(e)&&Na(t)},t),t.a={}}function cs(){this.a=!0}function ls(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ha(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}os.prototype.H=function(){os.X.H.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cs.prototype.info=function(){};var hs={},fs=null;function ds(){return fs=fs||new Ua}function ps(t){ga.call(this,hs.Ga,t)}function vs(t){var e=ds();qa(e,new ps(e,t))}function ys(t,e){ga.call(this,hs.STAT_EVENT,t),this.stat=e}function gs(t){var e=ds();qa(e,new ys(e,t))}function ms(t){ga.call(this,hs.Ha,t)}function bs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return So.setTimeout(function(){t()},e)}hs.Ga="serverreachability",Ro(ps,ga),hs.STAT_EVENT="statevent",Ro(ys,ga),hs.Ha="timingevent",Ro(ms,ga);var ws={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},_s={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function ks(){}function Os(){}ks.prototype.b=null;var Ss,Cs={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function Es(){ga.call(this,"d")}function Ts(){ga.call(this,"c")}function Is(){}function As(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new os(this),this.P=xs,this.R=new ts(t=ia?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ro(Es,ga),Ro(Ts,ga),Ro(Is,ks),Is.prototype.a=function(){return new XMLHttpRequest},Is.prototype.c=function(){return{}},Ss=new Is;var xs=45e3,js={},Ps={};function Ns(t,e,n){t.G=1,t.i=eu(Ys(e)),t.j=n,t.I=!0,Ds(t,null)}function Ds(t,e){t.u=Do(),Ls(t),t.l=Ys(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),pu(n.b,"t",r),t.D=0,t.a=uc(t.g,t.g.C?e:null),0<t.O&&(t.F=new is(Po(t.Da,t,t.a),t.O)),ss(t.J,t.a,"readystatechange",t.bb),e=t.B?Yo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),vs(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Rs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ms(t,n);if(i==Ps){4==e&&(t.h=4,gs(14),r=!1),ls(t.c,t.f,null,"[Incomplete Response]");break}if(i==js){t.h=4,gs(15),ls(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ls(t.c,t.f,i,null),Bs(t,i)}4==e&&0==n.length&&(t.h=1,gs(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),tc(e),e.F=!0,gs(11))):(ls(t.c,t.f,n,"[Invalid Chunked Response]"),qs(t),Us(t))}function Ms(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ps:(n=Number(e.substring(n,r)),isNaN(n)?js:(r+=1)+n>e.length?Ps:(e=e.substr(r,n),t.D=r+n,e))}function Ls(t){t.T=Do()+t.P,Vs(t,t.P)}function Vs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=bs(Po(t.$a,t),e)}function Fs(t){t.o&&(So.clearTimeout(t.o),t.o=null)}function Us(t){0==t.g.v||t.A||rc(t.g,t)}function qs(t){Fs(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,es(t.R),us(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function Bs(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||_u(n.b,t)))if(n.I=t.N,!t.C&&_u(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(hb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;nc(n),Gu(n)}$u(n),gs(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=bs(Po(n.Xa,n),6e3));if(1>=wu(n.b)&&n.fa){try{n.fa()}catch(hb){}n.fa=void 0}}else oc(n,11)}else if((t.C||n.a==t)&&nc(n),!qo(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var a=i[4];null!=a&&(n.qa=a,n.c.info("SVER="+n.qa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(zo(l,"spdy")||zo(l,"quic")||zo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ku(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,tu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=Do()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=sc(u,u.C?u.ha:null,u.ga),d.C){Ou(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Fs(p),Ls(p)),u.a=d}else Zu(u);0<n.g.length&&Qu(n)}else"stop"!=i[0]&&"close"!=i[0]||oc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?oc(n,7):zu(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);vs(4)}catch(hb){}}function Hs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Eo(t)||"string"==typeof t)Vo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Eo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Eo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function zs(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zs)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Gs(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ks(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ks(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ks(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_o=As.prototype).setTimeout=function(t){this.P=t},_o.bb=function(t){t=t.target;var e=this.F;e&&3==Uu(t)?e.f():this.Da(t)},_o.Da=function(t){try{if(t==this.a)t:{var e=Uu(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!ia&&!this.a.$())){this.A||4!=e||7==n||vs(8==n||0>=r?3:2),Fs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qo(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,gs(12),qs(this),Us(this);break t}ls(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Bs(this,u)}this.I?(Rs(this,e,o),ia&&this.b&&3==e&&(ss(this.J,this.R,"tick",this.ab),this.R.start())):(ls(this.c,this.f,o,null),Bs(this,o)),4==e&&qs(this),this.b&&!this.A&&(4==e?rc(this.g,this):(this.b=!1,Ls(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,gs(12)):(this.h=0,gs(13)),qs(this),Us(this)}}}catch(c){}},_o.ab=function(){if(this.a){var t=Uu(this.a),e=this.a.$();this.D<e.length&&(Fs(this),Rs(this,t,e),this.b&&4!=t&&Ls(this))}},_o.cancel=function(){this.A=!0,qs(this)},_o.$a=function(){this.o=null;var t=Do();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(vs(3),gs(17)),qs(this),this.h=2,Us(this)):Vs(this,this.T-t)},(_o=zs.prototype).K=function(){Gs(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_o.L=function(){return Gs(this),this.a.concat()},_o.get=function(t,e){return Ks(this.b,t)?this.b[t]:e},_o.set=function(t,e){Ks(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ws=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qs(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Qs){this.a=void 0!==e?e:t.a,Xs(this,t.f),this.j=t.j,Js(this,t.c),Zs(this,t.h),this.g=t.g,e=t.b;var n=new lu;n.c=e.c,e.a&&(n.a=new zs(e.a),n.b=e.b),$s(this,n),this.i=t.i}else t&&(n=String(t).match(Ws))?(this.a=!!e,Xs(this,n[1]||"",!0),this.j=nu(n[2]||""),Js(this,n[3]||"",!0),Zs(this,n[4]),this.g=nu(n[5]||"",!0),$s(this,n[6]||"",!0),this.i=nu(n[7]||"")):(this.a=!!e,this.b=new lu(null,this.a))}function Ys(t){return new Qs(t)}function Xs(t,e,n){t.f=n?nu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Js(t,e,n){t.c=n?nu(e,!0):e}function Zs(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function $s(t,e,n){e instanceof lu?(t.b=e,function(t,e){e&&!t.f&&(hu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(fu(this,e),pu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ru(e,uu)),t.b=new lu(e,t.a))}function tu(t,e,n){t.b.set(e,n)}function eu(t){return tu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Do()).toString(36)),t}function nu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ru(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,iu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Qs.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ru(e,ou,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ru(e,ou,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ru(n,"/"==n.charAt(0)?su:au,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ru(n,cu)),t.join("")};var ou=/[#\/\?@]/g,au=/[#\?:]/g,su=/[#\?]/g,uu=/[#\?@]/g,cu=/#/g;function lu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function hu(t){t.a||(t.a=new zs,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function fu(t,e){hu(t),e=vu(t,e),Ks(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ks((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Gs(t)))}function du(t,e){return hu(t),e=vu(t,e),Ks(t.a.b,e)}function pu(t,e,n){fu(t,e),0<n.length&&(t.c=null,t.a.set(vu(t,e),Uo(n)),t.b+=n.length)}function vu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_o=lu.prototype).add=function(t,e){hu(this),this.c=null,t=vu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_o.forEach=function(t,e){hu(this),this.a.forEach(function(n,r){Vo(n,function(n){t.call(e,n,r,this)},this)},this)},_o.L=function(){hu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},_o.K=function(t){hu(this);var e=[];if("string"==typeof t)du(this,t)&&(e=Fo(e,this.a.get(vu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Fo(e,t[n])}return e},_o.set=function(t,e){return hu(this),this.c=null,du(this,t=vu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var yu=function(t,e){this.b=t,this.a=e};function gu(t){this.g=t||mu,t=So.PerformanceNavigationTiming?0<(t=So.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(So.ja&&So.ja.za&&So.ja.za()&&So.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var mu=10;function bu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function wu(t){return t.b?1:t.a?t.a.size:0}function _u(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ku(t,e){t.a?t.a.add(e):t.b=e}function Ou(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Su(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=wo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Uo(t.c)}function Cu(){}function Eu(){this.a=new Cu}function Tu(t,e,n){var r=n||"";try{Hs(t,function(t,n){var i=t;To(t)&&(i=Ha(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Rb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Rb}}function Iu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}gu.prototype.cancel=function(){var t,e;if(this.c=Su(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=wo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Cu.prototype.stringify=function(t){return So.JSON.stringify(t,void 0)},Cu.prototype.parse=function(t){return So.JSON.parse(t,void 0)};var Au=So.JSON.parse;function xu(t){Ua.call(this),this.headers=new zs,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=ju,this.F=this.G=!1}Ro(xu,Ua);var ju="",Pu=/^https?$/i,Nu=["POST","PUT"];function Du(t){return"content-type"==t.toLowerCase()}function Ru(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Mu(t),Vu(t)}function Mu(t){t.A||(t.A=!0,qa(t,"complete"),qa(t,"error"))}function Lu(t){if(t.b&&void 0!==Oo&&(!t.u[1]||4!=Uu(t)||2!=t.W()))if(t.m&&4==Uu(t))ns(t.Aa,0,t);else if(qa(t,"readystatechange"),4==Uu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(Ws)[1]||null;if(!o&&So.self&&So.self.location){var a=So.self.location.protocol;o=a.substr(0,a.length-1)}i=!Pu.test(o?o.toLowerCase():"")}e=i}if(e)qa(t,"complete"),qa(t,"success");else{t.h=6;try{var s=2<Uu(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Mu(t)}}finally{Vu(t)}}}function Vu(t,e){if(t.a){Fu(t);var n=t.a,r=t.u[0]?Co:null;t.a=null,t.u=null,e||qa(t,"ready");try{n.onreadystatechange=r}catch(Rb){}}}function Fu(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(So.clearTimeout(t.o),t.o=null)}function Uu(t){return t.a?t.a.readyState:0}function qu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Qo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):tu(t,e,n))}function Bu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Hu(t){this.qa=0,this.g=[],this.c=new cs,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Bu("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Bu("baseRetryDelayMs",5e3,t),this.Sa=Bu("retryDelaySeedMs",1e4,t),this.Na=Bu("forwardChannelMaxRetries",2,t),this.na=Bu("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new gu(t&&t.concurrentRequestLimit),this.la=new Eu,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function zu(t){if(Ku(t),3==t.v){var e=t.R++,n=Ys(t.B);tu(n,"SID",t.J),tu(n,"RID",e),tu(n,"TYPE","terminate"),Xu(t,n),(e=new As(t,t.c,e,void 0)).G=2,e.i=eu(Ys(n)),n=!1,So.navigator&&So.navigator.sendBeacon&&(n=So.navigator.sendBeacon(e.i.toString(),"")),!n&&So.Image&&((new Image).src=e.i,n=!0),n||(e.a=uc(e.g,null),e.a.ba(e.i)),e.u=Do(),Ls(e)}ac(t)}function Gu(t){t.a&&(tc(t),t.a.cancel(),t.a=null)}function Ku(t){Gu(t),t.j&&(So.clearTimeout(t.j),t.j=null),nc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&So.clearTimeout(t.h),t.h=null)}function Wu(t,e){t.g.push(new yu(t.Pa++,e)),3==t.v&&Qu(t)}function Qu(t){bu(t.b)||t.h||(t.h=!0,Xa(t.Ca,t),t.u=0)}function Yu(t,e){var n;n=e?e.f:t.R++;var r=Ys(t.B);tu(r,"SID",t.J),tu(r,"RID",n),tu(r,"AID",t.P),Xu(t,r),t.i&&t.l&&qu(r,t.i,t.l),n=new As(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ju(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),ku(t.b,n),Ns(n,r,e)}function Xu(t,e){t.f&&Hs({},function(t,n){tu(e,n,t)})}function Ju(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Po(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Tu(l,a,"req"+c+"_")}catch(Gc){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Zu(t){t.a||t.j||(t.T=1,Xa(t.Ba,t),t.o=0)}function $u(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=bs(Po(t.Ba,t),ic(t,t.o)),t.o++,0))}function tc(t){null!=t.s&&(So.clearTimeout(t.s),t.s=null)}function ec(t){t.a=new As(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ys(t.ma);tu(e,"RID","rpc"),tu(e,"SID",t.J),tu(e,"CI",t.G?"0":"1"),tu(e,"AID",t.P),Xu(t,e),tu(e,"TYPE","xmlhttp"),t.i&&t.l&&qu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=eu(Ys(e)),n.j=null,n.I=!0,Ds(n,t)}function nc(t){null!=t.m&&(So.clearTimeout(t.m),t.m=null)}function rc(t,e){var n=null;if(t.a==e){nc(t),tc(t),t.a=null;var r=2}else{if(!_u(t.b,e))return;n=e.s,Ou(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Do()-e.u;var i=t.u;qa(r=ds(),new ms(r,n,e,i)),Qu(t)}else Zu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(wu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=bs(Po(t.Ca,t,e),ic(t,t.u)),t.u++,0)))}(t,e)||2==r&&$u(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:oc(t,5);break;case 4:oc(t,10);break;case 3:oc(t,6);break;default:oc(t,2)}}function ic(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function oc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Po(t.cb,t);n||(n=new Qs("//www.google.com/images/cleardot.gif"),So.location&&"http"==So.location.protocol||Xs(n,"https"),eu(n)),function(t,e){var n=new cs;if(So.Image){var r=new Image;r.onload=No(Iu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=No(Iu,n,r,"TestLoadImage: error",!1,e),r.onabort=No(Iu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=No(Iu,n,r,"TestLoadImage: timeout",!1,e),So.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else gs(2);t.v=0,t.f&&t.f.sa(e),ac(t),Ku(t)}function ac(t){t.v=0,t.I=-1,t.f&&(0==Su(t.b).length&&0==t.g.length||(t.b.c.length=0,Uo(t.g),t.g.length=0),t.f.ra())}function sc(t,e,n){var r=function(t){return t instanceof Qs?Ys(t):new Qs(t,void 0)}(n);if(""!=r.c)e&&Js(r,e+"."+r.c),Zs(r,r.h);else{var i=So.location;r=function(t,e,n,r){var i=new Qs(null,void 0);return t&&Xs(i,t),e&&Js(i,e),n&&Zs(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Qo(t.V,function(t,e){tu(r,e,t)}),n=t.oa,(e=t.A)&&n&&tu(r,e,n),tu(r,"VER",t.ia),Xu(t,r),r}function uc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xu(t.Oa)).G=t.C,e}function cc(){}function lc(){if(na&&!(10<=Number(da)))throw Error("Environmental error: no available transport.")}function hc(t,e){Ua.call(this),this.a=new Hu(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!qo(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new pc(this)}function fc(t){Es.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function dc(){Ts.call(this),this.status=1}function pc(t){this.a=t}function vc(t){this.f=t}function yc(t){Ua.call(this),this.u=t,this.h=void 0,this.readyState=gc,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(_o=xu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Ss.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Ss),this.a.onreadystatechange=Po(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void Ru(this,o)}t=n||"";var i=new zs(this.headers);r&&Hs(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Du,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=So.FormData&&t instanceof So.FormData,!(0<=Lo(Nu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Fu(this),0<this.s&&((this.F=function(t){return na&&fa(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=Po(this.ya,this)):this.o=ns(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){Ru(this,o)}},_o.ya=function(){void 0!==Oo&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,qa(this,"timeout"),this.abort(8))},_o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,qa(this,"complete"),qa(this,"abort"),Vu(this))},_o.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Vu(this,!0)),xu.X.H.call(this)},_o.Aa=function(){this.j||(this.B||this.m||this.g?Lu(this):this.Za())},_o.Za=function(){Lu(this)},_o.W=function(){try{return 2<Uu(this)?this.a.status:-1}catch(ta){return-1}},_o.$=function(){try{return this.a?this.a.responseText:""}catch(ta){return""}},_o.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Au(e)}},_o.va=function(){return this.h},_o.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(_o=Hu.prototype).ia=8,_o.v=1,_o.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new As(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Jo(r=Yo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ju(this,n,e),tu(i=Ys(this.B),"RID",t),tu(i,"CVER",22),this.A&&tu(i,"X-HTTP-Session-Id",this.A),Xu(this,i),this.i&&r&&qu(i,this.i,r),ku(this.b,n),this.Ja&&tu(i,"TYPE","init"),this.ea?(tu(i,"$req",e),tu(i,"SID","null"),n.U=!0,Ns(n,i,null)):Ns(n,i,e),this.v=2}}else 3==this.v&&(t?Yu(this,t):0==this.g.length||bu(this.b)||Yu(this))},_o.Ba=function(){if(this.j=null,ec(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=bs(Po(this.Ya,this),t)}},_o.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,gs(10),Gu(this),ec(this))},_o.Xa=function(){null!=this.m&&(this.m=null,Gu(this),$u(this),gs(19))},_o.cb=function(t){t?(this.c.info("Successfully pinged google.com"),gs(2)):(this.c.info("Failed to ping google.com"),gs(1))},(_o=cc.prototype).ua=function(){},_o.ta=function(){},_o.sa=function(){},_o.ra=function(){},_o.Ka=function(){},lc.prototype.a=function(t,e){return new hc(t,e)},Ro(hc,Ua),hc.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;gs(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=sc(t,null,t.ga),Qu(t)},hc.prototype.close=function(){zu(this.a)},hc.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,Wu(this.a,e)}else this.m?((e={}).__data__=Ha(t),Wu(this.a,e)):Wu(this.a,t)},hc.prototype.H=function(){this.a.f=null,delete this.f,zu(this.a),delete this.a,hc.X.H.call(this)},Ro(fc,Es),Ro(dc,Ts),Ro(pc,cc),pc.prototype.ua=function(){qa(this.a,"a")},pc.prototype.ta=function(t){qa(this.a,new fc(t))},pc.prototype.sa=function(t){qa(this.a,new dc(t))},pc.prototype.ra=function(){qa(this.a,"b")},Ro(vc,ks),vc.prototype.a=function(){return new yc(this.f)},vc.prototype.c=function(t){return function(){return t}}({}),Ro(yc,Ua);var gc=0;function mc(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function bc(t){t.readyState=4,t.g=null,t.f=null,t.m=null,wc(t)}function wc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(_o=yc.prototype).open=function(t,e){if(this.readyState!=gc)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,wc(this)},_o.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},_o.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,bc(this)),this.readyState=gc},_o.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,wc(this)),this.a&&(this.readyState=3,wc(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==So.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,mc(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},_o.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?bc(this):wc(this),3==this.readyState&&mc(this)}},_o.Va=function(t){this.a&&(this.responseText=t,bc(this))},_o.Ua=function(){this.a&&bc(this)},_o.ca=function(){this.a&&bc(this)},_o.setRequestHeader=function(t,e){this.l.append(t,e)},_o.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},_o.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(yc.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),lc.prototype.createWebChannel=lc.prototype.a,hc.prototype.send=hc.prototype.l,hc.prototype.open=hc.prototype.h,hc.prototype.close=hc.prototype.close,ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,_s.COMPLETE="complete",Os.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",Ua.prototype.listen=Ua.prototype.wa,xu.prototype.listenOnce=xu.prototype.xa,xu.prototype.getLastError=xu.prototype.Ra,xu.prototype.getLastErrorCode=xu.prototype.va,xu.prototype.getStatus=xu.prototype.W,xu.prototype.getResponseJson=xu.prototype.Qa,xu.prototype.getResponseText=xu.prototype.$,xu.prototype.send=xu.prototype.ba;var _c=ws,kc=_s,Oc=hs,Sc=vc,Cc=Os,Ec=xu,Tc=o("mrSG"),Ic=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ic.o=-1;var Ac={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Tc.c)(e,t),e}(Error),jc=new mo.b("@firebase/firestore");function Pc(){return jc.logLevel}function Nc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jc.logLevel<=mo.a.DEBUG){var r=e.map(Mc);jc.debug.apply(jc,Object(Tc.f)(["Firestore (8.6.7): "+t],r))}}function Dc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jc.logLevel<=mo.a.ERROR){var r=e.map(Mc);jc.error.apply(jc,Object(Tc.f)(["Firestore (8.6.7): "+t],r))}}function Rc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jc.logLevel<=mo.a.WARN){var r=e.map(Mc);jc.warn.apply(jc,Object(Tc.f)(["Firestore (8.6.7): "+t],r))}}function Mc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Rb){return t}}function Lc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.7) INTERNAL ASSERTION FAILED: "+t;throw Dc(e),new Error(e)}function Vc(t,e){t||Lc()}function Fc(t,e){return t}function Uc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var qc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Uc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Bc(t,e){return t<e?-1:t>e?1:0}function Hc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function zc(t){return t+"\0"}var Gc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xc(Ac.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xc(Ac.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xc(Ac.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xc(Ac.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Bc(this.nanoseconds,t.nanoseconds):Bc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Kc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Gc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Wc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Lc(),void 0===n?n=t.length-e:n>t.length-e&&Lc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new xc(Ac.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Xc),Zc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Zc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new xc(Ac.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new xc(Ac.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xc(Ac.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new xc(Ac.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Xc),tl=function(){function t(t){this.fields=t,t.sort($c.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Hc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),el=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Bc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();el.EMPTY_BYTE_STRING=new el("");var nl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rl(t){if(Vc(!!t),"string"==typeof t){var e=0,n=nl.exec(t);if(Vc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:il(t.seconds),nanos:il(t.nanos)}}function il(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ol(t){return"string"==typeof t?el.fromBase64String(t):el.fromUint8Array(t)}function al(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sl(t){var e=t.mapValue.fields.__previous_value__;return al(e)?sl(e):e}function ul(t){var e=rl(t.mapValue.fields.__local_write_time__.timestampValue);return new Gc(e.seconds,e.nanos)}function cl(t){return null==t}function ll(t){return 0===t&&1/t==-1/0}function hl(t){return"number"==typeof t&&Number.isInteger(t)&&!ll(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var fl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Jc.fromString(e))},t.fromName=function(e){return new t(Jc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Jc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Jc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Jc(e.slice()))},t}();function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?al(t)?4:10:Lc()}function pl(t,e){var n=dl(t);if(n!==dl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ul(t).isEqual(ul(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=rl(t.timestampValue),r=rl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ol(t.bytesValue).isEqual(ol(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return il(t.geoPointValue.latitude)===il(e.geoPointValue.latitude)&&il(t.geoPointValue.longitude)===il(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return il(t.integerValue)===il(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=il(t.doubleValue),r=il(e.doubleValue);return n===r?ll(n)===ll(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Hc(t.arrayValue.values||[],e.arrayValue.values||[],pl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Wc(n)!==Wc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pl(n[i],r[i])))return!1;return!0}(t,e);default:return Lc()}}function vl(t,e){return void 0!==(t.values||[]).find(function(t){return pl(t,e)})}function yl(t,e){var n=dl(t),r=dl(e);if(n!==r)return Bc(n,r);switch(n){case 0:return 0;case 1:return Bc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=il(t.integerValue||t.doubleValue),r=il(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return gl(t.timestampValue,e.timestampValue);case 4:return gl(ul(t),ul(e));case 5:return Bc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ol(t),r=ol(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Bc(n[i],r[i]);if(0!==o)return o}return Bc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Bc(il(t.latitude),il(e.latitude));return 0!==n?n:Bc(il(t.longitude),il(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=yl(n[i],r[i]);if(o)return o}return Bc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Bc(r[a],o[a]);if(0!==s)return s;var u=yl(n[r[a]],i[o[a]]);if(0!==u)return u}return Bc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Lc()}}function gl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Bc(t,e);var n=rl(t),r=rl(e),i=Bc(n.seconds,r.seconds);return 0!==i?i:Bc(n.nanos,r.nanos)}function ml(t){return bl(t)}function bl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=rl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ol(t.bytesValue).toBase64():"referenceValue"in t?fl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=bl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+bl(t.fields[o])}return e+"}"}(t.mapValue):Lc();var e}function wl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function _l(t){return!!t&&"integerValue"in t}function kl(t){return!!t&&"arrayValue"in t}function Ol(t){return!!t&&"nullValue"in t}function Sl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cl(t){return!!t&&"mapValue"in t}function El(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},rl(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return Qc(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=El(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=El(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Tl=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Cl(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(e)},t.prototype.setAll=function(t){var e=this,n=$c.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=El(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Cl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return pl(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Cl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Qc(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(El(this.value))},t}();function Il(t){var e=[];return Qc(t.fields,function(t,n){var r=new $c([t]);if(Cl(n)){var i=Il(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new tl(e)}var Al=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Kc.min(),Tl.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Tl.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Tl.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Tl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Tl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),xl=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function jl(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new xl(t,e,n,r,i,o,a)}function Pl(t){var e=Fc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ml(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),cl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Gl(e.startAt)),e.endAt&&(n+="|ub:",n+=Gl(e.endAt)),e.h=n}return e.h}function Nl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Wl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!pl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yl(t.startAt,e.startAt)&&Yl(t.endAt,e.endAt)}function Dl(t){return fl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Rl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Tc.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ml(t,n,r):"array-contains"===n?new Ul(t,r):"in"===n?new ql(t,r):"not-in"===n?new Bl(t,r):"array-contains-any"===n?new Hl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ll(t,n):new Vl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(yl(e,this.value)):null!==e&&dl(this.value)===dl(e)&&this.m(yl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Lc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ml=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=fl.fromName(r.referenceValue),i}return Object(Tc.c)(e,t),e.prototype.matches=function(t){var e=fl.comparator(t.key,this.key);return this.m(e)},e}(Rl),Ll=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Fl(0,n),r}return Object(Tc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Rl),Vl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Fl(0,n),r}return Object(Tc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Rl);function Fl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return fl.fromName(t.referenceValue)})}var Ul=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Tc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return kl(e)&&vl(e.arrayValue,this.value)},e}(Rl),ql=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Tc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&vl(this.value.arrayValue,e)},e}(Rl),Bl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Tc.c)(e,t),e.prototype.matches=function(t){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!vl(this.value.arrayValue,e)},e}(Rl),Hl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Tc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!kl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return vl(e.value.arrayValue,t)})},e}(Rl),zl=function(t,e){this.position=t,this.before=e};function Gl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ml(t)}).join(",")}var Kl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Wl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ql(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?fl.comparator(fl.fromName(a.referenceValue),n.key):yl(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Yl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!pl(t.position[n],e.position[n]))return!1;return!0}var Xl=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Jl(t,e,n,r,i,o,a,s){return new Xl(t,e,n,r,i,o,a,s)}function Zl(t){return new Xl(t)}function $l(t){return!cl(t.limit)&&"F"===t.limitType}function th(t){return!cl(t.limit)&&"L"===t.limitType}function eh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function nh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function rh(t){return null!==t.collectionGroup}function ih(t){var e=Fc(t);if(null===e.p){e.p=[];var n=nh(e),r=eh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Kl(n)),e.p.push(new Kl($c.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Kl($c.keyField(),u))}}}return e.p}function oh(t){var e=Fc(t);if(!e.T)if("F"===e.limitType)e.T=jl(e.path,e.collectionGroup,ih(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ih(e);r<i.length;r++){var o=i[r];n.push(new Kl(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new zl(e.endAt.position,!e.endAt.before):null,s=e.startAt?new zl(e.startAt.position,!e.startAt.before):null;e.T=jl(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function ah(t,e,n){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return Nl(oh(t),oh(e))&&t.limitType===e.limitType}function uh(t){return Pl(oh(t))+"|lt:"+t.limitType}function ch(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ml(e.value);var e}).join(", ")+"]"),cl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Gl(t.startAt)),t.endAt&&(e+=", endAt: "+Gl(t.endAt)),"Target("+e+")"}(oh(t))+"; limitType="+t.limitType+")"}function lh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):fl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ql(t.startAt,ih(t),e)||t.endAt&&Ql(t.endAt,ih(t),e))}(t,e)}function hh(t){return function(e,n){for(var r=!1,i=0,o=ih(t);i<o.length;i++){var a=o[i],s=fh(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function fh(t,e,n){var r=t.field.isKeyField()?fl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?yl(r,i):Lc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Lc()}}function dh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ll(e)?"-0":e}}function ph(t){return{integerValue:""+t}}function vh(t,e){return hl(e)?ph(e):dh(t,e)}var yh=function(){this._=void 0};function gh(t,e,n){return t instanceof wh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof _h?kh(t,e):t instanceof Oh?Sh(t,e):function(t,e){var n=bh(t,e),r=Eh(n)+Eh(t.A);return _l(n)&&_l(t.A)?ph(r):dh(t.R,r)}(t,e)}function mh(t,e,n){return t instanceof _h?kh(t,e):t instanceof Oh?Sh(t,e):n}function bh(t,e){return t instanceof Ch?_l(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tc.c)(e,t),e}(yh),_h=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Tc.c)(e,t),e}(yh);function kh(t,e){for(var n=Th(e),r=function(t){n.some(function(e){return pl(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Oh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Tc.c)(e,t),e}(yh);function Sh(t,e){for(var n=Th(e),r=function(t){n=n.filter(function(e){return!pl(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ch=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Tc.c)(e,t),e}(yh);function Eh(t){return il(t.integerValue||t.doubleValue)}function Th(t){return kl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ih=function(t,e){this.field=t,this.transform=e},Ah=function(t,e){this.version=t,this.transformResults=e},xh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function jh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ph=function(){};function Nh(t,e,n){t instanceof Vh?function(t,e,n){var r=t.value.clone(),i=qh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Fh?function(t,e,n){if(jh(t.precondition,e)){var r=qh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Uh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Dh(t,e,n){t instanceof Vh?function(t,e,n){if(jh(t.precondition,e)){var r=t.value.clone(),i=Bh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Lh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Fh?function(t,e,n){if(jh(t.precondition,e)){var r=Bh(t.fieldTransforms,n,e),i=e.data;i.setAll(Uh(t)),i.setAll(r),e.convertToFoundDocument(Lh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){jh(t.precondition,e)&&e.convertToNoDocument(Kc.min())}(t,e)}function Rh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=bh(o.transform,a||null);null!=s&&(null==n&&(n=Tl.empty()),n.set(o.field,s))}return n||null}function Mh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Hc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof _h&&e instanceof _h||t instanceof Oh&&e instanceof Oh?Hc(t.elements,e.elements,pl):t instanceof Ch&&e instanceof Ch?pl(t.A,e.A):t instanceof wh&&e instanceof wh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Lh(t){return t.isFoundDocument()?t.version:Kc.min()}var Vh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Tc.c)(e,t),e}(Ph),Fh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(Tc.c)(e,t),e}(Ph);function Uh(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function qh(t,e,n){var r=new Map;Vc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,mh(a,s,n[i]))}return r}function Bh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,gh(s,u,e))}return r}var Hh,zh,Gh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Tc.c)(e,t),e}(Ph),Kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Tc.c)(e,t),e}(Ph),Wh=function(t){this.count=t};function Qh(t){switch(t){case Ac.OK:return Lc();case Ac.CANCELLED:case Ac.UNKNOWN:case Ac.DEADLINE_EXCEEDED:case Ac.RESOURCE_EXHAUSTED:case Ac.INTERNAL:case Ac.UNAVAILABLE:case Ac.UNAUTHENTICATED:return!1;case Ac.INVALID_ARGUMENT:case Ac.NOT_FOUND:case Ac.ALREADY_EXISTS:case Ac.PERMISSION_DENIED:case Ac.FAILED_PRECONDITION:case Ac.ABORTED:case Ac.OUT_OF_RANGE:case Ac.UNIMPLEMENTED:case Ac.DATA_LOSS:return!0;default:return Lc()}}function Yh(t){if(void 0===t)return Dc("GRPC error has no .code"),Ac.UNKNOWN;switch(t){case Hh.OK:return Ac.OK;case Hh.CANCELLED:return Ac.CANCELLED;case Hh.UNKNOWN:return Ac.UNKNOWN;case Hh.DEADLINE_EXCEEDED:return Ac.DEADLINE_EXCEEDED;case Hh.RESOURCE_EXHAUSTED:return Ac.RESOURCE_EXHAUSTED;case Hh.INTERNAL:return Ac.INTERNAL;case Hh.UNAVAILABLE:return Ac.UNAVAILABLE;case Hh.UNAUTHENTICATED:return Ac.UNAUTHENTICATED;case Hh.INVALID_ARGUMENT:return Ac.INVALID_ARGUMENT;case Hh.NOT_FOUND:return Ac.NOT_FOUND;case Hh.ALREADY_EXISTS:return Ac.ALREADY_EXISTS;case Hh.PERMISSION_DENIED:return Ac.PERMISSION_DENIED;case Hh.FAILED_PRECONDITION:return Ac.FAILED_PRECONDITION;case Hh.ABORTED:return Ac.ABORTED;case Hh.OUT_OF_RANGE:return Ac.OUT_OF_RANGE;case Hh.UNIMPLEMENTED:return Ac.UNIMPLEMENTED;case Hh.DATA_LOSS:return Ac.DATA_LOSS;default:return Lc()}}(zh=Hh||(Hh={}))[zh.OK=0]="OK",zh[zh.CANCELLED=1]="CANCELLED",zh[zh.UNKNOWN=2]="UNKNOWN",zh[zh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zh[zh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zh[zh.NOT_FOUND=5]="NOT_FOUND",zh[zh.ALREADY_EXISTS=6]="ALREADY_EXISTS",zh[zh.PERMISSION_DENIED=7]="PERMISSION_DENIED",zh[zh.UNAUTHENTICATED=16]="UNAUTHENTICATED",zh[zh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zh[zh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zh[zh.ABORTED=10]="ABORTED",zh[zh.OUT_OF_RANGE=11]="OUT_OF_RANGE",zh[zh.UNIMPLEMENTED=12]="UNIMPLEMENTED",zh[zh.INTERNAL=13]="INTERNAL",zh[zh.UNAVAILABLE=14]="UNAVAILABLE",zh[zh.DATA_LOSS=15]="DATA_LOSS";var Xh=function(){function t(t,e){this.comparator=t,this.root=e||Zh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Jh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Jh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Jh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Jh(this.root,t,this.comparator,!0)},t}(),Jh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Zh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Lc();if(this.right.isRed())throw Lc();var t=this.left.check();if(t!==this.right.check())throw Lc();return t+(this.isRed()?0:1)},t}();Zh.EMPTY=null,Zh.RED=!0,Zh.BLACK=!1,Zh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Lc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Lc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Lc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Lc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Lc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Zh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var $h=function(){function t(t){this.comparator=t,this.data=new Xh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new tf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new tf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),tf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ef=new Xh(fl.comparator);function nf(){return ef}var rf=new Xh(fl.comparator);function of(){return rf}var af=new Xh(fl.comparator);function sf(){return af}var uf=new $h(fl.comparator);function cf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=uf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var lf=new $h(Bc);function hf(){return lf}var ff=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Kc.min(),r,hf(),nf(),cf())},t}(),df=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(el.EMPTY_BYTE_STRING,n,cf(),cf(),cf())},t}(),pf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},vf=function(t,e){this.targetId=t,this.V=e},yf=function(t,e,n,r){void 0===n&&(n=el.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},gf=function(){function t(){this.S=0,this.D=wf(),this.C=el.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=cf(),e=cf(),n=cf();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Lc()}}),new df(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=wf()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),mf=function(){function t(t){this.W=t,this.G=new Map,this.H=nf(),this.J=bf(),this.Y=new $h(Bc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Lc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Dl(i))if(0===n){var o=new fl(i.path);this.tt(e,o,Al.newNoDocument(o,Kc.min()))}else Vc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Dl(o.target)){var a=new fl(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Al.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=cf();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ff(t,n,this.Y,this.H,r);return this.H=nf(),this.J=bf(),this.Y=new $h(Bc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new gf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new $h(Bc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Nc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new gf),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function bf(){return new Xh(fl.comparator)}function wf(){return new Xh(fl.comparator)}var _f={asc:"ASCENDING",desc:"DESCENDING"},kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Of=function(t,e){this.databaseId=t,this.I=e};function Sf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cf(t,e){return t.I?e.toBase64():e.toUint8Array()}function Ef(t,e){return Sf(t,e.toTimestamp())}function Tf(t){return Vc(!!t),Kc.fromTimestamp(function(t){var e=rl(t);return new Gc(e.seconds,e.nanos)}(t))}function If(t,e){return function(t){return new Jc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Af(t){var e=Jc.fromString(t);return Vc($f(e)),e}function xf(t,e){return If(t.databaseId,e.path)}function jf(t,e){var n=Af(e);if(n.get(1)!==t.databaseId.projectId)throw new xc(Ac.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xc(Ac.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fl(Rf(n))}function Pf(t,e){return If(t.databaseId,e)}function Nf(t){var e=Af(t);return 4===e.length?Jc.emptyPath():Rf(e)}function Df(t){return new Jc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Rf(t){return Vc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Mf(t,e,n){return{name:xf(t,e),fields:n.value.mapValue.fields}}function Lf(t,e,n){var r=jf(t,e.name),i=Tf(e.updateTime),o=new Tl({mapValue:{fields:e.fields}}),a=Al.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Vf(t,e){var n;if(e instanceof Vh)n={update:Mf(t,e.key,e.value)};else if(e instanceof Gh)n={delete:xf(t,e.key)};else if(e instanceof Fh)n={update:Mf(t,e.key,e.data),updateMask:Zf(e.fieldMask)};else{if(!(e instanceof Kh))return Lc();n={verify:xf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof wh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _h)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Oh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ch)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Lc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ef(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Lc()}(t,e.precondition)),n}function Ff(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?xh.updateTime(Tf(t.updateTime)):void 0!==t.exists?xh.exists(t.exists):xh.none()}(e.currentDocument):xh.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Vc("REQUEST_TIME"===e.setToServerValue),n=new wh):"appendMissingElements"in e?n=new _h(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Oh(e.removeAllFromArray.values||[]):"increment"in e?n=new Ch(t,e.increment):Lc();var r=$c.fromServerFormat(e.fieldPath);return new Ih(r,n)}(t,e)}):[];if(e.update){var i=jf(t,e.update.name),o=new Tl({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new tl((t.fieldPaths||[]).map(function(t){return $c.fromServerFormat(t)}))}(e.updateMask);return new Fh(i,o,a,n,r)}return new Vh(i,o,n,r)}if(e.delete){var s=jf(t,e.delete);return new Gh(s,n)}if(e.verify){var u=jf(t,e.verify);return new Kh(u,n)}return Lc()}function Uf(t,e){return{documents:[Pf(t,e.path)]}}function qf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Pf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Sl(t.value))return{unaryFilter:{field:Qf(t.field),op:"IS_NAN"}};if(Ol(t.value))return{unaryFilter:{field:Qf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Sl(t.value))return{unaryFilter:{field:Qf(t.field),op:"IS_NOT_NAN"}};if(Ol(t.value))return{unaryFilter:{field:Qf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qf(t.field),op:Wf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Qf(t.field),direction:Kf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||cl(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=zf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=zf(e.endAt)),n}function Bf(t){var e=Nf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Vc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Hf(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new Kl(Yf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return cl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Gf(n.startAt));var l=null;return n.endAt&&(l=Gf(n.endAt)),Jl(e,i,s,a,u,"F",c,l)}function Hf(t){return t?void 0!==t.unaryFilter?[Jf(t)]:void 0!==t.fieldFilter?[Xf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Hf(t)}).reduce(function(t,e){return t.concat(e)}):Lc():[]}function zf(t){return{before:t.before,values:t.position}}function Gf(t){return new zl(t.values||[],!!t.before)}function Kf(t){return _f[t]}function Wf(t){return kf[t]}function Qf(t){return{fieldPath:t.canonicalString()}}function Yf(t){return $c.fromServerFormat(t.fieldPath)}function Xf(t){return Rl.create(Yf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Lc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Jf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Yf(t.unaryFilter.field);return Rl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Yf(t.unaryFilter.field);return Rl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yf(t.unaryFilter.field);return Rl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yf(t.unaryFilter.field);return Rl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Lc()}}function Zf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function $f(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function td(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=nd(e)),e=ed(t.get(n),e);return nd(e)}function ed(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function nd(t){return t+"\x01\x01"}function rd(t){var e=t.length;if(Vc(e>=2),2===e)return Vc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Jc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Lc(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Lc()}o=a+2}return new Jc(r)}var id=function(t,e){this.seconds=t,this.nanoseconds=e},od=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};od.store="owner",od.key="owner";var ad=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ad.store="mutationQueues",ad.keyPath="userId";var sd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};sd.store="mutations",sd.keyPath="batchId",sd.userMutationsIndex="userMutationsIndex",sd.userMutationsKeyPath=["userId","batchId"];var ud=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,td(e)]},t.key=function(t,e,n){return[t,td(e),n]},t}();ud.store="documentMutations",ud.PLACEHOLDER=new ud;var cd=function(t,e){this.path=t,this.readTime=e},ld=function(t,e){this.path=t,this.version=e},hd=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};hd.store="remoteDocuments",hd.readTimeIndex="readTimeIndex",hd.readTimeIndexPath="readTime",hd.collectionReadTimeIndex="collectionReadTimeIndex",hd.collectionReadTimeIndexPath=["parentPath","readTime"];var fd=function(t){this.byteSize=t};fd.store="remoteDocumentGlobal",fd.key="remoteDocumentGlobalKey";var dd=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};dd.store="targets",dd.keyPath="targetId",dd.queryTargetsIndexName="queryTargetsIndex",dd.queryTargetsKeyPath=["canonicalId","targetId"];var pd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};pd.store="targetDocuments",pd.keyPath=["targetId","path"],pd.documentTargetsIndex="documentTargetsIndex",pd.documentTargetsKeyPath=["path","targetId"];var vd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};vd.key="targetGlobalKey",vd.store="targetGlobal";var yd=function(t,e){this.collectionId=t,this.parent=e};yd.store="collectionParents",yd.keyPath=["collectionId","parent"];var gd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};gd.store="clientMetadata",gd.keyPath="clientId";var md=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};md.store="bundles",md.keyPath="bundleId";var bd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};bd.store="namedQueries",bd.keyPath="name";var wd=Object(Tc.f)(Object(Tc.f)([],Object(Tc.f)(Object(Tc.f)([],Object(Tc.f)(Object(Tc.f)([],Object(Tc.f)(Object(Tc.f)([],[ad.store,sd.store,ud.store,hd.store,dd.store,od.store,vd.store,pd.store]),[gd.store])),[fd.store])),[yd.store])),[md.store,bd.store]),_d="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kd=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Od=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Sd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Lc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Cd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Od,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Id(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Nd(e.target.error);n.ft.reject(new Id(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Id(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Nc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new xd(e)},t}(),Ed=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(go.i)())&&Dc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Nc("SimpleDb","Removing database:",t),jd(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(go.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Tc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Tc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Nc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Id(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new xc(Ac.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Id(t,n))},i.onupgradeneeded=function(t){Nc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Nc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Tc.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(Tc.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(Tc.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=Cd.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),Sd.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Nc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Td=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return jd(this.Pt.delete())},t}(),Id=function(t){function e(e,n){var r=this;return(r=t.call(this,Ac.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Tc.c)(e,t),e}(xc);function Ad(t){return"IndexedDbTransactionError"===t.name}var xd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Nc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Nc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),jd(n)},t.prototype.add=function(t){return Nc("SimpleDb","ADD",this.store.name,t,t),jd(this.store.add(t))},t.prototype.get=function(t){var e=this;return jd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Nc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Nc("SimpleDb","DELETE",this.store.name,t),jd(this.store.delete(t))},t.prototype.count=function(){return Nc("SimpleDb","COUNT",this.store.name),jd(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Nc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Sd(function(n,r){e.onerror=function(t){var e=Nd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Sd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Td(i),a=e(i.primaryKey,i.value,o);if(a instanceof Sd){var s=a.catch(function(t){return o.done(),Sd.reject(t)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Sd.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function jd(t){return new Sd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Nd(t.target.error);n(e)}})}var Pd=!1;function Nd(t){var e=Ed._t(Object(go.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new xc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pd||(Pd=!0,setTimeout(function(){throw r},0)),r}}return t}var Dd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Tc.c)(e,t),e}(kd);function Rd(t,e){var n=Fc(t);return Ed.It(n.Mt,e)}var Md=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Nh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Dh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Dh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Kc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},cf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Hc(this.mutations,t.mutations,function(t,e){return Mh(t,e)})&&Hc(this.baseMutations,t.baseMutations,function(t,e){return Mh(t,e)})},t}(),Ld=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Vc(e.mutations.length===r.length);for(var i=sf(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Vd=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Kc.min()),void 0===o&&(o=Kc.min()),void 0===a&&(a=el.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Fd=function(t){this.Lt=t};function Ud(t,e){if(e.document)return Lf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=fl.fromSegments(e.noDocument.path),r=Gd(e.noDocument.readTime),i=Al.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=fl.fromSegments(e.unknownDocument.path);return r=Gd(e.unknownDocument.version),Al.newUnknownDocument(o,r)}return Lc()}function qd(t,e,n){var r=Bd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:xf(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Sf(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new hd(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=zd(e.version);return a=e.hasCommittedMutations,new hd(null,new cd(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=zd(e.version);return new hd(new ld(c,l),null,null,!0,r,i)}return Lc()}function Bd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hd(t){var e=new Gc(t[0],t[1]);return Kc.fromTimestamp(e)}function zd(t){var e=t.toTimestamp();return new id(e.seconds,e.nanoseconds)}function Gd(t){var e=new Gc(t.seconds,t.nanoseconds);return Kc.fromTimestamp(e)}function Kd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Ff(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Ff(t.Lt,e)}),o=Gc.fromMillis(e.localWriteTimeMs);return new Md(e.batchId,o,n,i)}function Wd(t){var e,n,r=Gd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Gd(t.lastLimboFreeSnapshotVersion):Kc.min();return void 0!==t.query.documents?(Vc(1===(n=t.query).documents.length),e=oh(Zl(Nf(n.documents[0])))):e=function(t){return oh(Bf(t))}(t.query),new Vd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,el.fromBase64String(t.resumeToken))}function Qd(t,e){var n,r=zd(e.snapshotVersion),i=zd(e.lastLimboFreeSnapshotVersion);n=Dl(e.target)?Uf(t.Lt,e.target):qf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new dd(e.targetId,Pl(e.target),r,o,e.sequenceNumber,i,n)}function Yd(t){var e=Bf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ah(e,e.limit,"L"):e}var Xd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Jd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Gd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Jd(t).put({bundleId:(n=e).id,createTime:zd(Tf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Zd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Yd(e.bundledQuery),readTime:Gd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Zd(t).put(function(t){return{name:t.name,readTime:zd(Tf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Jd(t){return Rd(t,md.store)}function Zd(t){return Rd(t,bd.store)}var $d=function(){function t(){this.Bt=new tp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Sd.resolve()},t.prototype.getCollectionParents=function(t,e){return Sd.resolve(this.Bt.getEntries(e))},t}(),tp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new $h(Jc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new $h(Jc.comparator)).toArray()},t}(),ep=function(){function t(){this.qt=new tp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:td(i)};return np(t).put(o)}return Sd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[zc(e),""],!1,!0);return np(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(rd(o.parent))}return n})},t}();function np(t){return Rd(t,yd.store)}var rp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ip=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function op(t,e,n){var r=t.store(sd.store),i=t.store(ud.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){Vc(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ud.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Sd.waitFor(o).next(function(){return c})}function ap(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Lc();e=t.noDocument}return JSON.stringify(e).length}ip.DEFAULT_COLLECTION_PERCENTILE=10,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ip.DEFAULT=new ip(41943040,ip.DEFAULT_COLLECTION_PERCENTILE,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ip.DISABLED=new ip(-1,0,0);var sp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Vc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cp(t).$t({index:sd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=lp(t),a=cp(t);return a.add({}).next(function(s){Vc("number"==typeof s);for(var u=new Md(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Vf(t.Lt,e)}),i=n.mutations.map(function(e){return Vf(t.Lt,e)});return new sd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new $h(function(t,e){return Bc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],v=ud.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,ud.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[s]=u.keys()}),Sd.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return cp(t).get(e).next(function(t){return t?(Vc(t.userId===n.userId),Kd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Sd.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return cp(t).$t({index:sd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Vc(e.batchId>=r),o=Kd(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return cp(t).$t({index:sd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cp(t).Nt(sd.userMutationsIndex,n).next(function(t){return t.map(function(t){return Kd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ud.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return lp(t).$t({range:i},function(r,i,a){var s=r[0],u=r[2],c=rd(r[1]);if(s===n.userId&&e.path.isEqual(c))return cp(t).get(u).next(function(t){if(!t)throw Lc();Vc(t.userId===n.userId),o.push(Kd(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $h(Bc),i=[];return e.forEach(function(e){var o=ud.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=lp(t).$t({range:a},function(t,i,o){var a=t[0],s=t[2],u=rd(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Sd.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ud.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new $h(Bc);return lp(t).$t({range:a},function(t,e,o){var a=t[0],u=t[2],c=rd(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Wt(t,s)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(cp(t).get(e).next(function(t){if(null===t)throw Lc();Vc(t.userId===n.userId),r.push(Kd(n.R,t))}))}),Sd.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return op(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Sd.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Sd.resolve();var r=IDBKeyRange.lowerBound(ud.prefixForUser(e.userId)),i=[];return lp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=rd(t[1]);i.push(o)}else r.done()}).next(function(){Vc(0===i.length)})})},t.prototype.containsKey=function(t,e){return up(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return hp(t).get(this.userId).next(function(t){return t||new ad(e.userId,-1,"")})},t}();function up(t,e,n){var r=ud.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return lp(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function cp(t){return Rd(t,sd.store)}function lp(t){return Rd(t,ud.store)}function hp(t){return Rd(t,ad.store)}var fp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),dp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new fp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Kc.fromTimestamp(new Gc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return pp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Vc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return pp(t).$t(function(a,s){var u=Wd(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Sd.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return pp(t).$t(function(t,n){var r=Wd(n);e(r)})},t.prototype.Xt=function(t){return vp(t).get(vd.key).next(function(t){return Vc(null!==t),t})},t.prototype.Zt=function(t,e){return vp(t).put(vd.key,e)},t.prototype.te=function(t,e){return pp(t).put(Qd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Pl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return pp(t).$t({range:r,index:dd.queryTargetsIndexName},function(t,n,r){var o=Wd(n);Nl(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=yp(t);return e.forEach(function(e){var a=td(e.path);i.push(o.put(new pd(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),Sd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=yp(t);return Sd.forEach(e,function(e){var o=td(e.path);return Sd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=yp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=yp(t),i=cf();return r.$t({range:n,kt:!0},function(t,e,n){var r=rd(t[1]),o=new fl(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=td(e.path),r=IDBKeyRange.bound([n],[zc(n)],!1,!0),i=0;return yp(t).$t({index:pd.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return pp(t).get(e).next(function(t){return t?Wd(t):null})},t}();function pp(t){return Rd(t,dd.store)}function vp(t){return Rd(t,vd.store)}function yp(t){return Rd(t,pd.store)}function gp(t){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(e){if(t.code!==Ac.FAILED_PRECONDITION||t.message!==_d)throw t;return Nc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function mp(t,e){var n=t[1],r=e[1],i=Bc(t[0],e[0]);return 0===i?Bc(n,r):i}var bp=function(){function t(t){this.ne=t,this.buffer=new $h(mp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();mp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),wp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Nc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Tc.b)(e,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ad(e=n.sent())?(Nc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),_p=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Sd.resolve(Ic.o);var r=new bp(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Nc("LruGarbageCollector","Garbage collection skipped; disabled"),Sd.resolve(rp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Nc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),rp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Nc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Pc()<=mo.a.DEBUG&&Nc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Sd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),kp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new _p(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Op(t,n)},t.prototype.removeReference=function(t,e,n){return Op(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Op(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return hp(t).Ot(function(r){return up(t,r,e).next(function(t){return t&&(n=!0),Sd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){if(s<=e){var u=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),yp(t).delete([0,td(a.path)])})});i.push(u)}}).next(function(){return Sd.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Op(t,e)},t.prototype.we=function(t,e){var n,r=yp(t),i=Ic.o;return r.$t({index:pd.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Ic.o&&e(new fl(rd(n)),i),i=a,n=o):i=Ic.o}).next(function(){i!==Ic.o&&e(new fl(rd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Op(t,e){return yp(t).put(function(t,e){return new pd(0,td(t.path),e)}(e,t.currentSequenceNumber))}var Sp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Qc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Yc(this.inner)},t}(),Cp=function(){function t(){this.changes=new Sp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Kc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Al.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Sd.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Ep=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Ap(t).put(xp(e),n)},t.prototype.removeEntry=function(t,e){var n=Ap(t),r=xp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Ap(t).get(xp(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Ap(t).get(xp(e)).next(function(t){return{document:n.ye(e,t),size:ap(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=nf();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=nf(),i=new Xh(fl.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,ap(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Sd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ap(t).$t({range:r},function(t,e,r){for(var a=fl.fromSegments(t);o&&fl.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=nf(),o=e.path.length+1,a={};if(n.isEqual(Kc.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Bd(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=hd.collectionReadTimeIndex}return Ap(t).$t(a,function(t,n,a){if(t.length===o){var s=Ud(r.R,n);e.path.isPrefixOf(s.key.path)?lh(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Tp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ip(t).get(fd.key).next(function(t){return Vc(!!t),t})},t.prototype.me=function(t,e){return Ip(t).put(fd.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ud(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Kc.min()))return n}return Al.newInvalidDocument(t)},t}(),Tp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Sp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Tc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new $h(function(t,e){return Bc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=qd(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=ap(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=qd(e.Ie.R,Al.newNoDocument(o,Kc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Sd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Cp);function Ip(t){return Rd(t,fd.store)}function Ap(t){return Rd(t,hd.store)}function xp(t){return t.path.toArray()}var jp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Vc(n<r&&n>=0&&r<=11);var o=new Cd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(od.store)}(t),function(t){t.createObjectStore(ad.store,{keyPath:ad.keyPath}),t.createObjectStore(sd.store,{keyPath:sd.keyPath,autoIncrement:!0}).createIndex(sd.userMutationsIndex,sd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ud.store)}(t),Pp(t),function(t){t.createObjectStore(hd.store)}(t));var a=Sd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(pd.store),t.deleteObjectStore(dd.store),t.deleteObjectStore(vd.store)}(t),Pp(t)),a=a.next(function(){return function(t){var e=t.store(vd.store),n=new vd(0,0,Kc.min().toTimestamp(),0);return e.put(vd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(sd.store).Nt().next(function(n){t.deleteObjectStore(sd.store),t.createObjectStore(sd.store,{keyPath:sd.keyPath,autoIncrement:!0}).createIndex(sd.userMutationsIndex,sd.userMutationsKeyPath,{unique:!0});var r=e.store(sd.store),i=n.map(function(t){return r.put(t)});return Sd.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(gd.store,{keyPath:gd.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(fd.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(hd.store);e.createIndex(hd.readTimeIndex,hd.readTimeIndexPath,{unique:!1}),e.createIndex(hd.collectionReadTimeIndex,hd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(md.store,{keyPath:md.keyPath})}(t),function(t){t.createObjectStore(bd.store,{keyPath:bd.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(hd.store).$t(function(t,n){e+=ap(n)}).next(function(){var n=new fd(e);return t.store(fd.store).put(fd.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ad.store),r=t.store(sd.store);return n.Nt().next(function(n){return Sd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(sd.userMutationsIndex,i).next(function(r){return Sd.forEach(r,function(r){Vc(r.userId===n.userId);var i=Kd(e.R,r);return op(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(pd.store),n=t.store(hd.store);return t.store(vd.store).get(vd.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Jc(n),a=function(t){return[0,td(t)]}(o);r.push(e.get(a).next(function(n){return n?Sd.resolve():function(n){return e.put(new pd(0,td(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Sd.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(yd.store,{keyPath:yd.keyPath});var n=e.store(yd.store),r=new tp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:td(i)})}};return e.store(hd.store).$t({kt:!0},function(t,e){var n=new Jc(t);return i(n.popLast())}).next(function(){return e.store(ud.store).$t({kt:!0},function(t,e){var n=rd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(dd.store);return n.$t(function(t,r){var i=Wd(r),o=Qd(e.R,i);return n.put(o)})},t}();function Pp(t){t.createObjectStore(pd.store,{keyPath:pd.keyPath}).createIndex(pd.documentTargetsIndex,pd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(dd.store,{keyPath:dd.keyPath}).createIndex(dd.queryTargetsIndexName,dd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(vd.store)}var Np="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dp=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new xc(Ac.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kp(this,i),this.Le=n+"main",this.R=new Fd(u),this.Be=new Ed(this.Le,11,new jp(this.R)),this.qe=new dp(this.referenceDelegate,this.R),this.Ut=new ep,this.Ue=function(t,e){return new Ep(t,e)}(this.R,this.Ut),this.Qe=new Xd,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Dc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new xc(Ac.FAILED_PRECONDITION,Np);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ic(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Tc.b)(e,void 0,void 0,function(){return Object(Tc.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Tc.b)(e,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Tc.b)(e,void 0,void 0,function(){return Object(Tc.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Mp(e).put(new gd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ad(e))return Nc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Nc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Rp(t).get(od.key).next(function(t){return Sd.resolve(e.tn(t))})},t.prototype.en=function(t){return Mp(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Rd(t,gd.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Sd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Sd.resolve(!0):Rp(t).get(od.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new xc(Ac.FAILED_PRECONDITION,Np);return!1}}return!(!e.networkEnabled||!e.inForeground)||Mp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Nc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t=this;return Object(Tc.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[od.store,gd.store],function(e){var n=new Dd(e,Ic.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Mp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return sp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Nc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",wd,function(o){return r=new Dd(o,i.Ne?i.Ne.next():Ic.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Dc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new xc(Ac.FAILED_PRECONDITION,_d);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Rp(t).get(od.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new xc(Ac.FAILED_PRECONDITION,Np)})},t.prototype.Ze=function(t){var e=new od(this.clientId,this.allowTabSynchronization,Date.now());return Rp(t).put(od.key,e)},t.yt=function(){return Ed.yt()},t.prototype.Xe=function(t){var e=this,n=Rp(t);return n.get(od.key).next(function(t){return e.tn(t)?(Nc("IndexedDbPersistence","Releasing primary lease."),n.delete(od.key)):Sd.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Dc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Nc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Dc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Dc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Rp(t){return Rd(t,od.store)}function Mp(t){return Rd(t,gd.store)}function Lp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Vp=function(t,e){this.progress=t,this.wn=e},Fp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return fl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):rh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new fl(e)).next(function(t){var e=of();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=of();return this.Ut.getCollectionParents(t,i).next(function(a){return Sd.forEach(a,function(a){var s=function(t,e){return new Xl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Al.newInvalidDocument(c),r=r.insert(c,l)),Dh(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){lh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=cf(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Fh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Up=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=cf(),i=cf(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),qp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Kc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return($l(e)||th(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Pc()<=mo.a.DEBUG&&Nc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ch(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new $h(hh(t));return e.forEach(function(e,r){lh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Pc()<=mo.a.DEBUG&&Nc("QueryEngine","Using full collection scan to execute query:",ch(e)),this.Sn.getDocumentsMatchingQuery(t,e,Kc.min())},t}(),Bp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Xh(Bc),this.kn=new Sp(function(t){return Pl(t)},Nl),this.$n=Kc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Fp(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Hp(t,e,n,r){return new Bp(t,e,n,r)}function zp(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Tc.d)(this,function(a){switch(a.label){case 0:return n=Fc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Fp(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=cf(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Gp(t,e){var n=Fc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Sd.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Vc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Kp(t){var e=Fc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Wp(t,e){var n=Fc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Vc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var s=nf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(Qp(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(Kc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return Sd.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,s)}).next(function(){return s})}).then(function(t){return n.Fn=i,t})}function Qp(t,e,n,r,i){var o=cf();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=nf();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Kc.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Nc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Yp(t,e){var n=Fc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Xp(t,e){var n=Fc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Sd.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Vd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Jp(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Tc.d)(this,function(s){switch(s.label){case 0:r=Fc(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Ad(a=s.sent()))throw a;return Nc("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Zp(t,e,n){var r=Fc(t),i=Kc.min(),o=cf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Fc(t),i=r.kn.get(n);return void 0!==i?Sd.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,oh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Kc.min(),n?o:cf())}).next(function(t){return{documents:t,Bn:o}})})}function $p(t,e){var n=Fc(t),r=Fc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function tv(t){var e=Fc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Fc(t),i=nf(),o=Bd(n),a=Ap(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:hd.readTimeIndex,range:s},function(t,e){var n=Ud(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Hd(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function ev(t){return Object(Tc.b)(this,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){return[2,(e=Fc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ap(t),n=Kc.min();return e.$t({index:hd.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Hd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function nv(t,e,n,r){return Object(Tc.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return Object(Tc.d)(this,function(p){switch(p.label){case 0:for(i=Fc(t),o=cf(),a=nf(),s=sf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Xp(i,function(t){return oh(Zl(Jc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Qp(t,f,a,Kc.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function rv(t,e,n){return void 0===n&&(n=cf()),Object(Tc.b)(this,void 0,void 0,function(){var r,i;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return[4,Xp(t,oh(Yd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Fc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Tf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(el.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var iv=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Sd.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Tf(n.createTime)}),Sd.resolve()},t.prototype.getNamedQuery=function(t,e){return Sd.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Yd(t.bundledQuery),readTime:Tf(t.readTime)}}(e)),Sd.resolve()},t}(),ov=function(){function t(){this.Wn=new $h(av.Gn),this.zn=new $h(av.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new av(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new av(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new fl(new Jc([])),r=new av(n,t),i=new av(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new fl(new Jc([])),n=new av(e,t),r=new av(e,t+1),i=cf();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new av(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),av=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return fl.comparator(t.key,e.key)||Bc(t.ns,e.ns)},t.Hn=function(t,e){return Bc(t.ns,e.ns)||fl.comparator(t.key,e.key)},t}(),sv=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new $h(av.Gn)}return t.prototype.checkEmpty=function(t){return Sd.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Md(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new av(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Sd.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Sd.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Sd.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Sd.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Sd.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new av(e,0),i=new av(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Sd.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $h(Bc);return e.forEach(function(t){var e=new av(t,0),i=new av(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Sd.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;fl.isDocumentKey(i)||(i=i.child(""));var o=new av(new fl(i),0),a=new $h(Bc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),Sd.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Vc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Sd.forEach(e.mutations,function(i){var o=new av(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new av(e,0),r=this.rs.firstAfterOrEqual(n);return Sd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Sd.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),uv=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Xh(fl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Sd.resolve(n?n.document.clone():Al.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=nf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Al.newInvalidDocument(t))}),Sd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=nf(),i=new fl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||lh(e,u)&&(r=r.insert(u.key,u.clone()))}return Sd.resolve(r)},t.prototype.fs=function(t,e){return Sd.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new cv(this)},t.prototype.getSize=function(t){return Sd.resolve(this.size)},t}(),cv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Tc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Sd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Cp),lv=function(){function t(t){this.persistence=t,this.ds=new Sp(function(t){return Pl(t)},Nl),this.lastRemoteSnapshotVersion=Kc.min(),this.highestTargetId=0,this.ws=0,this._s=new ov,this.targetCount=0,this.ys=fp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Sd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Sd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Sd.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Sd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Sd.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new fp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Sd.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Sd.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Sd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Sd.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Sd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Sd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Sd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Sd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Sd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Sd.resolve(n)},t.prototype.containsKey=function(t,e){return Sd.resolve(this._s.containsKey(e))},t}(),hv=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ic(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new lv(this),this.Ut=new $d,this.Ue=function(t,e){return new uv(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Fd(e),this.Qe=new iv(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new sv(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Nc("MemoryPersistence","Starting transaction:",t);var i=new fv(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Sd.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),fv=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Tc.c)(e,t),e}(kd),dv=function(){function t(t){this.persistence=t,this.As=new ov,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Lc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Sd.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Sd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Sd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sd.forEach(this.vs,function(r){var i=fl.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Sd.or([function(){return Sd.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),pv=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function vv(t,e){return"firestore_clients_"+t+"_"+e}function yv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function gv(t,e){return"firestore_targets_"+t+"_"+e}pv.UNAUTHENTICATED=new pv(null),pv.GOOGLE_CREDENTIALS=new pv("google-credentials-uid"),pv.FIRST_PARTY=new pv("first-party-uid");var mv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new xc(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Dc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Dc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=hf(),a=0;i&&a<r.activeTargetIds.length;++a)i=hl(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Dc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),_v=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Dc("SharedClientState","Failed to parse online state: "+e),null)},t}(),kv=function(){function t(){this.activeTargetIds=hf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ov=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Xh(Bc),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=vv(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new kv),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(Tc.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(vv(this.persistenceKey,r)))&&(o=wv.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(gv(this.persistenceKey,t));if(n){var r=bv.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(gv(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Nc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Nc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Nc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Nc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Dc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Tc.b)(e,void 0,void 0,function(){var t,e,r,i,o,a;return Object(Tc.d)(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Ic.o;if(null!=t)try{var n=JSON.parse(t);Vc("number"==typeof n),e=n}catch(t){Dc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ic.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new mv(this.currentUser,t,e,n),i=yv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=yv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=gv(this.persistenceKey,t),i=new bv(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return wv.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return mv.Vs(new pv(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return bv.Vs(r,e)},t.prototype.js=function(t){return _v.Vs(t)},t.prototype.ii=function(t){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Nc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=hf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Sv=function(){function t(){this.li=new kv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new kv,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Cv=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Ev=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Nc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Nc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Tv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Iv=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Av=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Tc.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var a=new Ec;a.listenOnce(kc.COMPLETE,function(){try{switch(a.getLastErrorCode()){case _c.NO_ERROR:var e=a.getResponseJson();Nc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case _c.TIMEOUT:Nc("Connection",'RPC "'+t+'" timed out'),o(new xc(Ac.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:var n=a.getStatus();if(Nc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ac).indexOf(e)>=0?e:Ac.UNKNOWN}(r.status);o(new xc(s,r.message))}else o(new xc(Ac.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new xc(Ac.UNAVAILABLE,"Connection failed."));break;default:Lc()}}finally{Nc("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new lc,i=ds(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Sc({})),this.Fi(o.initMessageHeaders,e),Object(go.n)()||Object(go.p)()||Object(go.l)()||Object(go.m)()||Object(go.q)()||Object(go.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Nc("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Iv({Ei:function(t){c?Nc("Connection","Not sending because WebChannel is closed:",t):(u||(Nc("Connection","Opening WebChannel transport."),s.open(),u=!0),Nc("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s,Cc.EventType.OPEN,function(){c||Nc("Connection","WebChannel transport opened.")}),h(s,Cc.EventType.CLOSE,function(){c||(c=!0,Nc("Connection","WebChannel transport closed"),l.Vi())}),h(s,Cc.EventType.ERROR,function(t){c||(c=!0,Rc("Connection","WebChannel transport errored:",t),l.Vi(new xc(Ac.UNAVAILABLE,"The operation could not be completed")))}),h(s,Cc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Vc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Nc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Hh[t];if(void 0!==e)return Yh(e)}(i),a=r.message;void 0===o&&(o=Ac.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new xc(o,a)),s.close()}else Nc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Oc.STAT_EVENT,function(t){10===t.stat?Nc("Connection","Detected buffering proxy"):11===t.stat&&Nc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Nc("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Nc("RestConnection","Received: ",t),t},function(e){throw Rc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.7",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Tv[t]},t}());function xv(){return"undefined"!=typeof window?window:null}function jv(){return"undefined"!=typeof document?document:null}function Pv(t){return new Of(t,!0)}var Nv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Nc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Dv=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Nv(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ac.RESOURCE_EXHAUSTED?(Dc(e.toString()),Dc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Ac.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new xc(Ac.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Tc.b)(t,void 0,void 0,function(){return Object(Tc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Nc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Nc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Rv=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(Tc.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Lc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Vc(void 0===e||"string"==typeof e),el.fromBase64String(e||"")):(Vc(void 0===e||e instanceof Uint8Array),el.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ac.UNKNOWN:Yh(t.code);return new xc(e,t.message||"")}(s);n=new yf(r,i,o,a||null)}else if("documentChange"in e){i=jf(t,(r=e.documentChange).document.name),o=Tf(r.document.updateTime);var s=new Tl({mapValue:{fields:r.document.fields}}),u=(a=Al.newFoundDocument(i,o,s),r.targetIds||[]);n=new pf(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=jf(t,(r=e.documentDelete).document),o=r.readTime?Tf(r.readTime):Kc.min(),s=Al.newNoDocument(i,o),n=new pf([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=jf(t,(r=e.documentRemove).document),n=new pf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Lc();var c=e.filter;i=new Wh(r=c.count||0),n=new vf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Kc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Kc.min():e.readTime?Tf(e.readTime):Kc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Df(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Dl(r)?{documents:Uf(t,r)}:{query:qf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Cf(t,e.resumeToken):e.snapshotVersion.compareTo(Kc.min())>0&&(n.readTime=Sf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Df(this.R),e.removeTarget=t,this.cr(e)},e}(Dv),Mv=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(Tc.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Vc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Vc(void 0!==e),t.map(function(t){return function(t,e){var n=Tf(t.updateTime?t.updateTime:e);return n.isEqual(Kc.min())&&(n=Tf(e)),new Ah(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Tf(t.commitTime);return this.listener.Tr(n,e)}return Vc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Df(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Vf(e.R,t)})};this.cr(n)},e}(Dv),Lv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Tc.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new xc(Ac.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ac.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xc(Ac.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ac.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xc(Ac.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Vv=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Dc(e),this.Vr=!1):Nc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Fv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Tc.b)(o,void 0,void 0,function(){return Object(Tc.d)(this,function(t){switch(t.label){case 0:return Qv(this)?(Nc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Tc.b)(this,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return(e=Fc(t)).Or.add(4),[4,qv(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Uv(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Vv(n,r)};function Uv(t){return Object(Tc.b)(this,void 0,void 0,function(){var e,n;return Object(Tc.d)(this,function(r){switch(r.label){case 0:if(!Qv(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function qv(t){return Object(Tc.b)(this,void 0,void 0,function(){var e,n;return Object(Tc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Bv(t,e){var n=Fc(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Wv(n)?Kv(n):cy(n).er()&&zv(n,e))}function Hv(t,e){var n=Fc(t),r=cy(n);n.$r.delete(e),r.er()&&Gv(n,e),0===n.$r.size&&(r.er()?r.ir():Qv(n)&&n.Br.set("Unknown"))}function zv(t,e){t.qr.U(e.targetId),cy(t).mr(e)}function Gv(t,e){t.qr.U(e),cy(t).yr(e)}function Kv(t){t.qr=new mf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),cy(t).start(),t.Br.Sr()}function Wv(t){return Qv(t)&&!cy(t).tr()&&t.$r.size>0}function Qv(t){return 0===Fc(t).Or.size}function Yv(t){t.qr=void 0}function Xv(t){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(e){return t.$r.forEach(function(e,n){zv(t,e)}),[2]})})}function Jv(t,e){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(n){return Yv(t),Wv(t)?(t.Br.Nr(e),Kv(t)):t.Br.set("Unknown"),[2]})})}function Zv(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i,o;return Object(Tc.d)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof yf&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Tc.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Nc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,$v(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof pf?t.qr.X(e):e instanceof vf?t.qr.rt(e):t.qr.et(e),n.isEqual(Kc.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Kp(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(el.EMPTY_BYTE_STRING,n.snapshotVersion)),Gv(t,e);var r=new Vd(n.target,e,1,n.sequenceNumber);zv(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Nc("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,$v(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function $v(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r=this;return Object(Tc.d)(this,function(i){switch(i.label){case 0:if(!Ad(e))throw e;return t.Or.add(1),[4,qv(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Kp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Tc.b)(r,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return Nc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Uv(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function ty(t,e){return e().catch(function(n){return $v(t,n,e)})}function ey(t){return Object(Tc.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Tc.d)(this,function(a){switch(a.label){case 0:e=Fc(t),n=ly(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Qv(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Yp(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=ly(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,$v(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return ny(e)&&ry(e),[2]}})})}function ny(t){return Qv(t)&&!ly(t).tr()&&t.kr.length>0}function ry(t){ly(t).start()}function iy(t){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(e){return ly(t).Ar(),[2]})})}function oy(t){return Object(Tc.b)(this,void 0,void 0,function(){var e,n,r;return Object(Tc.d)(this,function(i){for(e=ly(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function ay(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Ld.from(r,e,n),[4,ty(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,ey(t)];case 2:return o.sent(),[2]}})})}function sy(t,e){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(n){switch(n.label){case 0:return e&&ly(t).pr?[4,function(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return Qh(r=e.code)&&r!==Ac.ABORTED?(n=t.kr.shift(),ly(t).sr(),[4,ty(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,ey(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ny(t)&&ry(t),[2]}})})}function uy(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n;return Object(Tc.d)(this,function(r){switch(r.label){case 0:return n=Fc(t),e?(n.Or.delete(2),[4,Uv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,qv(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function cy(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Fc(t);return r.br(),new Rv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Xv.bind(null,t),Ri:Jv.bind(null,t),_r:Zv.bind(null,t)}),t.Mr.push(function(n){return Object(Tc.b)(e,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Wv(t)?Kv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Yv(t),e.label=3;case 3:return[2]}})})})),t.Ur}function ly(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Fc(t);return r.br(),new Mv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:iy.bind(null,t),Ri:sy.bind(null,t),Ir:oy.bind(null,t),Tr:ay.bind(null,t)}),t.Mr.push(function(n){return Object(Tc.b)(e,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,ey(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Nc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var hy=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Od,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xc(Ac.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function fy(t,e){if(Dc("AsyncQueue",e+": "+t),Ad(t))return new xc(Ac.UNAVAILABLE,e+": "+t);throw t}var dy=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||fl.comparator(e.key,n.key)}:function(t,e){return fl.comparator(t.key,e.key)},this.keyedMap=of(),this.sortedSet=new Xh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),py=function(){function t(){this.Kr=new Xh(fl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Lc():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),vy=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,dy.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yy=function(){this.Wr=void 0,this.listeners=[]},gy=function(){this.queries=new Sp(function(t){return uh(t)},sh),this.onlineState="Unknown",this.Gr=new Set};function my(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(Tc.d)(this,function(c){switch(c.label){case 0:if(n=Fc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new yy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=fy(s,"Initialization of query '"+ch(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&ky(n),[2]}})})}function by(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(Tc.d)(this,function(s){return n=Fc(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function wy(t,e){for(var n=Fc(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&ky(n)}function _y(t,e,n){var r=Fc(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function ky(t){t.Gr.forEach(function(t){t.next()})}var Oy=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vy(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=vy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Sy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Cy=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return jf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Lf(this.R,t.document,!1):Al.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Tf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Cy(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||cf()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return[4,nv(this.localStore,new Cy(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,rv(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Vp(Object.assign({},this.progress),t))]}})})}}();var Ey=function(t){this.key=t},Ty=function(t){this.key=t},Iy=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=cf(),this.mutatedKeys=cf(),this.lo=hh(t),this.fo=new dy(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new py,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=$l(this.query)&&i.size===this.query.limit?i.last():null,c=th(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=lh(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),$l(this.query)||th(this.query))for(;a.size>this.query.limit;){var l=$l(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new vy(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new py,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=cf(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Ty(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Ey(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=cf();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return vy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Ay=function(t,e,n){this.query=t,this.targetId=e,this.view=n},xy=function(t){this.key=t,this.bo=!1},jy=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Sp(function(t){return uh(t)},sh),this.Vo=new Map,this.So=new Set,this.Do=new Xh(fl.comparator),this.Co=new Map,this.No=new ov,this.xo={},this.Fo=new Map,this.ko=fp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Py(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(Tc.d)(this,function(s){switch(s.label){case 0:return n=sg(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Xp(n.localStore,oh(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Ny(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&Bv(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function Ny(t,e,n,r){return Object(Tc.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(Tc.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Tc.b)(this,void 0,void 0,function(){var i,o,a;return Object(Tc.d)(this,function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Zp(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Ky(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,Zp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Iy(e,i.Bn),a=o._o(i.documents),s=df.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Ky(t,n,u.To),c=new Ay(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Dy(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return n=Fc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!sh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Jp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Hv(n.remoteStore,r.targetId),zy(n,r.targetId)}).catch(gp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return zy(n,r.targetId),[4,Jp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ry(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Tc.d)(this,function(s){switch(s.label){case 0:r=ug(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Fc(t),i=Gc.now(),o=e.reduce(function(t,e){return t.add(e.key)},cf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Rh(c,n.get(c.key));null!=l&&a.push(new Fh(c.key,l,Il(l.value.mapValue),xh.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Xh(Bc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Yy(r,i.changes)];case 3:return s.sent(),[4,ey(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=fy(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function My(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r;return Object(Tc.d)(this,function(i){switch(i.label){case 0:n=Fc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Wp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Vc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Vc(r.bo):t.removedDocuments.size>0&&(Vc(r.bo),r.bo=!1))}),[4,Yy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ly(t,e,n){var r=Fc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Fc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&ky(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vy(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(Tc.d)(this,function(c){switch(c.label){case 0:return(r=Fc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Xh(fl.comparator)).insert(o,Al.newNoDocument(o,Kc.min())),s=cf().add(o),u=new ff(Kc.min(),new Map,new $h(Bc),a,s),[4,My(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Qy(r),[3,4];case 2:return[4,Jp(r.localStore,e,!1).then(function(){return zy(r,e,n)}).catch(gp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Fy(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Tc.d)(this,function(o){switch(o.label){case 0:n=Fc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gp(n.localStore,e)];case 2:return i=o.sent(),Hy(n,r,null),By(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Yy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,gp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Uy(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i;return Object(Tc.d)(this,function(o){switch(o.label){case 0:r=Fc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Fc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Vc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Hy(r,e,n),By(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Yy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,gp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function qy(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(Tc.d)(this,function(s){switch(s.label){case 0:Qv((n=Fc(t)).remoteStore)||Nc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Fc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=fy(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function By(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Hy(t,e,n){var r=Fc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function zy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Gy(t,e)})}function Gy(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Hv(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Qy(t))}function Ky(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ey?(t.No.addReference(o.key,e),Wy(t,o)):o instanceof Ty?(Nc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Gy(t,o.key)):Lc()}}function Wy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Nc("SyncEngine","New document in limbo: "+n),t.So.add(r),Qy(t))}function Qy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new fl(Jc.fromString(e)),r=t.ko.next();t.Co.set(r,new xy(n)),t.Do=t.Do.insert(n,r),Bv(t.remoteStore,new Vd(oh(Zl(n.path)),r,2,Ic.o))}}function Yy(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Tc.d)(this,function(s){switch(s.label){case 0:return r=Fc(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,s){a.push(r.Oo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Up.Pn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(Tc.d)(this,function(l){switch(l.label){case 0:n=Fc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Sd.forEach(e,function(e){return Sd.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Sd.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ad(r=l.sent()))throw r;return Nc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Xy(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return(n=Fc(t)).currentUser.isEqual(e)?[3,3]:(Nc("SyncEngine","User change. New user:",e.toKey()),[4,zp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new xc(Ac.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Yy(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Jy(t,e){var n=Fc(t),r=n.Co.get(e);if(r&&r.bo)return cf().add(r.key);var i=cf(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function Zy(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return[4,Zp((n=Fc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Ky(n,e.targetId,i.To),i)]}})})}function $y(t){return Object(Tc.b)(this,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){return[2,tv((e=Fc(t)).localStore).then(function(t){return Yy(e,t)})]})})}function tg(t,e,n,r){return Object(Tc.b)(this,void 0,void 0,function(){var i,o;return Object(Tc.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=Fc(t),r=Fc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Sd.resolve(null)})})}((i=Fc(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,ey(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Hy(i,e,r||null),By(i,e),function(t,e){Fc(Fc(t)._n).Gt(e)}(i.localStore,e)):Lc(),a.label=4;case 4:return[4,Yy(i,o)];case 5:return a.sent(),[3,7];case 6:Nc("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function eg(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(Tc.d)(this,function(c){switch(c.label){case 0:return sg(n=Fc(t)),ug(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ng(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,uy(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)Bv(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return zy(n,e),Jp(n.localStore,e,!0)}),Hv(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,ng(n,s)];case 5:return c.sent(),function(t){var e=Fc(t);e.Co.forEach(function(t,n){Hv(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Xh(fl.comparator)}(n),n.$o=!1,[4,uy(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ng(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Object(Tc.d)(this,function(v){switch(v.label){case 0:n=Fc(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,Xp(n.localStore,oh(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Zy(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,$p(n.localStore,s)];case 8:return p=v.sent(),[4,Xp(n.localStore,p)];case 9:return u=v.sent(),[4,Ny(n,rg(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function rg(t){return Jl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ig(t){var e=Fc(t);return Fc(Fc(e.localStore).persistence).fn()}function og(t,e,n,r){return Object(Tc.b)(this,void 0,void 0,function(){var i,o,a;return Object(Tc.d)(this,function(s){switch(s.label){case 0:return(i=Fc(t)).$o?(Nc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tv(i.localStore)];case 3:return o=s.sent(),a=ff.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Yy(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Jp(i.localStore,e,!0)];case 6:return s.sent(),zy(i,e,r),[3,8];case 7:Lc(),s.label=8;case 8:return[2]}})})}function ag(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return Object(Tc.d)(this,function(f){switch(f.label){case 0:if(!(r=sg(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(Nc("SyncEngine","Adding an already active target "+a),[3,5]):[4,$p(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,Xp(r.localStore,s)];case 3:return u=f.sent(),[4,Ny(r,rg(s),u.targetId,!1)];case 4:f.sent(),Bv(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Jp(r.localStore,t,!1).then(function(){Hv(r.remoteStore,t),zy(r,t)}).catch(gp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function sg(t){var e=Fc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=My.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vy.bind(null,e),e.vo._r=wy.bind(null,e.eventManager),e.vo.Mo=_y.bind(null,e.eventManager),e}function ug(t){var e=Fc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uy.bind(null,e),e}var cg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return this.R=Pv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Hp(this.persistence,new qp,t.initialUser,this.R)},t.prototype.qo=function(t){return new hv(dv.bs,this.R)},t.prototype.Bo=function(t){return new Sv},t.prototype.terminate=function(){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),lg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Tc.c)(e,t),e.prototype.initialize=function(e){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ev(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,ug(this.Ko.syncEngine)];case 4:return n.sent(),[4,ey(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Hp(this.persistence,new qp,t.initialUser,this.R)},e.prototype.Uo=function(t){return new wp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Lp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ip.withCacheSize(this.cacheSizeBytes):ip.DEFAULT;return new Dp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,xv(),jv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Sv},e}(cg),hg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Tc.c)(e,t),e.prototype.initialize=function(e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r=this;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Ov?(this.sharedClientState.syncEngine={ui:tg.bind(null,n),ai:og.bind(null,n),hi:ag.bind(null,n),fn:ig.bind(null,n),ci:$y.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Tc.b)(r,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return[4,eg(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=xv();if(!Ov.yt(e))throw new xc(Ac.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Lp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ov(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(lg),fg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n=this;return Object(Tc.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ly(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Xy.bind(null,this.syncEngine),[4,uy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new gy},t.prototype.createDatastore=function(t){var e=Pv(t.databaseInfo.databaseId),n=new Av(t.databaseInfo);return function(t,e,n){return new Lv(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ly(a.syncEngine,t,0)},o=Ev.yt()?new Ev:new Cv,new Fv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new jy(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Tc.b)(this,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return e=Fc(t),Nc("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,qv(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),dg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),pg=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Od,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Sy(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t,e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Tc.b)(this,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t,e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Tc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Tc.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new xc(Ac.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(Tc.d)(this,function(u){switch(u.label){case 0:return n=Fc(t),r=Df(n.R)+"/documents",i={documents:e.map(function(t){return xf(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Vc(!!e.found);var n=jf(t,e.found.name),r=Tf(e.found.updateTime),i=new Tl({mapValue:{fields:e.found.fields}});return Al.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Vc(!!e.missing),Vc(!!e.readTime);var n=jf(t,e.missing),r=Tf(e.readTime);return Al.newNoDocument(n,r)}(t,e):Lc()}(n.R,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());Vc(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Gh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Tc.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=fl.fromPath(n);e.mutations.push(new Kh(r,e.precondition(r)))}),[4,function(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return n=Fc(t),r=Df(n.R)+"/documents",i={writes:e.map(function(t){return Vf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Lc();e=Kc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new xc(Ac.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?xh.updateTime(e):xh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Kc.min()))throw new xc(Ac.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xh.updateTime(e)}return xh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),vg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Nv(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Tc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Tc.d)(this,function(r){return t=new pg(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!cl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Qh(e)}return!1},t}(),yg=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=pv.UNAUTHENTICATED,this.clientId=qc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Tc.b)(r,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return Nc("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new xc(Ac.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Od;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Tc.b)(t,void 0,void 0,function(){var t,n;return Object(Tc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=fy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function gg(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Nc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Tc.b)(i,void 0,void 0,function(){return Object(Tc.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,zp(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function mg(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,bg(t)];case 1:return n=i.sent(),Nc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Tc.b)(this,void 0,void 0,function(){var n,r;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return(n=Fc(t)).asyncQueue.verifyOperationInProgress(),Nc("RemoteStore","RemoteStore received new credentials"),r=Qv(n),n.Or.add(3),[4,qv(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Uv(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function bg(t){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Nc("FirestoreClient","Using default OfflineComponentProvider"),[4,gg(t,new cg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function wg(t){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Nc("FirestoreClient","Using default OnlineComponentProvider"),[4,mg(t,new fg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function _g(t){return bg(t).then(function(t){return t.persistence})}function kg(t){return bg(t).then(function(t){return t.localStore})}function Og(t){return wg(t).then(function(t){return t.remoteStore})}function Sg(t){return wg(t).then(function(t){return t.syncEngine})}function Cg(t){return Object(Tc.b)(this,void 0,void 0,function(){var e,n;return Object(Tc.d)(this,function(r){switch(r.label){case 0:return[4,wg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Py.bind(null,e.syncEngine),n.onUnlisten=Dy.bind(null,e.syncEngine),n)]}})})}function Eg(t,e,n){var r=this;void 0===n&&(n={});var i=new Od;return t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(r,void 0,void 0,function(){var r;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new dg({next:function(o){e.enqueueAndForget(function(){return by(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new xc(Ac.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new xc(Ac.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Oy(Zl(n.path),o,{includeMetadataChanges:!0,so:!0});return my(t,a)},[4,Cg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Tg(t,e,n){var r=this;void 0===n&&(n={});var i=new Od;return t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(r,void 0,void 0,function(){var r;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new dg({next:function(n){e.enqueueAndForget(function(){return by(t,a)}),n.fromCache&&"server"===r.source?i.reject(new xc(Ac.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Oy(n,o,{includeMetadataChanges:!0,so:!0});return my(t,a)},[4,Cg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Ig=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Ag=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),xg=new Map,jg=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Pg=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(pv.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ng=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Dg=function(){function t(t){var e=this;this.currentUser=pv.UNAUTHENTICATED,this.oc=new Od,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Nc("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Nc("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Nc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Vc("string"==typeof n.accessToken),new jg(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(Tc.b)(n,void 0,void 0,function(){return Object(Tc.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Vc(null===t||"string"==typeof t),new pv(t)},t}(),Rg=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=pv.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Mg=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Rg(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(pv.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Lg(t,e,n){if(!n)throw new xc(Ac.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Vg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xc(Ac.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Fg(t,e,n,r){if(!0===e&&!0===r)throw new xc(Ac.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ug(t){if(!fl.isDocumentKey(t))throw new xc(Ac.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function qg(t){if(fl.isDocumentKey(t))throw new xc(Ac.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Bg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Lc()}function Hg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xc(Ac.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Bg(t);throw new xc(Ac.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function zg(t,e){if(e<=0)throw new xc(Ac.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Gg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xc(Ac.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xc(Ac.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Fg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Kg=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gg({}),this._settingsFrozen=!1,t instanceof Ag?(this._databaseId=t,this._credentials=new Pg):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xc(Ac.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ag(t.options.projectId)}(t),this._credentials=new Dg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new xc(Ac.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new xc(Ac.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Pg;switch(t.type){case"gapi":var e=t.client;return Vc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Mg(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xc(Ac.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=xg.get(this))&&(Nc("ComponentProvider","Removing Datastore"),xg.delete(this),t.terminate()),Promise.resolve();var t},t}(),Wg=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yg(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Qg=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Yg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Zl(r))||this)._path=r,i.type="collection",i}return Object(Tc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Wg(this.firestore,null,new fl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Qg);function Xg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(go.h)(t),Lg("collection","path",e),t instanceof Kg)return qg(n=Jc.fromString.apply(Jc,Object(Tc.f)([e],r))),new Yg(t,null,n);if(!(t instanceof Wg||t instanceof Yg))throw new xc(Ac.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qg(n=Jc.fromString.apply(Jc,Object(Tc.f)([t.path],r)).child(Jc.fromString(e))),new Yg(t.firestore,null,n)}function Jg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(go.h)(t),1===arguments.length&&(e=qc.u()),Lg("doc","path",e),t instanceof Kg)return Ug(n=Jc.fromString.apply(Jc,Object(Tc.f)([e],r))),new Wg(t,null,new fl(n));if(!(t instanceof Wg||t instanceof Yg))throw new xc(Ac.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ug(n=t._path.child(Jc.fromString.apply(Jc,Object(Tc.f)([e],r)))),new Wg(t.firestore,t instanceof Yg?t.converter:null,new fl(n))}function Zg(t,e){return t=Object(go.h)(t),e=Object(go.h)(e),(t instanceof Wg||t instanceof Yg)&&(e instanceof Wg||e instanceof Yg)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function $g(t,e){return t=Object(go.h)(t),e=Object(go.h)(e),t instanceof Qg&&e instanceof Qg&&t.firestore===e.firestore&&sh(t._query,e._query)&&t.converter===e.converter}var tm=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Nv(this,"async_queue_retry"),this.Tc=function(){var e=jv();e&&Nc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=jv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=jv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Tc.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ad(t=n.sent()))throw t;return Nc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Dc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=hy.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&Lc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(Tc.b)(this,void 0,void 0,function(){var t;return Object(Tc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function em(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Od,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var nm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new tm,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Tc.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||im(this),this._firestoreClient.terminate()},e}(Kg);function rm(t){return t._firestoreClient||im(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function im(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Ig(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new yg(t._credentials,t._queue,r)}function om(t,e,n){var r=this,i=new Od;return t.asyncQueue.enqueue(function(){return Object(Tc.b)(r,void 0,void 0,function(){var r;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,gg(t,n)];case 1:return o.sent(),[4,mg(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ac.FAILED_PRECONDITION||t.code===Ac.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function am(t){if(t._initialized||t._terminated)throw new xc(Ac.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new xc(Ac.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $c(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),um=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(el.fromBase64String(e))}catch(e){throw new xc(Ac.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(el.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),cm=function(t){this._methodName=t},lm=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new xc(Ac.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xc(Ac.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Bc(this._lat,t._lat)||Bc(this._long,t._long)},t}(),hm=/^__.*__$/,fm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Fh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Vh(t,this.data,e,this.fieldTransforms)},t}(),dm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Fh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function pm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lc()}}var vm=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return Rm(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(pm(this.Cc)&&hm.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),ym=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Pv(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new vm({Cc:t,methodName:e,Bc:n,path:$c.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function gm(t){var e=t._freezeSettings(),n=Pv(t._databaseId);return new ym(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mm(t,e,n,r,i,o){void 0===o&&(o={});var a=t.qc(o.merge||o.mergeFields?2:0,e,n,i);jm("Data must be an object, but it was:",a,r);var s,u,c=Am(r,a);if(o.merge)s=new tl(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Pm(e,f[h],n);if(!a.contains(d))throw new xc(Ac.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Mm(l,d)||l.push(d)}s=new tl(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new fm(new Tl(c),s,u)}var bm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tc.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(cm);function wm(t,e,n){return new vm({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var _m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tc.c)(e,t),e.prototype._toFieldTransform=function(t){return new Ih(t.path,new wh)},e.prototype.isEqual=function(t){return t instanceof e},e}(cm),km=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Tc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=wm(this,t,!0),n=this.Uc.map(function(t){return Im(t,e)}),r=new _h(n);return new Ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(cm),Om=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Tc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=wm(this,t,!0),n=this.Uc.map(function(t){return Im(t,e)}),r=new Oh(n);return new Ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(cm),Sm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(Tc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ch(t.R,vh(t.R,this.Qc));return new Ih(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(cm);function Cm(t,e,n,r){var i=t.qc(1,e,n);jm("Data must be an object, but it was:",i,r);var o=[],a=Tl.empty();Qc(r,function(t,r){var s=Dm(e,t,n);r=Object(go.h)(r);var u=i.$c(s);if(r instanceof bm)o.push(s);else{var c=Im(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new tl(o);return new dm(a,s,i.fieldTransforms)}function Em(t,e,n,r,i,o){var a=t.qc(1,e,n),s=[Pm(e,r,n)],u=[i];if(o.length%2!=0)throw new xc(Ac.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Pm(e,o[c])),u.push(o[c+1]);for(var l=[],h=Tl.empty(),f=s.length-1;f>=0;--f)if(!Mm(l,s[f])){var d=s[f],p=u[f];p=Object(go.h)(p);var v=a.$c(d);if(p instanceof bm)l.push(d);else{var y=Im(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new tl(l);return new dm(h,g,a.fieldTransforms)}function Tm(t,e,n,r){return void 0===r&&(r=!1),Im(n,t.qc(r?4:3,e))}function Im(t,e){if(xm(t=Object(go.h)(t)))return jm("Unsupported field value:",e,t),Am(t,e);if(t instanceof cm)return function(t,e){if(!pm(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Im(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(go.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Gc.fromDate(t);return{timestampValue:Sf(e.R,n)}}if(t instanceof Gc)return n=new Gc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Sf(e.R,n)};if(t instanceof lm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof um)return{bytesValue:Cf(e.R,t._byteString)};if(t instanceof Wg){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:If(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+Bg(t))}(t,e)}function Am(t,e){var n={};return Yc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qc(t,function(t,r){var i=Im(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function xm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Gc||t instanceof lm||t instanceof um||t instanceof Wg||t instanceof cm)}function jm(t,e,n){if(!xm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Bg(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Pm(t,e,n){if((e=Object(go.h)(e))instanceof sm)return e._internalPath;if("string"==typeof e)return Dm(t,e);throw Rm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Nm=new RegExp("[~\\*/\\[\\]]");function Dm(t,e,n){if(e.search(Nm)>=0)throw Rm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(sm.bind.apply(sm,Object(Tc.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Rm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Rm(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new xc(Ac.INVALID_ARGUMENT,(s+=". ")+t+u)}function Mm(t,e){return t.some(function(t){return t.isEqual(e)})}var Lm=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wg(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Vm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Fm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Vm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Lm);function Fm(t,e){return"string"==typeof e?Dm(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}var Um=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),qm=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(Tc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Fm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Lm),Bm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(qm),Hm=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Um(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Bm(n._firestore,n._userDataWriter,r.key,r,new Um(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xc(Ac.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Bm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Um(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Bm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Um(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:zm(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function zm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lc()}}function Gm(t,e){return t instanceof qm&&e instanceof qm?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Hm&&e instanceof Hm&&t._firestore===e._firestore&&$g(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Km(t){if(th(t)&&0===t.explicitOrderBy.length)throw new xc(Ac.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wm=function(){};function Qm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Ym=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(Tc.c)(e,t),e.prototype._apply=function(t){var e=gm(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new xc(Ac.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){nb(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(eb(r,t,l[c]));s={arrayValue:{values:u}}}else s=eb(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||nb(a,o),s=Tm(n,"where",a,"in"===o||"not-in"===o);var h=Rl.create(i,o,s);return function(t,e){if(e.g()){var n=nh(t);if(null!==n&&!n.isEqual(e.field))throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=eh(t);null!==r&&rb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new xc(Ac.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new Qg(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Wm),Xm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return Object(Tc.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Kl(e,n);return function(t,e){if(null===eh(t)){var n=nh(t);null!==n&&rb(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new Qg(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Xl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Wm),Jm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(Tc.c)(e,t),e.prototype._apply=function(t){return new Qg(t.firestore,t.converter,ah(t._query,this.zc,this.Hc))},e}(Wm),Zm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Tc.c)(e,t),e.prototype._apply=function(t){var e=tb(t,this.type,this.Jc,this.Yc);return new Qg(t.firestore,t.converter,function(t,e){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Wm),$m=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Tc.c)(e,t),e.prototype._apply=function(t){var e=tb(t,this.type,this.Jc,this.Yc);return new Qg(t.firestore,t.converter,function(t,e){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Wm);function tb(t,e,n,r){if(n[0]=Object(go.h)(n[0]),n[0]instanceof Lm)return function(t,e,n,r,i){if(!r)throw new xc(Ac.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ih(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(wl(e,r.key));else{var c=r.data.field(u.field);if(al(c))throw new xc(Ac.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new zl(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=gm(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new xc(Ac.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!rh(t)&&-1!==c.indexOf("/"))throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Jc.fromString(c));if(!fl.isDocumentKey(l))throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new fl(l);s.push(wl(e,h))}else{var f=Tm(n,r,c);s.push(f)}}return new zl(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function eb(t,e,n){if("string"==typeof(n=Object(go.h)(n))){if(""===n)throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!rh(e)&&-1!==n.indexOf("/"))throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Jc.fromString(n));if(!fl.isDocumentKey(r))throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return wl(t,new fl(r))}if(n instanceof Wg)return wl(t,n._key);throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Bg(n)+".")}function nb(t,e){if(!Array.isArray(t)||0===t.length)throw new xc(Ac.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new xc(Ac.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function rb(t,e,n){if(!n.isEqual(e))throw new xc(Ac.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ib=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),dl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return il(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ol(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Lc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Qc(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new lm(il(t.latitude),il(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=sl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ul(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=rl(t);return new Gc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Jc.fromString(t);Vc($f(n));var r=new Ag(n.get(1),n.get(3)),i=new fl(n.popFirst(5));return r.isEqual(e)||Dc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ob(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ab=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Tc.c)(e,t),e.prototype.convertBytes=function(t){return new um(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wg(this.firestore,null,e)},e}(ib),sb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=gm(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ub(t,this._firestore),i=ob(r.converter,e,n),o=mm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,xh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=ub(t,this._firestore);return o="string"==typeof(e=Object(go.h)(e))||e instanceof sm?Em(this._dataReader,"WriteBatch.update",a._key,e,n,r):Cm(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,xh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ub(t,this._firestore);return this._mutations=this._mutations.concat(new Gh(e._key,xh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new xc(Ac.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ub(t,e){if((t=Object(go.h)(t)).firestore!==e)throw new xc(Ac.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var cb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Tc.c)(e,t),e.prototype.convertBytes=function(t){return new um(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wg(this.firestore,null,e)},e}(ib);function lb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Hg(t,Wg);var o=Hg(t.firestore,nm),a=gm(o);return fb(o,[("string"==typeof(e=Object(go.h)(e))||e instanceof sm?Em(a,"updateDoc",t._key,e,n,r):Cm(a,"updateDoc",t._key,e)).toMutation(t._key,xh.exists(!0))])}function hb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(go.h)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||em(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(em(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Wg)c=Hg(t.firestore,nm),l=Zl(t._key.path),u={next:function(e){i[s]&&i[s](db(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Hg(t,Qg);c=Hg(d.firestore,nm),l=d._query;var p=new cb(c);u={next:function(t){i[s]&&i[s](new Hm(c,p,d,t))},error:i[s+1],complete:i[s+2]},Km(t._query)}return function(t,e,n,r){var i=this,o=new dg(r),a=new Oy(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(i,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return e=my,[4,Cg(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(i,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return e=by,[4,Cg(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(rm(c),l,h,u)}function fb(t,e){return function(t,e){var n=this,r=new Od;return t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(n,void 0,void 0,function(){var n;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return n=Ry,[4,Sg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(rm(t),e)}function db(t,e,n){var r=n.docs.get(e._key),i=new cb(t);return new qm(t,i,e._key,r,new Um(n.hasPendingWrites,n.fromCache),e.converter)}var pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Tc.c)(e,t),e.prototype.get=function(e){var n=this,r=ub(e,this._firestore),i=new cb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new qm(n._firestore,i,r._key,t._document,new Um(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=gm(t)}return t.prototype.get=function(t){var e=this,n=ub(t,this._firestore),r=new ab(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Lc();var i=t[0];if(i.isFoundDocument())return new Lm(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Lm(e._firestore,r,n._key,null,n.converter);throw Lc()})},t.prototype.set=function(t,e,n){var r=ub(t,this._firestore),i=ob(r.converter,e,n),o=mm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=ub(t,this._firestore);return o="string"==typeof(e=Object(go.h)(e))||e instanceof sm?Em(this._dataReader,"Transaction.update",a._key,e,n,r):Cm(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=ub(t,this._firestore);return this._transaction.delete(e._key),this},t}());function vb(){if("undefined"==typeof Uint8Array)throw new xc(Ac.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function yb(){if("undefined"==typeof atob)throw new xc(Ac.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var gb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return yb(),new t(um.fromBase64String(e))},t.fromUint8Array=function(e){return vb(),new t(um.fromUint8Array(e))},t.prototype.toBase64=function(){return yb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return vb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),mb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){am(t=Hg(t,nm));var n=rm(t),r=t._freezeSettings(),i=new fg;return om(n,i,new lg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){am(t=Hg(t,nm));var e=rm(t),n=t._freezeSettings(),r=new fg;return om(e,r,new hg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new xc(Ac.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Od;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Tc.b)(e,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Tc.b)(this,void 0,void 0,function(){return Object(Tc.d)(this,function(e){switch(e.label){case 0:return Ed.yt()?[4,Ed.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Lp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),bb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ag||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Rc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Hg(t,Kg))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Rc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(go.d)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new xc(Ac.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Ng(new jg(o,new pv(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Tc.b)(e,void 0,void 0,function(){var e,n;return Object(Tc.d)(this,function(r){switch(r.label){case 0:return[4,_g(t)];case 1:return e=r.sent(),[4,Og(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Fc(t);return e.Or.delete(0),Uv(e)}(n))]}})})})}(rm(Hg(this._delegate,nm)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Tc.b)(e,void 0,void 0,function(){var e,n;return Object(Tc.d)(this,function(r){switch(r.label){case 0:return[4,_g(t)];case 1:return e=r.sent(),[4,Og(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Tc.b)(this,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return(e=Fc(t)).Or.add(0),[4,qv(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(rm(Hg(this._delegate,nm)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Fg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Od;return t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(e,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(r){switch(r.label){case 0:return e=qy,[4,Sg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(rm(Hg(this._delegate,nm)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new dg(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(n,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fc(t).Gr.add(e),e.next()},[4,Cg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(n,void 0,void 0,function(){var e;return Object(Tc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fc(t).Gr.delete(e)},[4,Cg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(rm(t=Hg(t,nm)),em(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new xc(Ac.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Nb(this,Xg(this._delegate,t))}catch(t){throw Cb(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Sb(this,Jg(this._delegate,t))}catch(t){throw Cb(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new xb(this,function(t,e){if(t=Hg(t,Kg),Lg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xc(Ac.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qg(t,null,function(t){return new Xl(Jc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Cb(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Od;return t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(n,void 0,void 0,function(){var n;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return wg(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new vg(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(rm(t),function(n){return e(new pb(t,n))})}(this._delegate,function(n){return t(new _b(e,n))})},t.prototype.batch=function(){var t=this;return rm(this._delegate),new kb(new sb(this._delegate,function(e){return fb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new xc(Ac.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new xc(Ac.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),wb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Tc.c)(e,t),e.prototype.convertBytes=function(t){return new gb(new um(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Sb.tu(e,this.firestore,null)},e}(ib),_b=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new wb(t)}return t.prototype.get=function(t){var e=this,n=Db(t);return this._delegate.get(n).then(function(t){return new Ib(e._firestore,new qm(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Db(t);return n?(Vg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Db(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(Tc.f)([a,e,n],i)),this},t.prototype.delete=function(t){var e=Db(t);return this._delegate.delete(e),this},t}(),kb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Db(t);return n?(Vg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Db(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(Tc.f)([a,e,n],i)),this},t.prototype.delete=function(t){var e=Db(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Ob=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Bm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ab(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new wb(e),n),i.set(n,o)),o},t}();Ob.nu=new WeakMap;var Sb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wb(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new xc(Ac.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Wg(n._delegate,r,new fl(e)))},t.tu=function(e,n,r){return new t(n,new Wg(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Nb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Nb(this.firestore,Xg(this._delegate,t))}catch(t){throw Cb(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(go.h)(t))instanceof Wg&&Zg(this._delegate,t)},t.prototype.set=function(t,e){e=Vg("DocumentReference.set",e);try{return function(t,e,n){t=Hg(t,Wg);var r=Hg(t.firestore,nm),i=ob(t.converter,e,n);return fb(r,[mm(gm(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,xh.none())])}(this._delegate,t,e)}catch(t){throw Cb(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?lb(this._delegate,t):lb.apply(void 0,Object(Tc.f)([this._delegate,t,e],n))}catch(t){throw Cb(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return fb(Hg((t=this._delegate).firestore,nm),[new Gh(t._key,xh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Eb(e),i=Tb(e,function(e){return new Ib(t.firestore,new qm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return hb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Hg(t,Wg);var e=Hg(t.firestore,nm),n=rm(e),r=new cb(e);return function(t,e){var n=this,r=new Od;return t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(n,void 0,void 0,function(){var n;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i;return Object(Tc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Fc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new xc(Ac.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=fy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,kg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new qm(e,r,t._key,n,new Um(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Hg(t,Wg);var e=Hg(t.firestore,nm);return Eg(rm(e),t._key,{source:"server"}).then(function(n){return db(e,t,n)})}(this._delegate):function(t){t=Hg(t,Wg);var e=Hg(t.firestore,nm);return Eg(rm(e),t._key).then(function(n){return db(e,t,n)})}(this._delegate)).then(function(t){return new Ib(e.firestore,new qm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Ob.eu(this.firestore,e):null))},t}();function Cb(t,e,n){return t.message=t.message.replace(e,n),t}function Eb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!em(r))return r}return{}}function Tb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=em(t[0])?t[0]:em(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ib=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Sb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Gm(this._delegate,t._delegate)},t}(),Ab=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tc.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Ib),xb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Qm(this._delegate,function(t,e,n){var r=e,i=Fm("where",t);return new Ym(i,r,n)}(e,n,r)))}catch(e){throw Cb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Qm(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Fm("orderBy",t);return new Xm(r,n)}(e,n)))}catch(e){throw Cb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Qm(this._delegate,function(t){return zg("limit",t),new Jm("limit",t,"F")}(e)))}catch(e){throw Cb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Qm(this._delegate,function(t){return zg("limitToLast",t),new Jm("limitToLast",t,"L")}(e)))}catch(e){throw Cb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Qm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zm("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Cb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Qm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zm("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Cb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Qm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $m("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Cb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Qm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $m("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Cb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return $g(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Hg(t,Qg);var e=Hg(t.firestore,nm),n=rm(e),r=new cb(e);return function(t,e){var n=this,r=new Od;return t.asyncQueue.enqueueAndForget(function(){return Object(Tc.b)(n,void 0,void 0,function(){var n;return Object(Tc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Tc.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(Tc.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Zp(t,e,!0)];case 1:return s=u.sent(),r=new Iy(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=fy(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,kg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Hm(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Hg(t,Qg);var e=Hg(t.firestore,nm),n=rm(e),r=new cb(e);return Tg(n,t._query,{source:"server"}).then(function(n){return new Hm(e,r,t,n)})}(this._delegate):function(t){t=Hg(t,Qg);var e=Hg(t.firestore,nm),n=rm(e),r=new cb(e);return Km(t._query),Tg(n,t._query).then(function(n){return new Hm(e,r,t,n)})}(this._delegate)).then(function(t){return new Pb(e.firestore,new Hm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Eb(e),i=Tb(e,function(e){return new Pb(t.firestore,new Hm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return hb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Ob.eu(this.firestore,e):null))},t}(),jb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ab(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Pb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new xb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Ab(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new jb(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Ab(n._firestore,r))})},t.prototype.isEqual=function(t){return Gm(this._delegate,t._delegate)},t}(),Nb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Tc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Sb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Sb(this.firestore,void 0===t?Jg(this._delegate):Jg(this._delegate,t))}catch(t){throw Cb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Hg(t.firestore,nm),r=Jg(t),i=ob(t.converter,e);return fb(n,[mm(gm(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,xh.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Sb(e.firestore,t)})},e.prototype.isEqual=function(t){return Zg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Ob.eu(this.firestore,t):null))},e}(xb);function Db(t){return Hg(t,Wg)}var Rb,Mb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(sm.bind.apply(sm,Object(Tc.f)([void 0],t)))}return t.documentId=function(){return new t($c.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(go.h)(t))instanceof sm&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Lb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new _m("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new bm("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new km("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Om("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Sm("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Vb=o("/6Yf"),Fb={Firestore:bb,GeoPoint:lm,Timestamp:Gc,Blob:gb,Transaction:_b,WriteBatch:kb,DocumentReference:Sb,DocumentSnapshot:Ib,Query:xb,QueryDocumentSnapshot:Ab,QuerySnapshot:Pb,CollectionReference:Nb,FieldPath:Mb,FieldValue:Lb,setLogLevel:function(t){jc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Vb.a("firestore",function(t){return function(t,e){return new bb(t,new nm(t,e),new mb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Fb)))})(Rb=yo.a),Rb.registerVersion("@firebase/firestore","2.3.6");var Ub=o("VRyK"),qb=o("qgXg"),Bb=o("Ylt2"),Hb=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}h(_(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new zb(this._getNow(),t)),this._trimBufferThenGetEvents()),h(_(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Yt.a;if(this.isStopped||this.hasError?e=Xe.a.EMPTY:(this.observers.push(t),e=new Bb.a(this,t)),i&&t.add(t=new fo.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||qb.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Qt.a),zb=function t(e,n){f(this,t),this.time=e,this.value=n};function Gb(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new Hb(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}function Kb(t,e){return e?ge(function(){return t},e):ge(function(){return t})}var Wb,Qb=o("tf+s"),Yb=new s.r("angularfire2.auth.use-emulator"),Xb=new s.r("angularfire2.auth.settings"),Jb=new s.r("angularfire2.auth.tenant-id"),Zb=new s.r("angularfire2.auth.langugage-code"),$b=new s.r("angularfire2.auth.use-device-language"),tw=new s.r("angularfire.auth.persistence"),ew=((Wb=function t(n,r,i,a,s,u,c,l,h,d){f(this,t);var p=new po.d(a),v=Object(po.h)(p),y=new Qt.a,g=Object(Wt.a)(void 0).pipe(Object(fo.b)(p.outsideAngular),ge(function(){return a.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(ve.a)(function(){return Object(po.g)(n,a,r)}),Object(ve.a)(function(t){return a.runOutsideAngular(function(){var n=s,r=u;return Object(po.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var i=a.runOutsideAngular(function(){return t.auth()});if(n&&i.useEmulator("http://".concat(n.join(":"))),c&&(i.tenantId=c),i.languageCode=l,h&&i.useDeviceLanguage(),r)for(var o=0,s=Object.entries(r);o<s.length;o++){var u=e(s[o],2),f=u[0],p=u[1];i.settings[f]=p}return d&&i.setPersistence(d),i},[n,c,l,h,r,d])})}),Gb({bufferSize:1,refCount:!1}));if(it(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Wt.a)(null);else{g.pipe(We()).subscribe();var m=g.pipe(ge(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),v,Gb({bufferSize:1,refCount:!1})),b=function(t){return new re.a(function(e){return{unsubscribe:a.runOutsideAngular(function(){return t(e)})}})},w=g.pipe(ge(function(t){return b(t.onAuthStateChanged.bind(t))})),_=g.pipe(ge(function(t){return b(t.onIdTokenChanged.bind(t))}));this.authState=m.pipe(Kb(w),Object(Qb.a)(p.outsideAngular),Object(fo.b)(p.insideAngular)),this.user=m.pipe(Kb(_),Object(Qb.a)(p.outsideAngular),Object(fo.b)(p.insideAngular)),this.idToken=this.user.pipe(ge(function(t){return t?Object(Kt.a)(t.getIdToken()):Object(Wt.a)(null)})),this.idTokenResult=this.user.pipe(ge(function(t){return t?Object(Kt.a)(t.getIdTokenResult()):Object(Wt.a)(null)})),this.credential=Object(Ub.a)(m,y,this.authState.pipe(Ie(function(t){return!t}))).pipe(Object(ve.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(Qb.a)(p.outsideAngular),Object(fo.b)(p.insideAngular))}return Object(po.i)(this,g,a,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return y.next(t)})}}})}).\u0275fac=function(t){return new(t||Wb)(s.Sb(po.c),s.Sb(po.b,8),s.Sb(s.C),s.Sb(s.A),s.Sb(Yb,8),s.Sb(Xb,8),s.Sb(Jb,8),s.Sb(Zb,8),s.Sb($b,8),s.Sb(tw,8))},Wb.\u0275prov=s.Ib({factory:function(){return new Wb(s.Sb(po.c),s.Sb(po.b,8),s.Sb(s.C),s.Sb(s.A),s.Sb(Yb,8),s.Sb(Xb,8),s.Sb(Jb,8),s.Sb(Zb,8),s.Sb($b,8),s.Sb(tw,8))},token:Wb,providedIn:"any"}),Wb);function nw(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ao.a;return new re.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function rw(t,e){return nw(t,e).pipe(Object(ve.a)(function(t){return{payload:t,type:"query"}}))}function iw(t,n){return rw(t,n).pipe(Se(void 0),so(),Object(ve.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function ow(t,e,n){return iw(t,n).pipe(Ce(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return aw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return aw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return aw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new lo(void 0,void 0))},Object(ve.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function aw(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function sw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(po.e)(ew,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var uw=function(){function n(t,e,r){f(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=iw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(ve.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(Se(void 0),so(),Ie(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(ve.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ce(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=sw(t);return ow(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ve.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Kt.a)(this.query.get(t)).pipe(Object(fo.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new cw(this.ref.doc(t),this.afs)}}]),n}(),cw=function(){function n(t,e){f(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=vw(this.ref.collection(t),e),r=n.ref,i=n.query;return new uw(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return nw(this.ref,this.afs.schedulers.outsideAngular).pipe(Se(void 0),so(),Object(ve.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(ve.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(Kt.a)(this.ref.get(t)).pipe(Object(fo.b)(this.afs.schedulers.insideAngular))}}]),n}(),lw=function(){function e(t,n){f(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?iw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ve.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Ie(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):iw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ce(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=sw(t);return ow(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ve.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Kt.a)(this.query.get(t)).pipe(Object(fo.b)(this.afs.schedulers.insideAngular))}}]),e}(),hw=new s.r("angularfire2.enableFirestorePersistence"),fw=new s.r("angularfire2.firestore.persistenceSettings"),dw=new s.r("angularfire2.firestore.settings"),pw=new s.r("angularfire2.firestore.use-emulator");function vw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var yw,gw,mw,bw,ww,_w=((ww=function(){function t(n,r,o,a,s,u,c,l,h){f(this,t),this.schedulers=new po.d(u),this.keepUnstableUntilFirst=Object(po.h)(this.schedulers);var d=Object(po.g)(n,u,r);!vo.a.auth&&h&&Object(po.j)();var p=l,v=e(Object(po.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=u.runOutsideAngular(function(){return d.firestore()});return a&&t.settings(a),p&&t.useEmulator.apply(t,i(p)),o&&!it(s)?[t,u.runOutsideAngular(function(){try{return Object(Kt.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(Rb){return"undefined"!=typeof console&&console.warn(Rb),Object(Wt.a)(!1)}})]:[t,Object(Wt.a)(!1)]},[a,p,o]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=vw("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new uw(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new lw(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new cw(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||ww)(s.Sb(po.c),s.Sb(po.b,8),s.Sb(hw,8),s.Sb(dw,8),s.Sb(s.C),s.Sb(s.A),s.Sb(fw,8),s.Sb(pw,8),s.Sb(Yb,8))},ww.\u0275prov=s.Ib({factory:function(){return new ww(s.Sb(po.c),s.Sb(po.b,8),s.Sb(hw,8),s.Sb(dw,8),s.Sb(s.C),s.Sb(s.A),s.Sb(fw,8),s.Sb(pw,8),s.Sb(Yb,8))},token:ww,providedIn:"any"}),ww),kw=((bw=function(){function t(){f(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:hw,useValue:!0},{provide:fw,useValue:e}]}}}]),t}()).\u0275fac=function(t){return new(t||bw)},bw.\u0275mod=s.Kb({type:bw}),bw.\u0275inj=s.Jb({providers:[_w]}),bw),Ow=((mw=function(){function t(e){f(this,t),this.firestore=e}return p(t,[{key:"createCourse",value:function(t){var e=this;return new Promise(function(n,r){e.firestore.collection("courses").add(t).then(function(t){n(t),console.log("create course res "+JSON.stringify(t))},function(t){r(t),console.error("create course error "+t)})})}},{key:"getCourses",value:function(){return this.firestore.collection("courses").snapshotChanges()}},{key:"updateCourse",value:function(t){return this.firestore.collection("courses").doc(t.payload.doc.id).set({updated:!0},{merge:!0})}},{key:"deleteCourse",value:function(t){return this.firestore.collection("courses").doc(t.payload.doc.id).delete()}}]),t}()).\u0275fac=function(t){return new(t||mw)(s.Sb(_w))},mw.\u0275prov=s.Ib({token:mw,factory:mw.\u0275fac,providedIn:"root"}),mw),Sw=((gw=function(){function t(){f(this,t)}return p(t,[{key:"setSelectedCourse",value:function(t){this.selectedCourse=t}},{key:"getSelectedCourse",value:function(){return this.selectedCourse}}]),t}()).\u0275fac=function(t){return new(t||gw)},gw.\u0275prov=s.Ib({token:gw,factory:gw.\u0275fac,providedIn:"root"}),gw),Cw=((yw=function(){function t(e,n){f(this,t),this.eventEmitterService=e,this.commonService=n}return p(t,[{key:"ngOnInit",value:function(){}},{key:"bookDemo",value:function(t){this.commonService.setSelectedCourse(t),this.eventEmitterService.emit({type:"SHOW_DEMO_POPUP",data:{display:!0}})}}]),t}()).\u0275fac=function(t){return new(t||yw)(s.Mb(to),s.Mb(Sw))},yw.\u0275cmp=s.Gb({type:yw,selectors:[["app-card"]],inputs:{cardData:"cardData"},decls:13,vars:5,consts:[[1,"card-component"],[1,"image"],["alt","",3,"src"],[1,"profile"],[1,"course-name"],[1,"instructor"],[1,"book-demo",3,"click"],[1,"prize"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Nb(2,"img",2),s.Pb(3,"div",3),s.Nb(4,"img",2),s.Ob(),s.Ob(),s.Pb(5,"div",4),s.ec(6),s.Ob(),s.Pb(7,"div",5),s.ec(8),s.Ob(),s.Pb(9,"div",6),s.Vb("click",function(){return e.bookDemo(e.cardData)}),s.ec(10," Book Demo "),s.Ob(),s.Pb(11,"div",7),s.ec(12),s.Ob(),s.Ob()),2&t&&(s.Bb(2),s.Yb("src",e.cardData.img,s.bc),s.Bb(2),s.Yb("src",e.cardData.profile,s.bc),s.Bb(2),s.gc(" ",e.cardData.courseName," "),s.Bb(2),s.gc(" ",e.cardData.instructor," "),s.Bb(4),s.gc(" Prize: \u20b9",e.cardData.prize," "))},styles:[".card-component[_ngcontent-%COMP%]{width:250px;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:2rem 3px;border-bottom:1px solid #bab9b9;border-radius:5px}.card-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:150px;text-align:center;margin-bottom:2rem;position:relative}.card-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{width:5rem;height:5em;border-radius:50%;position:relative;top:-40%;left:10px;display:flex;align-items:center;justify-content:center;flex-direction:row}.card-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;height:90%;border-radius:50%;border:2px solid #f5f5f5}.card-component[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px}.card-component[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:.1rem 0;text-align:center;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;position:relative}.card-component[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;background-color:#464646;position:absolute;color:#fff;text-align:center;border-radius:6px;padding:5px;z-index:3;font-size:.5rem;left:50%}.card-component[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.card-component[_ngcontent-%COMP%]   .instructor[_ngcontent-%COMP%]{font-size:.8rem}.card-component[_ngcontent-%COMP%]   .book-demo[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#f5f5f5;background-color:#952e16;border-radius:10px;padding:.5rem 1rem;margin:.5rem 0}.card-component[_ngcontent-%COMP%]   .book-demo[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.card-component[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700}"]}),yw);function Ew(t,e){if(1&t&&(s.Pb(0,"div",2),s.Nb(1,"app-card",3),s.Ob()),2&t){var n=e.$implicit;s.Bb(1),s.Xb("cardData",n)}}var Tw,Iw,Aw=((Iw=function(){function t(e){var n=this;f(this,t),this.coursesService=e,this.cards=[{id:1,img:"assets/images/course1.jpeg",courseName:"English for class 10th",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"Learn guitar",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"Python",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"Data structure and algorithms",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"Maths for class 10th",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"},{id:1,img:"assets/images/course1.jpeg",courseName:"History for class 10th",instructor:"Nisha Poswal",prize:499,profile:"assets/images/kid.jpg"}],this.getCourses=function(){return n.coursesService.getCourses().subscribe(function(t){return console.log("get courses res comp - "+JSON.stringify(t))})},this.updateDoc={payload:{doc:{id:"G7zxeJbap5ZNJwPq2imA"}}},this.deleteDoc={payload:{doc:{id:"GNUR2hJ5v76exmicVE8h"}}}}return p(t,[{key:"createCourses",value:function(){this.coursesService.createCourse({id:1,img:"assets/images/course1.jpeg",courseName:"Maths for class 10th",instructor:"Nisha Poswal",price:499,profile:"assets/images/kid.jpg"}).then(function(t){console.log("create course res comp - "+JSON.stringify(t))})}},{key:"updateCourse",value:function(t){this.coursesService.updateCourse(t)}},{key:"deleteCourse",value:function(t){this.coursesService.deleteCourse(t)}},{key:"ngOnInit",value:function(){this.createCourses(),this.getCourses(),this.updateCourse(this.updateDoc),this.deleteCourse(this.deleteDoc)}}]),t}()).\u0275fac=function(t){return new(t||Iw)(s.Mb(Ow))},Iw.\u0275cmp=s.Gb({type:Iw,selectors:[["app-courses"]],decls:2,vars:1,consts:[[1,"courses-component"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"cardData"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.dc(1,Ew,2,1,"div",1),s.Ob()),2&t&&(s.Bb(1),s.Xb("ngForOf",e.cards))},directives:[J,Cw],styles:[".courses-component[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:row;flex-wrap:wrap;margin-bottom:2rem}.courses-component[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0 1rem}"]}),Iw),xw=((Tw=function(){function t(){f(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Tw)},Tw.\u0275cmp=s.Gb({type:Tw,selectors:[["app-course-on-demand"]],decls:10,vars:0,consts:[[1,"course-on-demand-component"],[1,"left"],[1,"right"],[1,"card"],["for",""],["name","","id","","cols","30","rows","10","placeholder","Enter here"],[1,"button"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.ec(2," Available courses does not interest you? :( Tell us the course you want to do or skill u want to learn we will arrange teachers for you. "),s.Ob(),s.Pb(3,"div",2),s.Pb(4,"div",3),s.Pb(5,"label",4),s.ec(6,"Enter On demand course details"),s.Ob(),s.Nb(7,"textarea",5),s.Pb(8,"div",6),s.ec(9,"Submit"),s.Ob(),s.Ob(),s.Ob(),s.Ob())},styles:[".course-on-demand-component[_ngcontent-%COMP%]{width:100%;height:100vh;background-color:#f1fdf7;display:flex;align-items:center;justify-content:center;flex-direction:row;flex-wrap:wrap}.course-on-demand-component[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{color:#000;font-size:2rem;font-weight:700;text-align:center;flex:1;padding:2rem}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;flex:1}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:10px;background-color:transparent;padding:1rem;display:flex;align-items:center;justify-content:center;flex-direction:column;box-shadow:0 3px 32px 0 rgba(0,0,0,.55)}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:2px solid #952e16;background:transparent;border-radius:10px;resize:none;margin:10px;padding:10px;outline:none}.course-on-demand-component[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-top:2rem}"]}),Tw),jw=o("XoHu");function Pw(t,e){return new re.a(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(Kt.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var Nw,Dw=function t(){f(this,t)},Rw=new s.r("NgValueAccessor"),Mw={provide:Rw,useExisting:Object(s.U)(function(){return Vw}),multi:!0},Lw=new s.r("CompositionEventMode"),Vw=((Nw=function(){function t(e,n,r){var i;f(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=c()?c().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Nw)(s.Mb(s.E),s.Mb(s.l),s.Mb(Lw,8))},Nw.\u0275dir=s.Hb({type:Nw,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&s.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[s.Ab([Mw])]}),Nw);function Fw(t){return null==t||0===t.length}function Uw(t){return null!=t&&"number"==typeof t.length}var qw=new s.r("NgValidators"),Bw=new s.r("NgAsyncValidators"),Hw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zw=function(){function t(){f(this,t)}return p(t,null,[{key:"min",value:function(t){return function(t){return function(e){if(Fw(e.value)||Fw(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}},{key:"max",value:function(t){return function(t){return function(e){if(Fw(e.value)||Fw(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}},{key:"required",value:function(t){return function(t){return Fw(t.value)?{required:!0}:null}(t)}},{key:"requiredTrue",value:function(t){return function(t){return!0===t.value?null:{required:!0}}(t)}},{key:"email",value:function(t){return function(t){return Fw(t.value)||Hw.test(t.value)?null:{email:!0}}(t)}},{key:"minLength",value:function(t){return function(t){return function(e){return Fw(e.value)||!Uw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"maxLength",value:function(t){return function(t){return function(e){return Uw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"pattern",value:function(t){return function(t){return t?("string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),function(t){if(Fw(t.value))return null;var r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}):Gw;var e,n}(t)}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){return Jw(t)}},{key:"composeAsync",value:function(t){return $w(t)}}]),t}();function Gw(t){return null}function Kw(t){return null!=t}function Ww(t){var e=Object(s.sb)(t)?Object(Kt.a)(t):t;return Object(s.rb)(e),e}function Qw(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Yw(t,e){return e.map(function(e){return e(t)})}function Xw(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Jw(t){if(!t)return null;var e=t.filter(Kw);return 0==e.length?null:function(t){return Qw(Yw(t,e))}}function Zw(t){return null!=t?Jw(Xw(t)):null}function $w(t){if(!t)return null;var e=t.filter(Kw);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(Zt.a)(r))return Pw(r,null);if(Object(jw.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var o=Object.keys(r);return Pw(o.map(function(t){return r[t]}),o)}}if("function"==typeof e[e.length-1]){var a=e.pop();return Pw(e=1===e.length&&Object(Zt.a)(e[0])?e[0]:e,null).pipe(Object(ve.a)(function(t){return a.apply(void 0,i(t))}))}return Pw(e,null)}(Yw(t,e).map(Ww)).pipe(Object(ve.a)(Qw))}}function t_(t){return null!=t?$w(Xw(t)):null}function e_(t,e){return null===t?[e]:Array.isArray(t)?[].concat(i(t),[e]):[t,e]}function n_(t){return t._rawValidators}function r_(t){return t._rawAsyncValidators}var i_,o_,a_,s_,u_=((o_=function(){function t(){f(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return p(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Zw(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=t_(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||o_)},o_.\u0275dir=s.Hb({type:o_}),o_),c_=((i_=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(u_)).\u0275fac=function(t){return l_(t||i_)},i_.\u0275dir=s.Hb({type:i_,features:[s.yb]}),i_),l_=s.Qb(c_),h_=function(t){v(n,t);var e=g(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(u_),f_=function(){function t(e){f(this,t),this._cd=e}return p(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}(),d_=((s_=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return n}(f_)).\u0275fac=function(t){return new(t||s_)(s.Mb(h_,2))},s_.\u0275dir=s.Hb({type:s_,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&s.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[s.yb]}),s_),p_=((a_=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return n}(f_)).\u0275fac=function(t){return new(t||a_)(s.Mb(c_,10))},a_.\u0275dir=s.Hb({type:a_,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&s.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[s.yb]}),a_);function v_(t,e){m_(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&w_(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&w_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function y_(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),b_(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function g_(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function m_(t,e,n){var r=n_(t);null!==e.validator?t.setValidators(e_(r,e.validator)):"function"==typeof r&&t.setValidators([r]);var i=r_(t);if(null!==e.asyncValidator?t.setAsyncValidators(e_(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){var o=function(){return t.updateValueAndValidity()};g_(e._rawValidators,o),g_(e._rawAsyncValidators,o)}}function b_(t,e,n){var r=!1;if(null!==t){if(null!==e.validator){var i=n_(t);if(Array.isArray(i)&&i.length>0){var o=i.filter(function(t){return t!==e.validator});o.length!==i.length&&(r=!0,t.setValidators(o))}}if(null!==e.asyncValidator){var a=r_(t);if(Array.isArray(a)&&a.length>0){var s=a.filter(function(t){return t!==e.asyncValidator});s.length!==a.length&&(r=!0,t.setAsyncValidators(s))}}}if(n){var u=function(){};g_(e._rawValidators,u),g_(e._rawAsyncValidators,u)}return r}function w_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function __(t,e){m_(t,e,!1)}function k_(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function O_(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function S_(t){return(I_(t)?t.validators:t)||null}function C_(t){return Array.isArray(t)?Zw(t):t||null}function E_(t,e){return(I_(e)?e.asyncValidators:t)||null}function T_(t){return Array.isArray(t)?t_(t):t||null}function I_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var A_,x_,j_,P_,N_,D_,R_,M_,L_,V_,F_=function(){function t(e,n){f(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=C_(this._rawValidators),this._composedAsyncValidatorFn=T_(this._rawAsyncValidators)}return p(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=C_(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=T_(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=Ww(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof q_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof B_&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new s.n,this.statusChanges=new s.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){I_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),U_=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this,S_(i),E_(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return p(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){O_(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){O_(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(F_),q_=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,S_(r),E_(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return p(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof U_?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(F_),B_=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,S_(r),E_(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return p(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof U_?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=a(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(F_),H_={provide:c_,useExisting:Object(s.U)(function(){return G_})},z_=Promise.resolve(null),G_=((x_=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new s.n,i.form=new q_({},Zw(t),t_(r)),i}return p(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;z_.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),v_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;z_.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),O_(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;z_.then(function(){var n=e._findContainer(t.path),r=new q_({});__(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;z_.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;z_.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,k_(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(c_)).\u0275fac=function(t){return new(t||x_)(s.Mb(qw,10),s.Mb(Bw,10))},x_.\u0275dir=s.Hb({type:x_,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&s.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Ab([H_]),s.yb]}),x_),K_=((A_=function t(){f(this,t)}).\u0275fac=function(t){return new(t||A_)},A_.\u0275dir=s.Hb({type:A_,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),A_),W_={provide:Rw,useExisting:Object(s.U)(function(){return Q_}),multi:!0},Q_=((P_=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._renderer=t,i._elementRef=r,i.onChange=function(t){},i.onTouched=function(){},i}return p(n,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),n}(Dw)).\u0275fac=function(t){return new(t||P_)(s.Mb(s.E),s.Mb(s.l))},P_.\u0275dir=s.Hb({type:P_,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&s.Vb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[s.Ab([W_]),s.yb]}),P_),Y_=((j_=function t(){f(this,t)}).\u0275fac=function(t){return new(t||j_)},j_.\u0275mod=s.Kb({type:j_}),j_.\u0275inj=s.Jb({}),j_),X_=new s.r("NgModelWithFormControlWarning"),J_={provide:c_,useExisting:Object(s.U)(function(){return Z_})},Z_=((N_=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).validators=t,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new s.n,i._setValidators(t),i._setAsyncValidators(r),i}return p(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(b_(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return v_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){y_(t.control||null,t,!1),O_(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,k_(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=e.control,r=t.form.get(e.path);n!==r&&(y_(n||null,e),r instanceof U_&&(v_(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);__(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return b_(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){m_(this.form,this,!1),this._oldForm&&b_(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(c_)).\u0275fac=function(t){return new(t||N_)(s.Mb(qw,10),s.Mb(Bw,10))},N_.\u0275dir=s.Hb({type:N_,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&s.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Ab([J_]),s.yb,s.zb]}),N_),$_={provide:h_,useExisting:Object(s.U)(function(){return tk})},tk=((V_=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var u;return f(this,n),(u=e.call(this))._ngModelWarningConfig=a,u._added=!1,u.update=new s.n,u._ngModelWarningSent=!1,u._parent=t,u._setValidators(r),u._setAsyncValidators(i),u.valueAccessor=function(t,e){return e?(Array.isArray(e),e.forEach(function(t){t.constructor===Vw?n=t:Object.getPrototypeOf(t.constructor)===Dw?r=t:i=t}),i||r||n||null):null;var n,r,i}(0,o),u}return p(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return t=null==this.name?this.name:this.name.toString(),[].concat(i(this._parent.path),[t]);var t}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(h_)).\u0275fac=function(t){return new(t||V_)(s.Mb(c_,13),s.Mb(qw,10),s.Mb(Bw,10),s.Mb(Rw,10),s.Mb(X_,8))},V_.\u0275dir=s.Hb({type:V_,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s.Ab([$_]),s.yb,s.zb]}),V_._ngModelWarningSentOnce=!1,V_),ek=((L_=function t(){f(this,t)}).\u0275fac=function(t){return new(t||L_)},L_.\u0275mod=s.Kb({type:L_}),L_.\u0275inj=s.Jb({imports:[[Y_]]}),L_),nk=((M_=function t(){f(this,t)}).\u0275fac=function(t){return new(t||M_)},M_.\u0275mod=s.Kb({type:M_}),M_.\u0275inj=s.Jb({imports:[ek]}),M_),rk=((R_=function(){function t(){f(this,t)}return p(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:X_,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275fac=function(t){return new(t||R_)},R_.\u0275mod=s.Kb({type:R_}),R_.\u0275inj=s.Jb({imports:[ek]}),R_),ik=((D_=function(){function t(){f(this,t)}return p(t,[{key:"group",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this._reduceControls(t),i=null,o=null;return null!=n&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(n)?(i=null!=n.validators?n.validators:null,o=null!=n.asyncValidators?n.asyncValidators:null,e=null!=n.updateOn?n.updateOn:void 0):(i=null!=n.validator?n.validator:null,o=null!=n.asyncValidator?n.asyncValidator:null)),new q_(r,{asyncValidators:o,updateOn:e,validators:i})}},{key:"control",value:function(t,e,n){return new U_(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new B_(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n}},{key:"_createControl",value:function(t){return t instanceof U_||t instanceof q_||t instanceof B_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||D_)},D_.\u0275prov=Object(s.Ib)({factory:function(){return new D_},token:D_,providedIn:rk}),D_);function ok(t,e){if(1&t&&(s.Pb(0,"div",16),s.Pb(1,"div",17),s.Nb(2,"i"),s.Ob(),s.Pb(3,"div",18),s.Pb(4,"div",19),s.ec(5),s.Ob(),s.Pb(6,"div",20),s.ec(7),s.Ob(),s.Ob(),s.Ob()),2&t){var n=e.$implicit;s.Bb(2),s.Db(n.class),s.Bb(3),s.fc(n.topText),s.Bb(2),s.fc(n.bottomText)}}var ak,sk=((ak=function(){function t(){f(this,t),this.modes=[{class:"fa fa-phone",topText:"Phone",bottomText:"8126139270"},{class:"fa fa-envelope",topText:"Email",bottomText:"nishaposwal321@gmail.com"},{class:"fa fa-phone",topText:"Phone",bottomText:"8126139270"}]}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ak)},ak.\u0275cmp=s.Gb({type:ak,selectors:[["app-contact-us"]],decls:20,vars:1,consts:[[1,"contact-us-component"],[1,"header"],[1,"top-header"],[1,"text"],[1,"content"],[1,"msg-card"],[1,"card"],[1,"send-msg"],["action",""],["type","text","placeholder","Full Name"],["type","email","placeholder","Email"],["type","text","placeholder","Type message here"],[1,"button"],[1,"contact-modes"],[1,"modes"],["class","mode",4,"ngFor","ngForOf"],[1,"mode"],[1,"left"],[1,"right"],[1,"top"],[1,"bottom"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.ec(3,"Contact-us"),s.Ob(),s.Pb(4,"div",3),s.ec(5," The U.S. National Academies of Sciences, Engineering, and Medicine determined that an adequate daily fluid intake is: About 15.5 cups (3.7 liters) of fluids a day for men. About 11.5 cups (2.7 liters) of fluids a day for women. "),s.Ob(),s.Ob(),s.Pb(6,"div",4),s.Pb(7,"div",5),s.Pb(8,"div",6),s.Pb(9,"div",7),s.ec(10,"Send Message"),s.Ob(),s.Pb(11,"form",8),s.Nb(12,"input",9),s.Nb(13,"input",10),s.Nb(14,"input",11),s.Ob(),s.Pb(15,"div",12),s.ec(16,"Submit"),s.Ob(),s.Ob(),s.Ob(),s.Pb(17,"div",13),s.Pb(18,"div",14),s.dc(19,ok,8,5,"div",15),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.Bb(19),s.Xb("ngForOf",e.modes))},directives:[K_,p_,G_,J],styles:[".contact-us-component[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#fff;padding:5%}.contact-us-component[_ngcontent-%COMP%], .contact-us-component[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.contact-us-component[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#000;margin-bottom:4rem}.contact-us-component[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-header[_ngcontent-%COMP%]{font-size:2rem;font-weight:bolder}.contact-us-component[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:row;flex-wrap:wrap}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]{flex:1;color:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-direction:row}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;margin-bottom:2rem}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:10px;color:#f5f5f5;border-radius:50%;background-color:#952e16;display:flex;align-items:center;justify-content:center;flex-direction:row;width:2rem;height:2rem;font-weight:bolder;font-size:1rem}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{color:#000}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-modes[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]   .mode[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{font-size:.8rem}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;flex-direction:row}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 3px 32px 0 rgba(0,0,0,.55);padding:2rem 3rem;border-radius:10px}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .send-msg[_ngcontent-%COMP%]{font-weight:bolder;margin-bottom:1rem;font-size:1.5rem}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.contact-us-component[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .msg-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:1.5rem}"]}),ak);function uk(t,e){if(1&t&&s.Nb(0,"a",4),2&t){var n=e.$implicit;s.Db(n.class),s.Yb("href",n.link,s.bc)}}var ck,lk=((ck=function(){function t(){f(this,t),this.socialMedia=[{name:"facebook",link:"https://www.facebook.com/nosirdotin",class:"fa fa-facebook"},{icon:"instagram",link:"https://instagram.com/nosir.in?utm_medium=copy_link",class:"fa fa-instagram"},{icon:"twitter",link:"https://www.linkedin.com/company/nosir/about/?viewAsMember=true",class:"fa fa-twitter"},{icon:"linkedin",link:"https://www.linkedin.com/company/nosir/about/?viewAsMember=true",class:"fa fa-linkedin"}]}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ck)},ck.\u0275cmp=s.Gb({type:ck,selectors:[["app-footer"]],decls:7,vars:1,consts:[[1,"footer-component"],[1,"icons"],["target","_blank",3,"href","class",4,"ngFor","ngForOf"],[1,"copy-right"],["target","_blank",3,"href"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.dc(2,uk,1,4,"a",2),s.Ob(),s.Pb(3,"div",3),s.Pb(4,"span"),s.ec(5,"\xa9"),s.Ob(),s.ec(6," 2021 nosir.in "),s.Ob(),s.Ob()),2&t&&(s.Bb(2),s.Xb("ngForOf",e.socialMedia))},directives:[J],styles:[".footer-component[_ngcontent-%COMP%]{width:100%;height:100px;background-color:#032214;color:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-direction:column}.footer-component[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%], .footer-component[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row}.footer-component[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#952e16;width:3rem;height:3rem;background-color:#f5f5f5;border-radius:50%;margin:.5rem;text-decoration:none;font-size:1.5rem;font-weight:bolder}.footer-component[_ngcontent-%COMP%]   .copy-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;font-size:.7rem}"]}),ck);function hk(t,e){1&t&&(s.Pb(0,"div",7),s.ec(1," Please Enter phone number for varification "),s.Ob())}var fk,dk=((fk=function(){function t(e,n,r){f(this,t),this.commonService=e,this.eventEmitterService=n,this.formBuilder=r,this.submitClicked=!1}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.initializeDemoForm(),this.selectedcourse=this.commonService.getSelectedCourse(),this.subscription=this.eventEmitterService.subscribe(function(e){return t.handleAppEvents(e)})}},{key:"handleAppEvents",value:function(t){}},{key:"initializeDemoForm",value:function(){this.bookDemoForm=this.formBuilder.group({phoneNumber:["",zw.required]})}},{key:"submit",value:function(){this.submitClicked=!0,this.bookDemoForm.valid&&this.eventEmitterService.emit({type:"SHOW_DEMO_POPUP",data:{display:!1}})}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||fk)(s.Mb(Sw),s.Mb(to),s.Mb(ik))},fk.\u0275cmp=s.Gb({type:fk,selectors:[["app-demo-popup"]],decls:11,vars:3,consts:[[1,"demo-popup-component"],[1,"pop-up"],[1,"course-name"],[3,"formGroup"],["type","number","placeholder","Enter your phone number","formControlName","phoneNumber"],["class","err",4,"ngIf"],[1,"submit",3,"click"],[1,"err"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.ec(3),s.Ob(),s.Pb(4,"form",3),s.Pb(5,"label"),s.ec(6,"Phone Number:"),s.Ob(),s.Nb(7,"input",4),s.dc(8,hk,2,0,"div",5),s.Pb(9,"div",6),s.Vb("click",function(){return e.submit()}),s.ec(10,"Submit"),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.Bb(3),s.gc(" ",e.selectedcourse.courseName," "),s.Bb(1),s.Xb("formGroup",e.bookDemoForm),s.Bb(4),s.Xb("ngIf",(null==e.bookDemoForm.controls.phoneNumber.errors?null:e.bookDemoForm.controls.phoneNumber.errors.required)&&e.submitClicked))},directives:[K_,p_,Z_,Q_,Vw,d_,tk,$],styles:[".demo-popup-component[_ngcontent-%COMP%]{width:100%;height:100vh;flex-direction:row;position:fixed;top:0;left:0;background-color:rgba(0,0,0,.7)}.demo-popup-component[_ngcontent-%COMP%], .demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{width:250px;padding:2rem;border:1px solid grey;border-radius:10px;background-color:#f5f5f5;flex-direction:column}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:700;margin-bottom:2rem}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:1.5rem}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:none;border-bottom:1px solid #952e16;outline:none;padding:5px 0}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#f5f5f5;background-color:#952e16;border-radius:10px;text-align:center;padding:1rem;margin-top:2rem}.demo-popup-component[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]}),fk);function pk(t,e){1&t&&s.Nb(0,"app-demo-popup")}var vk,yk=((vk=function(){function t(e){f(this,t),this.eventEmitterService=e,this.displayDemoPopUp=!1}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.subscription=this.eventEmitterService.subscribe(function(e){t.handleAppEvents(e)})}},{key:"handleAppEvents",value:function(t){switch(t.type){case"SHOW_DEMO_POPUP":this.displayDemoPopUp=t.data.display}}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||vk)(s.Mb(to))},vk.\u0275cmp=s.Gb({type:vk,selectors:[["app-root"]],decls:8,vars:1,consts:[[1,"header"],[4,"ngIf"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Nb(1,"app-header"),s.Ob(),s.Nb(2,"app-home"),s.Nb(3,"app-courses"),s.dc(4,pk,1,0,"app-demo-popup",1),s.Nb(5,"app-course-on-demand"),s.Nb(6,"app-contact-us"),s.Nb(7,"app-footer")),2&t&&(s.Bb(4),s.Xb("ngIf",e.displayDemoPopUp))},directives:[io,oo,Aw,$,xw,sk,lk,dk],styles:[".header[_ngcontent-%COMP%]{width:100%;position:fixed;top:0;left:0}"]}),vk),gk=function t(){f(this,t)},mk=function t(){f(this,t)},bk=function(){function t(e){var n=this;f(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return p(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,i(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),wk=function(){function t(){f(this,t)}return p(t,[{key:"encodeKey",value:function(t){return _k(t)}},{key:"encodeValue",value:function(t){return _k(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function _k(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var kk=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new wk,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return p(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function Ok(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Sk(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ck(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Ek=function(){function t(e,n,r,i){var o;if(f(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new bk),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new kk,this.urlWithParams=n}return p(t,[{key:"serializeBody",value:function(){return null===this.body?null:Ok(this.body)||Sk(this.body)||Ck(this.body)||"string"==typeof this.body?this.body:this.body instanceof kk?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Ck(this.body)?null:Sk(this.body)?this.body.type||null:Ok(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kk?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),Tk=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Ik=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";f(this,t),this.headers=e.headers||new bk,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Ak=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=Tk.ResponseHeader,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Ik),xk=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=Tk.Response,t.body=void 0!==r.body?r.body:null,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Ik),jk=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(Ik);function Pk(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Nk,Dk,Rk,Mk,Lk,Vk,Fk,Uk,qk,Bk,Hk=((Nk=function(){function t(e){f(this,t),this.handler=e}return p(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof Ek?n=t:(r=a.headers instanceof bk?a.headers:new bk(a.headers),a.params&&(i=a.params instanceof kk?a.params:new kk({fromObject:a.params})),n=new Ek(t,e,void 0!==a.body?a.body:null,{headers:r,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=Object(Wt.a)(n).pipe(Re(function(t){return o.handler.handle(t)}));if(t instanceof Ek||"events"===a.observe)return s;var u=s.pipe(Ie(function(t){return t instanceof xk}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(ve.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(ve.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(ve.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(ve.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new kk).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Pk(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Pk(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Pk(n,e))}}]),t}()).\u0275fac=function(t){return new(t||Nk)(s.Sb(gk))},Nk.\u0275prov=s.Ib({token:Nk,factory:Nk.\u0275fac}),Nk),zk=function(){function t(e,n){f(this,t),this.next=e,this.interceptor=n}return p(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Gk=new s.r("HTTP_INTERCEPTORS"),Kk=((Dk=function(){function t(){f(this,t)}return p(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Dk)},Dk.\u0275prov=s.Ib({token:Dk,factory:Dk.\u0275fac}),Dk),Wk=/^\)\]\}',?\n/,Qk=function t(){f(this,t)},Yk=((Mk=function(){function t(){f(this,t)}return p(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Mk)},Mk.\u0275prov=s.Ib({token:Mk,factory:Mk.\u0275fac}),Mk),Xk=((Rk=function(){function t(e){f(this,t),this.xhrFactory=e}return p(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new re.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new bk(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new Ak({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Wk,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new xk({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new jk({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new jk({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:Tk.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:Tk.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Tk.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||Rk)(s.Sb(Qk))},Rk.\u0275prov=s.Ib({token:Rk,factory:Rk.\u0275fac}),Rk),Jk=new s.r("XSRF_COOKIE_NAME"),Zk=new s.r("XSRF_HEADER_NAME"),$k=function t(){f(this,t)},tO=((qk=function(){function t(e,n,r){f(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return p(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=W(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||qk)(s.Sb(d),s.Sb(s.C),s.Sb(Jk))},qk.\u0275prov=s.Ib({token:qk,factory:qk.\u0275fac}),qk),eO=((Uk=function(){function t(e,n){f(this,t),this.tokenService=e,this.headerName=n}return p(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Uk)(s.Sb($k),s.Sb(Zk))},Uk.\u0275prov=s.Ib({token:Uk,factory:Uk.\u0275fac}),Uk),nO=((Fk=function(){function t(e,n){f(this,t),this.backend=e,this.injector=n,this.chain=null}return p(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Gk,[]);this.chain=e.reduceRight(function(t,e){return new zk(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Fk)(s.Sb(mk),s.Sb(s.s))},Fk.\u0275prov=s.Ib({token:Fk,factory:Fk.\u0275fac}),Fk),rO=((Vk=function(){function t(){f(this,t)}return p(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:eO,useClass:Kk}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Jk,useValue:e.cookieName}:[],e.headerName?{provide:Zk,useValue:e.headerName}:[]]}}}]),t}()).\u0275fac=function(t){return new(t||Vk)},Vk.\u0275mod=s.Kb({type:Vk}),Vk.\u0275inj=s.Jb({providers:[eO,{provide:Gk,useExisting:eO,multi:!0},{provide:$k,useClass:tO},{provide:Jk,useValue:"XSRF-TOKEN"},{provide:Zk,useValue:"X-XSRF-TOKEN"}]}),Vk),iO=((Lk=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Lk)},Lk.\u0275mod=s.Kb({type:Lk}),Lk.\u0275inj=s.Jb({providers:[Hk,{provide:gk,useClass:nO},Xk,{provide:mk,useExisting:Xk},Yk,{provide:Qk,useExisting:Yk}],imports:[[rO.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Lk),oO={apiKey:"AIzaSyC2Htyn_aEeBkmoAIvFrSzFzzJE-aqq6ZA",authDomain:"nosir-8ae69.firebaseapp.com",projectId:"nosir-8ae69",storageBucket:"nosir-8ae69.appspot.com",messagingSenderId:"967637510553",appId:"1:967637510553:web:d09bbf20408f740a640b08",measurementId:"G-D9JJRKWDEZ"},aO=((Bk=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Bk)},Bk.\u0275mod=s.Kb({type:Bk,bootstrap:[yk]}),Bk.\u0275inj=s.Jb({providers:[],imports:[[Gt,$i,iO,nk,rk,po.a.initializeApp(oO),kw]]}),Bk);Object(s.T)(),Ht().bootstrapModule(aO).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),a=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),s=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function u(t,e){if(!e.closed){if(t instanceof i.a)return t.subscribe(e);var n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}}},[[0,0]]])}();